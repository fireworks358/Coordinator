(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function l(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(u){if(u.ep)return;u.ep=!0;const f=l(u);fetch(u.href,f)}})();var Hc={exports:{}},ka={};var lp;function t0(){if(lp)return ka;lp=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var g in u)g!=="key"&&(f[g]=u[g])}else f=u;return u=f.ref,{$$typeof:a,type:r,key:h,ref:u!==void 0?u:null,props:f}}return ka.Fragment=n,ka.jsx=l,ka.jsxs=l,ka}var ap;function n0(){return ap||(ap=1,Hc.exports=t0()),Hc.exports}var H=n0(),Bc={exports:{}},P={};var sp;function i0(){if(sp)return P;sp=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),S=Symbol.iterator;function U(b){return b===null||typeof b!="object"?null:(b=S&&b[S]||b["@@iterator"],typeof b=="function"?b:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,ee={};function Re(b,L,q){this.props=b,this.context=L,this.refs=ee,this.updater=q||B}Re.prototype.isReactComponent={},Re.prototype.setState=function(b,L){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,L,"setState")},Re.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function ye(){}ye.prototype=Re.prototype;function ve(b,L,q){this.props=b,this.context=L,this.refs=ee,this.updater=q||B}var qe=ve.prototype=new ye;qe.constructor=ve,Q(qe,Re.prototype),qe.isPureReactComponent=!0;var jt=Array.isArray;function ut(){}var se={H:null,A:null,T:null,S:null},ct=Object.prototype.hasOwnProperty;function kt(b,L,q){var M=q.ref;return{$$typeof:a,type:b,key:L,ref:M!==void 0?M:null,props:q}}function gn(b,L){return kt(b.type,L,b.props)}function gt(b){return typeof b=="object"&&b!==null&&b.$$typeof===a}function et(b){var L={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(q){return L[q]})}var qt=/\/+/g;function pt(b,L){return typeof b=="object"&&b!==null&&b.key!=null?et(""+b.key):L.toString(36)}function Rt(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(ut,ut):(b.status="pending",b.then(function(L){b.status==="pending"&&(b.status="fulfilled",b.value=L)},function(L){b.status==="pending"&&(b.status="rejected",b.reason=L)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function x(b,L,q,M,j){var Y=typeof b;(Y==="undefined"||Y==="boolean")&&(b=null);var X=!1;if(b===null)X=!0;else switch(Y){case"bigint":case"string":case"number":X=!0;break;case"object":switch(b.$$typeof){case a:case n:X=!0;break;case T:return X=b._init,x(X(b._payload),L,q,M,j)}}if(X)return j=j(b),X=M===""?"."+pt(b,0):M,jt(j)?(q="",X!=null&&(q=X.replace(qt,"$&/")+"/"),x(j,L,q,"",function(jn){return jn})):j!=null&&(gt(j)&&(j=gn(j,q+(j.key==null||b&&b.key===j.key?"":(""+j.key).replace(qt,"$&/")+"/")+X)),L.push(j)),1;X=0;var ie=M===""?".":M+":";if(jt(b))for(var W=0;W<b.length;W++)M=b[W],Y=ie+pt(M,W),X+=x(M,L,q,Y,j);else if(W=U(b),typeof W=="function")for(b=W.call(b),W=0;!(M=b.next()).done;)M=M.value,Y=ie+pt(M,W++),X+=x(M,L,q,Y,j);else if(Y==="object"){if(typeof b.then=="function")return x(Rt(b),L,q,M,j);throw L=String(b),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return X}function k(b,L,q){if(b==null)return b;var M=[],j=0;return x(b,M,"","",function(Y){return L.call(q,Y,j++)}),M}function K(b){if(b._status===-1){var L=b._result;L=L(),L.then(function(q){(b._status===0||b._status===-1)&&(b._status=1,b._result=q)},function(q){(b._status===0||b._status===-1)&&(b._status=2,b._result=q)}),b._status===-1&&(b._status=0,b._result=L)}if(b._status===1)return b._result.default;throw b._result}var de=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},Ee={map:k,forEach:function(b,L,q){k(b,function(){L.apply(this,arguments)},q)},count:function(b){var L=0;return k(b,function(){L++}),L},toArray:function(b){return k(b,function(L){return L})||[]},only:function(b){if(!gt(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return P.Activity=v,P.Children=Ee,P.Component=Re,P.Fragment=l,P.Profiler=u,P.PureComponent=ve,P.StrictMode=r,P.Suspense=_,P.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,P.__COMPILER_RUNTIME={__proto__:null,c:function(b){return se.H.useMemoCache(b)}},P.cache=function(b){return function(){return b.apply(null,arguments)}},P.cacheSignal=function(){return null},P.cloneElement=function(b,L,q){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var M=Q({},b.props),j=b.key;if(L!=null)for(Y in L.key!==void 0&&(j=""+L.key),L)!ct.call(L,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&L.ref===void 0||(M[Y]=L[Y]);var Y=arguments.length-2;if(Y===1)M.children=q;else if(1<Y){for(var X=Array(Y),ie=0;ie<Y;ie++)X[ie]=arguments[ie+2];M.children=X}return kt(b.type,j,M)},P.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:f,_context:b},b},P.createElement=function(b,L,q){var M,j={},Y=null;if(L!=null)for(M in L.key!==void 0&&(Y=""+L.key),L)ct.call(L,M)&&M!=="key"&&M!=="__self"&&M!=="__source"&&(j[M]=L[M]);var X=arguments.length-2;if(X===1)j.children=q;else if(1<X){for(var ie=Array(X),W=0;W<X;W++)ie[W]=arguments[W+2];j.children=ie}if(b&&b.defaultProps)for(M in X=b.defaultProps,X)j[M]===void 0&&(j[M]=X[M]);return kt(b,Y,j)},P.createRef=function(){return{current:null}},P.forwardRef=function(b){return{$$typeof:g,render:b}},P.isValidElement=gt,P.lazy=function(b){return{$$typeof:T,_payload:{_status:-1,_result:b},_init:K}},P.memo=function(b,L){return{$$typeof:m,type:b,compare:L===void 0?null:L}},P.startTransition=function(b){var L=se.T,q={};se.T=q;try{var M=b(),j=se.S;j!==null&&j(q,M),typeof M=="object"&&M!==null&&typeof M.then=="function"&&M.then(ut,de)}catch(Y){de(Y)}finally{L!==null&&q.types!==null&&(L.types=q.types),se.T=L}},P.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},P.use=function(b){return se.H.use(b)},P.useActionState=function(b,L,q){return se.H.useActionState(b,L,q)},P.useCallback=function(b,L){return se.H.useCallback(b,L)},P.useContext=function(b){return se.H.useContext(b)},P.useDebugValue=function(){},P.useDeferredValue=function(b,L){return se.H.useDeferredValue(b,L)},P.useEffect=function(b,L){return se.H.useEffect(b,L)},P.useEffectEvent=function(b){return se.H.useEffectEvent(b)},P.useId=function(){return se.H.useId()},P.useImperativeHandle=function(b,L,q){return se.H.useImperativeHandle(b,L,q)},P.useInsertionEffect=function(b,L){return se.H.useInsertionEffect(b,L)},P.useLayoutEffect=function(b,L){return se.H.useLayoutEffect(b,L)},P.useMemo=function(b,L){return se.H.useMemo(b,L)},P.useOptimistic=function(b,L){return se.H.useOptimistic(b,L)},P.useReducer=function(b,L,q){return se.H.useReducer(b,L,q)},P.useRef=function(b){return se.H.useRef(b)},P.useState=function(b){return se.H.useState(b)},P.useSyncExternalStore=function(b,L,q){return se.H.useSyncExternalStore(b,L,q)},P.useTransition=function(){return se.H.useTransition()},P.version="19.2.3",P}var rp;function Sf(){return rp||(rp=1,Bc.exports=i0()),Bc.exports}var ne=Sf(),Ic={exports:{}},qa={},jc={exports:{}},kc={};var op;function l0(){return op||(op=1,(function(a){function n(x,k){var K=x.length;x.push(k);e:for(;0<K;){var de=K-1>>>1,Ee=x[de];if(0<u(Ee,k))x[de]=k,x[K]=Ee,K=de;else break e}}function l(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var k=x[0],K=x.pop();if(K!==k){x[0]=K;e:for(var de=0,Ee=x.length,b=Ee>>>1;de<b;){var L=2*(de+1)-1,q=x[L],M=L+1,j=x[M];if(0>u(q,K))M<Ee&&0>u(j,q)?(x[de]=j,x[M]=K,de=M):(x[de]=q,x[L]=K,de=L);else if(M<Ee&&0>u(j,K))x[de]=j,x[M]=K,de=M;else break e}}return k}function u(x,k){var K=x.sortIndex-k.sortIndex;return K!==0?K:x.id-k.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var h=Date,g=h.now();a.unstable_now=function(){return h.now()-g}}var _=[],m=[],T=1,v=null,S=3,U=!1,B=!1,Q=!1,ee=!1,Re=typeof setTimeout=="function"?setTimeout:null,ye=typeof clearTimeout=="function"?clearTimeout:null,ve=typeof setImmediate<"u"?setImmediate:null;function qe(x){for(var k=l(m);k!==null;){if(k.callback===null)r(m);else if(k.startTime<=x)r(m),k.sortIndex=k.expirationTime,n(_,k);else break;k=l(m)}}function jt(x){if(Q=!1,qe(x),!B)if(l(_)!==null)B=!0,ut||(ut=!0,et());else{var k=l(m);k!==null&&Rt(jt,k.startTime-x)}}var ut=!1,se=-1,ct=5,kt=-1;function gn(){return ee?!0:!(a.unstable_now()-kt<ct)}function gt(){if(ee=!1,ut){var x=a.unstable_now();kt=x;var k=!0;try{e:{B=!1,Q&&(Q=!1,ye(se),se=-1),U=!0;var K=S;try{t:{for(qe(x),v=l(_);v!==null&&!(v.expirationTime>x&&gn());){var de=v.callback;if(typeof de=="function"){v.callback=null,S=v.priorityLevel;var Ee=de(v.expirationTime<=x);if(x=a.unstable_now(),typeof Ee=="function"){v.callback=Ee,qe(x),k=!0;break t}v===l(_)&&r(_),qe(x)}else r(_);v=l(_)}if(v!==null)k=!0;else{var b=l(m);b!==null&&Rt(jt,b.startTime-x),k=!1}}break e}finally{v=null,S=K,U=!1}k=void 0}}finally{k?et():ut=!1}}}var et;if(typeof ve=="function")et=function(){ve(gt)};else if(typeof MessageChannel<"u"){var qt=new MessageChannel,pt=qt.port2;qt.port1.onmessage=gt,et=function(){pt.postMessage(null)}}else et=function(){Re(gt,0)};function Rt(x,k){se=Re(function(){x(a.unstable_now())},k)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(x){x.callback=null},a.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ct=0<x?Math.floor(1e3/x):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(x){switch(S){case 1:case 2:case 3:var k=3;break;default:k=S}var K=S;S=k;try{return x()}finally{S=K}},a.unstable_requestPaint=function(){ee=!0},a.unstable_runWithPriority=function(x,k){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var K=S;S=x;try{return k()}finally{S=K}},a.unstable_scheduleCallback=function(x,k,K){var de=a.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?de+K:de):K=de,x){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=K+Ee,x={id:T++,callback:k,priorityLevel:x,startTime:K,expirationTime:Ee,sortIndex:-1},K>de?(x.sortIndex=K,n(m,x),l(_)===null&&x===l(m)&&(Q?(ye(se),se=-1):Q=!0,Rt(jt,K-de))):(x.sortIndex=Ee,n(_,x),B||U||(B=!0,ut||(ut=!0,et()))),x},a.unstable_shouldYield=gn,a.unstable_wrapCallback=function(x){var k=S;return function(){var K=S;S=k;try{return x.apply(this,arguments)}finally{S=K}}}})(kc)),kc}var up;function a0(){return up||(up=1,jc.exports=l0()),jc.exports}var qc={exports:{}},ft={};var cp;function s0(){if(cp)return ft;cp=1;var a=Sf();function n(_){var m="https://react.dev/errors/"+_;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)m+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(_,m,T){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:v==null?null:""+v,children:_,containerInfo:m,implementation:T}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,m){if(_==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ft.createPortal=function(_,m){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return f(_,m,null,T)},ft.flushSync=function(_){var m=h.T,T=r.p;try{if(h.T=null,r.p=2,_)return _()}finally{h.T=m,r.p=T,r.d.f()}},ft.preconnect=function(_,m){typeof _=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(_,m))},ft.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},ft.preinit=function(_,m){if(typeof _=="string"&&m&&typeof m.as=="string"){var T=m.as,v=g(T,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,U=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;T==="style"?r.d.S(_,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:U}):T==="script"&&r.d.X(_,{crossOrigin:v,integrity:S,fetchPriority:U,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ft.preinitModule=function(_,m){if(typeof _=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var T=g(m.as,m.crossOrigin);r.d.M(_,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(_)},ft.preload=function(_,m){if(typeof _=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var T=m.as,v=g(T,m.crossOrigin);r.d.L(_,T,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ft.preloadModule=function(_,m){if(typeof _=="string")if(m){var T=g(m.as,m.crossOrigin);r.d.m(_,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(_)},ft.requestFormReset=function(_){r.d.r(_)},ft.unstable_batchedUpdates=function(_,m){return _(m)},ft.useFormState=function(_,m,T){return h.H.useFormState(_,m,T)},ft.useFormStatus=function(){return h.H.useHostTransitionStatus()},ft.version="19.2.3",ft}var fp;function r0(){if(fp)return qc.exports;fp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),qc.exports=s0(),qc.exports}var hp;function o0(){if(hp)return qa;hp=1;var a=a0(),n=Sf(),l=r0();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _(e){if(f(e)!==e)throw Error(r(188))}function m(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,s=t;;){var o=i.return;if(o===null)break;var c=o.alternate;if(c===null){if(s=o.return,s!==null){i=s;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===i)return _(o),e;if(c===s)return _(o),t;c=c.sibling}throw Error(r(188))}if(i.return!==s.return)i=o,s=c;else{for(var d=!1,p=o.child;p;){if(p===i){d=!0,i=o,s=c;break}if(p===s){d=!0,s=o,i=c;break}p=p.sibling}if(!d){for(p=c.child;p;){if(p===i){d=!0,i=c,s=o;break}if(p===s){d=!0,s=c,i=o;break}p=p.sibling}if(!d)throw Error(r(189))}}if(i.alternate!==s)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function T(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=T(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),Re=Symbol.for("react.profiler"),ye=Symbol.for("react.consumer"),ve=Symbol.for("react.context"),qe=Symbol.for("react.forward_ref"),jt=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),ct=Symbol.for("react.lazy"),kt=Symbol.for("react.activity"),gn=Symbol.for("react.memo_cache_sentinel"),gt=Symbol.iterator;function et(e){return e===null||typeof e!="object"?null:(e=gt&&e[gt]||e["@@iterator"],typeof e=="function"?e:null)}var qt=Symbol.for("react.client.reference");function pt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===qt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case Re:return"Profiler";case ee:return"StrictMode";case jt:return"Suspense";case ut:return"SuspenseList";case kt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case B:return"Portal";case ve:return e.displayName||"Context";case ye:return(e._context.displayName||"Context")+".Consumer";case qe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case se:return t=e.displayName||null,t!==null?t:pt(e.type)||"Memo";case ct:t=e._payload,e=e._init;try{return pt(e(t))}catch{}}return null}var Rt=Array.isArray,x=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},de=[],Ee=-1;function b(e){return{current:e}}function L(e){0>Ee||(e.current=de[Ee],de[Ee]=null,Ee--)}function q(e,t){Ee++,de[Ee]=e.current,e.current=t}var M=b(null),j=b(null),Y=b(null),X=b(null);function ie(e,t){switch(q(Y,t),q(j,e),q(M,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Rg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Rg(t),e=Dg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(M),q(M,e)}function W(){L(M),L(j),L(Y)}function jn(e){e.memoizedState!==null&&q(X,e);var t=M.current,i=Dg(t,e.type);t!==i&&(q(j,e),q(M,i))}function en(e){j.current===e&&(L(M),L(j)),X.current===e&&(L(X),Ha._currentValue=K)}var tn,vi;function un(e){if(tn===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);tn=t&&t[1]||"",vi=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tn+e+vi}var Xi=!1;function Fi(e,t){if(!e||Xi)return"";Xi=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(D){var R=D}Reflect.construct(e,[],z)}else{try{z.call()}catch(D){R=D}e.call(z.prototype)}}else{try{throw Error()}catch(D){R=D}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(D){if(D&&R&&typeof D.stack=="string")return[D.stack,R.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=s.DetermineComponentFrameRoot(),d=c[0],p=c[1];if(d&&p){var y=d.split(`
`),N=p.split(`
`);for(o=s=0;s<y.length&&!y[s].includes("DetermineComponentFrameRoot");)s++;for(;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;if(s===y.length||o===N.length)for(s=y.length-1,o=N.length-1;1<=s&&0<=o&&y[s]!==N[o];)o--;for(;1<=s&&0<=o;s--,o--)if(y[s]!==N[o]){if(s!==1||o!==1)do if(s--,o--,0>o||y[s]!==N[o]){var O=`
`+y[s].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=s&&0<=o);break}}}finally{Xi=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?un(i):""}function wy(e,t){switch(e.tag){case 26:case 27:case 5:return un(e.type);case 16:return un("Lazy");case 13:return e.child!==t&&t!==null?un("Suspense Fallback"):un("Suspense");case 19:return un("SuspenseList");case 0:case 15:return Fi(e.type,!1);case 11:return Fi(e.type.render,!1);case 1:return Fi(e.type,!0);case 31:return un("Activity");default:return""}}function lh(e){try{var t="",i=null;do t+=wy(e,i),i=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var So=Object.prototype.hasOwnProperty,bo=a.unstable_scheduleCallback,To=a.unstable_cancelCallback,zy=a.unstable_shouldYield,Ly=a.unstable_requestPaint,Dt=a.unstable_now,Uy=a.unstable_getCurrentPriorityLevel,ah=a.unstable_ImmediatePriority,sh=a.unstable_UserBlockingPriority,ys=a.unstable_NormalPriority,Hy=a.unstable_LowPriority,rh=a.unstable_IdlePriority,By=a.log,Iy=a.unstable_setDisableYieldValue,Kl=null,Ot=null;function kn(e){if(typeof By=="function"&&Iy(e),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(Kl,e)}catch{}}var xt=Math.clz32?Math.clz32:qy,jy=Math.log,ky=Math.LN2;function qy(e){return e>>>=0,e===0?32:31-(jy(e)/ky|0)|0}var vs=256,Es=262144,Ss=4194304;function Ei(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bs(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var o=0,c=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var p=s&134217727;return p!==0?(s=p&~c,s!==0?o=Ei(s):(d&=p,d!==0?o=Ei(d):i||(i=p&~e,i!==0&&(o=Ei(i))))):(p=s&~c,p!==0?o=Ei(p):d!==0?o=Ei(d):i||(i=s&~e,i!==0&&(o=Ei(i)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,i=t&-t,c>=i||c===32&&(i&4194048)!==0)?t:o}function Zl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Yy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oh(){var e=Ss;return Ss<<=1,(Ss&62914560)===0&&(Ss=4194304),e}function Co(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Jl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Gy(e,t,i,s,o,c){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var p=e.entanglements,y=e.expirationTimes,N=e.hiddenUpdates;for(i=d&~i;0<i;){var O=31-xt(i),z=1<<O;p[O]=0,y[O]=-1;var R=N[O];if(R!==null)for(N[O]=null,O=0;O<R.length;O++){var D=R[O];D!==null&&(D.lane&=-536870913)}i&=~z}s!==0&&uh(e,s,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(d&~t))}function uh(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-xt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function ch(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-xt(i),o=1<<s;o&t|e[s]&t&&(e[s]|=t),i&=~o}}function fh(e,t){var i=t&-t;return i=(i&42)!==0?1:Ao(i),(i&(e.suspendedLanes|t))!==0?0:i}function Ao(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function No(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function hh(){var e=k.p;return e!==0?e:(e=window.event,e===void 0?32:Pg(e.type))}function dh(e,t){var i=k.p;try{return k.p=e,t()}finally{k.p=i}}var qn=Math.random().toString(36).slice(2),tt="__reactFiber$"+qn,_t="__reactProps$"+qn,Ki="__reactContainer$"+qn,Ro="__reactEvents$"+qn,Vy="__reactListeners$"+qn,Qy="__reactHandles$"+qn,mh="__reactResources$"+qn,Pl="__reactMarker$"+qn;function Do(e){delete e[tt],delete e[_t],delete e[Ro],delete e[Vy],delete e[Qy]}function Zi(e){var t=e[tt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Ki]||i[tt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Ug(e);e!==null;){if(i=e[tt])return i;e=Ug(e)}return t}e=i,i=e.parentNode}return null}function Ji(e){if(e=e[tt]||e[Ki]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Wl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Pi(e){var t=e[mh];return t||(t=e[mh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[Pl]=!0}var gh=new Set,ph={};function Si(e,t){Wi(e,t),Wi(e+"Capture",t)}function Wi(e,t){for(ph[e]=t,e=0;e<t.length;e++)gh.add(t[e])}var Xy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_h={},yh={};function Fy(e){return So.call(yh,e)?!0:So.call(_h,e)?!1:Xy.test(e)?yh[e]=!0:(_h[e]=!0,!1)}function Ts(e,t,i){if(Fy(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Cs(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function pn(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}function Yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ky(e,t,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,c=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){i=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oo(e){if(!e._valueTracker){var t=vh(e)?"checked":"value";e._valueTracker=Ky(e,t,""+e[t])}}function Eh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=vh(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function As(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zy=/[\n"\\]/g;function Gt(e){return e.replace(Zy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function xo(e,t,i,s,o,c,d,p){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Yt(t)):e.value!==""+Yt(t)&&(e.value=""+Yt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?Mo(e,d,Yt(t)):i!=null?Mo(e,d,Yt(i)):s!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+Yt(p):e.removeAttribute("name")}function Sh(e,t,i,s,o,c,d,p){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Oo(e);return}i=i!=null?""+Yt(i):"",t=t!=null?""+Yt(t):i,p||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=p?e.checked:!!s,e.defaultChecked=!!s,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),Oo(e)}function Mo(e,t,i){t==="number"&&As(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function $i(e,t,i,s){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&s&&(e[i].defaultSelected=!0)}else{for(i=""+Yt(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function bh(e,t,i){if(t!=null&&(t=""+Yt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Yt(i):""}function Th(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(r(92));if(Rt(s)){if(1<s.length)throw Error(r(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=Yt(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),Oo(e)}function el(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Jy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ch(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||Jy.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Ah(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&i[o]!==s&&Ch(e,o,s)}else for(var c in t)t.hasOwnProperty(c)&&Ch(e,c,t[c])}function wo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Py=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ns(e){return Wy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function _n(){}var zo=null;function Lo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tl=null,nl=null;function Nh(e){var t=Ji(e);if(t&&(e=t.stateNode)){var i=e[_t]||null;e:switch(e=t.stateNode,t.type){case"input":if(xo(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Gt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var o=s[_t]||null;if(!o)throw Error(r(90));xo(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&Eh(s)}break e;case"textarea":bh(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&$i(e,!!i.multiple,t,!1)}}}var Uo=!1;function Rh(e,t,i){if(Uo)return e(t,i);Uo=!0;try{var s=e(t);return s}finally{if(Uo=!1,(tl!==null||nl!==null)&&(dr(),tl&&(t=tl,e=nl,nl=tl=null,Nh(t),e)))for(t=0;t<e.length;t++)Nh(e[t])}}function $l(e,t){var i=e.stateNode;if(i===null)return null;var s=i[_t]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ho=!1;if(yn)try{var ea={};Object.defineProperty(ea,"passive",{get:function(){Ho=!0}}),window.addEventListener("test",ea,ea),window.removeEventListener("test",ea,ea)}catch{Ho=!1}var Yn=null,Bo=null,Rs=null;function Dh(){if(Rs)return Rs;var e,t=Bo,i=t.length,s,o="value"in Yn?Yn.value:Yn.textContent,c=o.length;for(e=0;e<i&&t[e]===o[e];e++);var d=i-e;for(s=1;s<=d&&t[i-s]===o[c-s];s++);return Rs=o.slice(e,1<s?1-s:void 0)}function Ds(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Os(){return!0}function Oh(){return!1}function yt(e){function t(i,s,o,c,d){this._reactName=i,this._targetInst=o,this.type=s,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(i=e[p],this[p]=i?i(c):c[p]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Os:Oh,this.isPropagationStopped=Oh,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Os)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Os)},persist:function(){},isPersistent:Os}),t}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xs=yt(bi),ta=v({},bi,{view:0,detail:0}),$y=yt(ta),Io,jo,na,Ms=v({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==na&&(na&&e.type==="mousemove"?(Io=e.screenX-na.screenX,jo=e.screenY-na.screenY):jo=Io=0,na=e),Io)},movementY:function(e){return"movementY"in e?e.movementY:jo}}),xh=yt(Ms),ev=v({},Ms,{dataTransfer:0}),tv=yt(ev),nv=v({},ta,{relatedTarget:0}),ko=yt(nv),iv=v({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),lv=yt(iv),av=v({},bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sv=yt(av),rv=v({},bi,{data:0}),Mh=yt(rv),ov={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cv[e])?!!t[e]:!1}function qo(){return fv}var hv=v({},ta,{key:function(e){if(e.key){var t=ov[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qo,charCode:function(e){return e.type==="keypress"?Ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dv=yt(hv),mv=v({},Ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wh=yt(mv),gv=v({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qo}),pv=yt(gv),_v=v({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),yv=yt(_v),vv=v({},Ms,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ev=yt(vv),Sv=v({},bi,{newState:0,oldState:0}),bv=yt(Sv),Tv=[9,13,27,32],Yo=yn&&"CompositionEvent"in window,ia=null;yn&&"documentMode"in document&&(ia=document.documentMode);var Cv=yn&&"TextEvent"in window&&!ia,zh=yn&&(!Yo||ia&&8<ia&&11>=ia),Lh=" ",Uh=!1;function Hh(e,t){switch(e){case"keyup":return Tv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var il=!1;function Av(e,t){switch(e){case"compositionend":return Bh(t);case"keypress":return t.which!==32?null:(Uh=!0,Lh);case"textInput":return e=t.data,e===Lh&&Uh?null:e;default:return null}}function Nv(e,t){if(il)return e==="compositionend"||!Yo&&Hh(e,t)?(e=Dh(),Rs=Bo=Yn=null,il=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zh&&t.locale!=="ko"?null:t.data;default:return null}}var Rv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ih(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rv[e.type]:t==="textarea"}function jh(e,t,i,s){tl?nl?nl.push(s):nl=[s]:tl=s,t=Er(t,"onChange"),0<t.length&&(i=new xs("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var la=null,aa=null;function Dv(e){Sg(e,0)}function ws(e){var t=Wl(e);if(Eh(t))return e}function kh(e,t){if(e==="change")return t}var qh=!1;if(yn){var Go;if(yn){var Vo="oninput"in document;if(!Vo){var Yh=document.createElement("div");Yh.setAttribute("oninput","return;"),Vo=typeof Yh.oninput=="function"}Go=Vo}else Go=!1;qh=Go&&(!document.documentMode||9<document.documentMode)}function Gh(){la&&(la.detachEvent("onpropertychange",Vh),aa=la=null)}function Vh(e){if(e.propertyName==="value"&&ws(aa)){var t=[];jh(t,aa,e,Lo(e)),Rh(Dv,t)}}function Ov(e,t,i){e==="focusin"?(Gh(),la=t,aa=i,la.attachEvent("onpropertychange",Vh)):e==="focusout"&&Gh()}function xv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ws(aa)}function Mv(e,t){if(e==="click")return ws(t)}function wv(e,t){if(e==="input"||e==="change")return ws(t)}function zv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mt=typeof Object.is=="function"?Object.is:zv;function sa(e,t){if(Mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var o=i[s];if(!So.call(t,o)||!Mt(e[o],t[o]))return!1}return!0}function Qh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xh(e,t){var i=Qh(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Qh(i)}}function Fh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=As(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=As(e.document)}return t}function Qo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Lv=yn&&"documentMode"in document&&11>=document.documentMode,ll=null,Xo=null,ra=null,Fo=!1;function Zh(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Fo||ll==null||ll!==As(s)||(s=ll,"selectionStart"in s&&Qo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ra&&sa(ra,s)||(ra=s,s=Er(Xo,"onSelect"),0<s.length&&(t=new xs("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=ll)))}function Ti(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var al={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionrun:Ti("Transition","TransitionRun"),transitionstart:Ti("Transition","TransitionStart"),transitioncancel:Ti("Transition","TransitionCancel"),transitionend:Ti("Transition","TransitionEnd")},Ko={},Jh={};yn&&(Jh=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function Ci(e){if(Ko[e])return Ko[e];if(!al[e])return e;var t=al[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Jh)return Ko[e]=t[i];return e}var Ph=Ci("animationend"),Wh=Ci("animationiteration"),$h=Ci("animationstart"),Uv=Ci("transitionrun"),Hv=Ci("transitionstart"),Bv=Ci("transitioncancel"),ed=Ci("transitionend"),td=new Map,Zo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zo.push("scrollEnd");function nn(e,t){td.set(e,t),Si(t,[e])}var zs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vt=[],sl=0,Jo=0;function Ls(){for(var e=sl,t=Jo=sl=0;t<e;){var i=Vt[t];Vt[t++]=null;var s=Vt[t];Vt[t++]=null;var o=Vt[t];Vt[t++]=null;var c=Vt[t];if(Vt[t++]=null,s!==null&&o!==null){var d=s.pending;d===null?o.next=o:(o.next=d.next,d.next=o),s.pending=o}c!==0&&nd(i,o,c)}}function Us(e,t,i,s){Vt[sl++]=e,Vt[sl++]=t,Vt[sl++]=i,Vt[sl++]=s,Jo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Po(e,t,i,s){return Us(e,t,i,s),Hs(e)}function Ai(e,t){return Us(e,null,null,t),Hs(e)}function nd(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var o=!1,c=e.return;c!==null;)c.childLanes|=i,s=c.alternate,s!==null&&(s.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-xt(i),e=c.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=i|536870912),c):null}function Hs(e){if(50<Oa)throw Oa=0,sc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var rl={};function Iv(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,i,s){return new Iv(e,t,i,s)}function Wo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vn(e,t){var i=e.alternate;return i===null?(i=wt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function id(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bs(e,t,i,s,o,c){var d=0;if(s=e,typeof e=="function")Wo(e)&&(d=1);else if(typeof e=="string")d=GE(e,i,M.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case kt:return e=wt(31,i,t,o),e.elementType=kt,e.lanes=c,e;case Q:return Ni(i.children,o,c,t);case ee:d=8,o|=24;break;case Re:return e=wt(12,i,t,o|2),e.elementType=Re,e.lanes=c,e;case jt:return e=wt(13,i,t,o),e.elementType=jt,e.lanes=c,e;case ut:return e=wt(19,i,t,o),e.elementType=ut,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ve:d=10;break e;case ye:d=9;break e;case qe:d=11;break e;case se:d=14;break e;case ct:d=16,s=null;break e}d=29,i=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=wt(d,i,t,o),t.elementType=e,t.type=s,t.lanes=c,t}function Ni(e,t,i,s){return e=wt(7,e,s,t),e.lanes=i,e}function $o(e,t,i){return e=wt(6,e,null,t),e.lanes=i,e}function ld(e){var t=wt(18,null,null,0);return t.stateNode=e,t}function eu(e,t,i){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ad=new WeakMap;function Qt(e,t){if(typeof e=="object"&&e!==null){var i=ad.get(e);return i!==void 0?i:(t={value:e,source:t,stack:lh(t)},ad.set(e,t),t)}return{value:e,source:t,stack:lh(t)}}var ol=[],ul=0,Is=null,oa=0,Xt=[],Ft=0,Gn=null,cn=1,fn="";function En(e,t){ol[ul++]=oa,ol[ul++]=Is,Is=e,oa=t}function sd(e,t,i){Xt[Ft++]=cn,Xt[Ft++]=fn,Xt[Ft++]=Gn,Gn=e;var s=cn;e=fn;var o=32-xt(s)-1;s&=~(1<<o),i+=1;var c=32-xt(t)+o;if(30<c){var d=o-o%5;c=(s&(1<<d)-1).toString(32),s>>=d,o-=d,cn=1<<32-xt(t)+o|i<<o|s,fn=c+e}else cn=1<<c|i<<o|s,fn=e}function tu(e){e.return!==null&&(En(e,1),sd(e,1,0))}function nu(e){for(;e===Is;)Is=ol[--ul],ol[ul]=null,oa=ol[--ul],ol[ul]=null;for(;e===Gn;)Gn=Xt[--Ft],Xt[Ft]=null,fn=Xt[--Ft],Xt[Ft]=null,cn=Xt[--Ft],Xt[Ft]=null}function rd(e,t){Xt[Ft++]=cn,Xt[Ft++]=fn,Xt[Ft++]=Gn,cn=t.id,fn=t.overflow,Gn=e}var nt=null,we=null,he=!1,Vn=null,Kt=!1,iu=Error(r(519));function Qn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ua(Qt(t,e)),iu}function od(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[tt]=e,t[_t]=s,i){case"dialog":oe("cancel",t),oe("close",t);break;case"iframe":case"object":case"embed":oe("load",t);break;case"video":case"audio":for(i=0;i<Ma.length;i++)oe(Ma[i],t);break;case"source":oe("error",t);break;case"img":case"image":case"link":oe("error",t),oe("load",t);break;case"details":oe("toggle",t);break;case"input":oe("invalid",t),Sh(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":oe("invalid",t);break;case"textarea":oe("invalid",t),Th(t,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||Ag(t.textContent,i)?(s.popover!=null&&(oe("beforetoggle",t),oe("toggle",t)),s.onScroll!=null&&oe("scroll",t),s.onScrollEnd!=null&&oe("scrollend",t),s.onClick!=null&&(t.onclick=_n),t=!0):t=!1,t||Qn(e,!0)}function ud(e){for(nt=e.return;nt;)switch(nt.tag){case 5:case 31:case 13:Kt=!1;return;case 27:case 3:Kt=!0;return;default:nt=nt.return}}function cl(e){if(e!==nt)return!1;if(!he)return ud(e),he=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Sc(e.type,e.memoizedProps)),i=!i),i&&we&&Qn(e),ud(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));we=Lg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));we=Lg(e)}else t===27?(t=we,ai(e.type)?(e=Nc,Nc=null,we=e):we=t):we=nt?Jt(e.stateNode.nextSibling):null;return!0}function Ri(){we=nt=null,he=!1}function lu(){var e=Vn;return e!==null&&(bt===null?bt=e:bt.push.apply(bt,e),Vn=null),e}function ua(e){Vn===null?Vn=[e]:Vn.push(e)}var au=b(null),Di=null,Sn=null;function Xn(e,t,i){q(au,t._currentValue),t._currentValue=i}function bn(e){e._currentValue=au.current,L(au)}function su(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function ru(e,t,i,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var d=o.child;c=c.firstContext;e:for(;c!==null;){var p=c;c=o;for(var y=0;y<t.length;y++)if(p.context===t[y]){c.lanes|=i,p=c.alternate,p!==null&&(p.lanes|=i),su(c.return,i,e),s||(d=null);break e}c=p.next}}else if(o.tag===18){if(d=o.return,d===null)throw Error(r(341));d.lanes|=i,c=d.alternate,c!==null&&(c.lanes|=i),su(d,i,e),d=null}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===e){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}}function fl(e,t,i,s){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var d=o.alternate;if(d===null)throw Error(r(387));if(d=d.memoizedProps,d!==null){var p=o.type;Mt(o.pendingProps.value,d.value)||(e!==null?e.push(p):e=[p])}}else if(o===X.current){if(d=o.alternate,d===null)throw Error(r(387));d.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ha):e=[Ha])}o=o.return}e!==null&&ru(t,e,i,s),t.flags|=262144}function js(e){for(e=e.firstContext;e!==null;){if(!Mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Oi(e){Di=e,Sn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function it(e){return cd(Di,e)}function ks(e,t){return Di===null&&Oi(e),cd(e,t)}function cd(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Sn===null){if(e===null)throw Error(r(308));Sn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Sn=Sn.next=t;return i}var jv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},kv=a.unstable_scheduleCallback,qv=a.unstable_NormalPriority,Ye={$$typeof:ve,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ou(){return{controller:new jv,data:new Map,refCount:0}}function ca(e){e.refCount--,e.refCount===0&&kv(qv,function(){e.controller.abort()})}var fa=null,uu=0,hl=0,dl=null;function Yv(e,t){if(fa===null){var i=fa=[];uu=0,hl=hc(),dl={status:"pending",value:void 0,then:function(s){i.push(s)}}}return uu++,t.then(fd,fd),t}function fd(){if(--uu===0&&fa!==null){dl!==null&&(dl.status="fulfilled");var e=fa;fa=null,hl=0,dl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Gv(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),s}var hd=x.S;x.S=function(e,t){Zm=Dt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Yv(e,t),hd!==null&&hd(e,t)};var xi=b(null);function cu(){var e=xi.current;return e!==null?e:De.pooledCache}function qs(e,t){t===null?q(xi,xi.current):q(xi,t.pool)}function dd(){var e=cu();return e===null?null:{parent:Ye._currentValue,pool:e}}var ml=Error(r(460)),fu=Error(r(474)),Ys=Error(r(542)),Gs={then:function(){}};function md(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gd(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(_n,_n),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_d(e),e;default:if(typeof t.status=="string")t.then(_n,_n);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_d(e),e}throw wi=t,ml}}function Mi(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(wi=i,ml):i}}var wi=null;function pd(){if(wi===null)throw Error(r(459));var e=wi;return wi=null,e}function _d(e){if(e===ml||e===Ys)throw Error(r(483))}var gl=null,ha=0;function Vs(e){var t=ha;return ha+=1,gl===null&&(gl=[]),gd(gl,e,t)}function da(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Qs(e,t){throw t.$$typeof===S?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function yd(e){function t(C,E){if(e){var A=C.deletions;A===null?(C.deletions=[E],C.flags|=16):A.push(E)}}function i(C,E){if(!e)return null;for(;E!==null;)t(C,E),E=E.sibling;return null}function s(C){for(var E=new Map;C!==null;)C.key!==null?E.set(C.key,C):E.set(C.index,C),C=C.sibling;return E}function o(C,E){return C=vn(C,E),C.index=0,C.sibling=null,C}function c(C,E,A){return C.index=A,e?(A=C.alternate,A!==null?(A=A.index,A<E?(C.flags|=67108866,E):A):(C.flags|=67108866,E)):(C.flags|=1048576,E)}function d(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function p(C,E,A,w){return E===null||E.tag!==6?(E=$o(A,C.mode,w),E.return=C,E):(E=o(E,A),E.return=C,E)}function y(C,E,A,w){var F=A.type;return F===Q?O(C,E,A.props.children,w,A.key):E!==null&&(E.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ct&&Mi(F)===E.type)?(E=o(E,A.props),da(E,A),E.return=C,E):(E=Bs(A.type,A.key,A.props,null,C.mode,w),da(E,A),E.return=C,E)}function N(C,E,A,w){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=eu(A,C.mode,w),E.return=C,E):(E=o(E,A.children||[]),E.return=C,E)}function O(C,E,A,w,F){return E===null||E.tag!==7?(E=Ni(A,C.mode,w,F),E.return=C,E):(E=o(E,A),E.return=C,E)}function z(C,E,A){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=$o(""+E,C.mode,A),E.return=C,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case U:return A=Bs(E.type,E.key,E.props,null,C.mode,A),da(A,E),A.return=C,A;case B:return E=eu(E,C.mode,A),E.return=C,E;case ct:return E=Mi(E),z(C,E,A)}if(Rt(E)||et(E))return E=Ni(E,C.mode,A,null),E.return=C,E;if(typeof E.then=="function")return z(C,Vs(E),A);if(E.$$typeof===ve)return z(C,ks(C,E),A);Qs(C,E)}return null}function R(C,E,A,w){var F=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return F!==null?null:p(C,E,""+A,w);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case U:return A.key===F?y(C,E,A,w):null;case B:return A.key===F?N(C,E,A,w):null;case ct:return A=Mi(A),R(C,E,A,w)}if(Rt(A)||et(A))return F!==null?null:O(C,E,A,w,null);if(typeof A.then=="function")return R(C,E,Vs(A),w);if(A.$$typeof===ve)return R(C,E,ks(C,A),w);Qs(C,A)}return null}function D(C,E,A,w,F){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return C=C.get(A)||null,p(E,C,""+w,F);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case U:return C=C.get(w.key===null?A:w.key)||null,y(E,C,w,F);case B:return C=C.get(w.key===null?A:w.key)||null,N(E,C,w,F);case ct:return w=Mi(w),D(C,E,A,w,F)}if(Rt(w)||et(w))return C=C.get(A)||null,O(E,C,w,F,null);if(typeof w.then=="function")return D(C,E,A,Vs(w),F);if(w.$$typeof===ve)return D(C,E,A,ks(E,w),F);Qs(E,w)}return null}function G(C,E,A,w){for(var F=null,me=null,V=E,te=E=0,fe=null;V!==null&&te<A.length;te++){V.index>te?(fe=V,V=null):fe=V.sibling;var ge=R(C,V,A[te],w);if(ge===null){V===null&&(V=fe);break}e&&V&&ge.alternate===null&&t(C,V),E=c(ge,E,te),me===null?F=ge:me.sibling=ge,me=ge,V=fe}if(te===A.length)return i(C,V),he&&En(C,te),F;if(V===null){for(;te<A.length;te++)V=z(C,A[te],w),V!==null&&(E=c(V,E,te),me===null?F=V:me.sibling=V,me=V);return he&&En(C,te),F}for(V=s(V);te<A.length;te++)fe=D(V,C,te,A[te],w),fe!==null&&(e&&fe.alternate!==null&&V.delete(fe.key===null?te:fe.key),E=c(fe,E,te),me===null?F=fe:me.sibling=fe,me=fe);return e&&V.forEach(function(ci){return t(C,ci)}),he&&En(C,te),F}function Z(C,E,A,w){if(A==null)throw Error(r(151));for(var F=null,me=null,V=E,te=E=0,fe=null,ge=A.next();V!==null&&!ge.done;te++,ge=A.next()){V.index>te?(fe=V,V=null):fe=V.sibling;var ci=R(C,V,ge.value,w);if(ci===null){V===null&&(V=fe);break}e&&V&&ci.alternate===null&&t(C,V),E=c(ci,E,te),me===null?F=ci:me.sibling=ci,me=ci,V=fe}if(ge.done)return i(C,V),he&&En(C,te),F;if(V===null){for(;!ge.done;te++,ge=A.next())ge=z(C,ge.value,w),ge!==null&&(E=c(ge,E,te),me===null?F=ge:me.sibling=ge,me=ge);return he&&En(C,te),F}for(V=s(V);!ge.done;te++,ge=A.next())ge=D(V,C,te,ge.value,w),ge!==null&&(e&&ge.alternate!==null&&V.delete(ge.key===null?te:ge.key),E=c(ge,E,te),me===null?F=ge:me.sibling=ge,me=ge);return e&&V.forEach(function(e0){return t(C,e0)}),he&&En(C,te),F}function Ae(C,E,A,w){if(typeof A=="object"&&A!==null&&A.type===Q&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case U:e:{for(var F=A.key;E!==null;){if(E.key===F){if(F=A.type,F===Q){if(E.tag===7){i(C,E.sibling),w=o(E,A.props.children),w.return=C,C=w;break e}}else if(E.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ct&&Mi(F)===E.type){i(C,E.sibling),w=o(E,A.props),da(w,A),w.return=C,C=w;break e}i(C,E);break}else t(C,E);E=E.sibling}A.type===Q?(w=Ni(A.props.children,C.mode,w,A.key),w.return=C,C=w):(w=Bs(A.type,A.key,A.props,null,C.mode,w),da(w,A),w.return=C,C=w)}return d(C);case B:e:{for(F=A.key;E!==null;){if(E.key===F)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){i(C,E.sibling),w=o(E,A.children||[]),w.return=C,C=w;break e}else{i(C,E);break}else t(C,E);E=E.sibling}w=eu(A,C.mode,w),w.return=C,C=w}return d(C);case ct:return A=Mi(A),Ae(C,E,A,w)}if(Rt(A))return G(C,E,A,w);if(et(A)){if(F=et(A),typeof F!="function")throw Error(r(150));return A=F.call(A),Z(C,E,A,w)}if(typeof A.then=="function")return Ae(C,E,Vs(A),w);if(A.$$typeof===ve)return Ae(C,E,ks(C,A),w);Qs(C,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,E!==null&&E.tag===6?(i(C,E.sibling),w=o(E,A),w.return=C,C=w):(i(C,E),w=$o(A,C.mode,w),w.return=C,C=w),d(C)):i(C,E)}return function(C,E,A,w){try{ha=0;var F=Ae(C,E,A,w);return gl=null,F}catch(V){if(V===ml||V===Ys)throw V;var me=wt(29,V,null,C.mode);return me.lanes=w,me.return=C,me}finally{}}}var zi=yd(!0),vd=yd(!1),Fn=!1;function hu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function du(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Kn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Zn(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(_e&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=Hs(e),nd(e,null,i),t}return Us(e,s,t,i),Hs(e)}function ma(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,ch(e,i)}}function mu(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var o=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?o=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?o=c=t:c=c.next=t}else o=c=t;i={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var gu=!1;function ga(){if(gu){var e=dl;if(e!==null)throw e}}function pa(e,t,i,s){gu=!1;var o=e.updateQueue;Fn=!1;var c=o.firstBaseUpdate,d=o.lastBaseUpdate,p=o.shared.pending;if(p!==null){o.shared.pending=null;var y=p,N=y.next;y.next=null,d===null?c=N:d.next=N,d=y;var O=e.alternate;O!==null&&(O=O.updateQueue,p=O.lastBaseUpdate,p!==d&&(p===null?O.firstBaseUpdate=N:p.next=N,O.lastBaseUpdate=y))}if(c!==null){var z=o.baseState;d=0,O=N=y=null,p=c;do{var R=p.lane&-536870913,D=R!==p.lane;if(D?(ce&R)===R:(s&R)===R){R!==0&&R===hl&&(gu=!0),O!==null&&(O=O.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var G=e,Z=p;R=t;var Ae=i;switch(Z.tag){case 1:if(G=Z.payload,typeof G=="function"){z=G.call(Ae,z,R);break e}z=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=Z.payload,R=typeof G=="function"?G.call(Ae,z,R):G,R==null)break e;z=v({},z,R);break e;case 2:Fn=!0}}R=p.callback,R!==null&&(e.flags|=64,D&&(e.flags|=8192),D=o.callbacks,D===null?o.callbacks=[R]:D.push(R))}else D={lane:R,tag:p.tag,payload:p.payload,callback:p.callback,next:null},O===null?(N=O=D,y=z):O=O.next=D,d|=R;if(p=p.next,p===null){if(p=o.shared.pending,p===null)break;D=p,p=D.next,D.next=null,o.lastBaseUpdate=D,o.shared.pending=null}}while(!0);O===null&&(y=z),o.baseState=y,o.firstBaseUpdate=N,o.lastBaseUpdate=O,c===null&&(o.shared.lanes=0),ei|=d,e.lanes=d,e.memoizedState=z}}function Ed(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Sd(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Ed(i[e],t)}var pl=b(null),Xs=b(0);function bd(e,t){e=Mn,q(Xs,e),q(pl,t),Mn=e|t.baseLanes}function pu(){q(Xs,Mn),q(pl,pl.current)}function _u(){Mn=Xs.current,L(pl),L(Xs)}var zt=b(null),Zt=null;function Jn(e){var t=e.alternate;q(je,je.current&1),q(zt,e),Zt===null&&(t===null||pl.current!==null||t.memoizedState!==null)&&(Zt=e)}function yu(e){q(je,je.current),q(zt,e),Zt===null&&(Zt=e)}function Td(e){e.tag===22?(q(je,je.current),q(zt,e),Zt===null&&(Zt=e)):Pn()}function Pn(){q(je,je.current),q(zt,zt.current)}function Lt(e){L(zt),Zt===e&&(Zt=null),L(je)}var je=b(0);function Fs(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Cc(i)||Ac(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tn=0,$=null,Te=null,Ge=null,Ks=!1,_l=!1,Li=!1,Zs=0,_a=0,yl=null,Vv=0;function Ue(){throw Error(r(321))}function vu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Mt(e[i],t[i]))return!1;return!0}function Eu(e,t,i,s,o,c){return Tn=c,$=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,x.H=e===null||e.memoizedState===null?sm:Uu,Li=!1,c=i(s,o),Li=!1,_l&&(c=Ad(t,i,s,o)),Cd(e),c}function Cd(e){x.H=Ea;var t=Te!==null&&Te.next!==null;if(Tn=0,Ge=Te=$=null,Ks=!1,_a=0,yl=null,t)throw Error(r(300));e===null||Ve||(e=e.dependencies,e!==null&&js(e)&&(Ve=!0))}function Ad(e,t,i,s){$=e;var o=0;do{if(_l&&(yl=null),_a=0,_l=!1,25<=o)throw Error(r(301));if(o+=1,Ge=Te=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}x.H=rm,c=t(i,s)}while(_l);return c}function Qv(){var e=x.H,t=e.useState()[0];return t=typeof t.then=="function"?ya(t):t,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&($.flags|=1024),t}function Su(){var e=Zs!==0;return Zs=0,e}function bu(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Tu(e){if(Ks){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ks=!1}Tn=0,Ge=Te=$=null,_l=!1,_a=Zs=0,yl=null}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?$.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function ke(){if(Te===null){var e=$.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Ge===null?$.memoizedState:Ge.next;if(t!==null)Ge=t,Te=e;else{if(e===null)throw $.alternate===null?Error(r(467)):Error(r(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Ge===null?$.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function Js(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ya(e){var t=_a;return _a+=1,yl===null&&(yl=[]),e=gd(yl,e,t),t=$,(Ge===null?t.memoizedState:Ge.next)===null&&(t=t.alternate,x.H=t===null||t.memoizedState===null?sm:Uu),e}function Ps(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ya(e);if(e.$$typeof===ve)return it(e)}throw Error(r(438,String(e)))}function Cu(e){var t=null,i=$.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=$.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Js(),$.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=gn;return t.index++,i}function Cn(e,t){return typeof t=="function"?t(e):t}function Ws(e){var t=ke();return Au(t,Te,e)}function Au(e,t,i){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=i;var o=e.baseQueue,c=s.pending;if(c!==null){if(o!==null){var d=o.next;o.next=c.next,c.next=d}t.baseQueue=o=c,s.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var p=d=null,y=null,N=t,O=!1;do{var z=N.lane&-536870913;if(z!==N.lane?(ce&z)===z:(Tn&z)===z){var R=N.revertLane;if(R===0)y!==null&&(y=y.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),z===hl&&(O=!0);else if((Tn&R)===R){N=N.next,R===hl&&(O=!0);continue}else z={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},y===null?(p=y=z,d=c):y=y.next=z,$.lanes|=R,ei|=R;z=N.action,Li&&i(c,z),c=N.hasEagerState?N.eagerState:i(c,z)}else R={lane:z,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},y===null?(p=y=R,d=c):y=y.next=R,$.lanes|=z,ei|=z;N=N.next}while(N!==null&&N!==t);if(y===null?d=c:y.next=p,!Mt(c,e.memoizedState)&&(Ve=!0,O&&(i=dl,i!==null)))throw i;e.memoizedState=c,e.baseState=d,e.baseQueue=y,s.lastRenderedState=c}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Nu(e){var t=ke(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var s=i.dispatch,o=i.pending,c=t.memoizedState;if(o!==null){i.pending=null;var d=o=o.next;do c=e(c,d.action),d=d.next;while(d!==o);Mt(c,t.memoizedState)||(Ve=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,s]}function Nd(e,t,i){var s=$,o=ke(),c=he;if(c){if(i===void 0)throw Error(r(407));i=i()}else i=t();var d=!Mt((Te||o).memoizedState,i);if(d&&(o.memoizedState=i,Ve=!0),o=o.queue,Ou(Od.bind(null,s,o,e),[e]),o.getSnapshot!==t||d||Ge!==null&&Ge.memoizedState.tag&1){if(s.flags|=2048,vl(9,{destroy:void 0},Dd.bind(null,s,o,i,t),null),De===null)throw Error(r(349));c||(Tn&127)!==0||Rd(s,t,i)}return i}function Rd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=$.updateQueue,t===null?(t=Js(),$.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Dd(e,t,i,s){t.value=i,t.getSnapshot=s,xd(t)&&Md(e)}function Od(e,t,i){return i(function(){xd(t)&&Md(e)})}function xd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Mt(e,i)}catch{return!0}}function Md(e){var t=Ai(e,2);t!==null&&Tt(t,e,2)}function Ru(e){var t=ht();if(typeof e=="function"){var i=e;if(e=i(),Li){kn(!0);try{i()}finally{kn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:e},t}function wd(e,t,i,s){return e.baseState=i,Au(e,Te,typeof s=="function"?s:Cn)}function Xv(e,t,i,s,o){if(tr(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};x.T!==null?i(!0):c.isTransition=!1,s(c),i=t.pending,i===null?(c.next=t.pending=c,zd(t,c)):(c.next=i.next,t.pending=i.next=c)}}function zd(e,t){var i=t.action,s=t.payload,o=e.state;if(t.isTransition){var c=x.T,d={};x.T=d;try{var p=i(o,s),y=x.S;y!==null&&y(d,p),Ld(e,t,p)}catch(N){Du(e,t,N)}finally{c!==null&&d.types!==null&&(c.types=d.types),x.T=c}}else try{c=i(o,s),Ld(e,t,c)}catch(N){Du(e,t,N)}}function Ld(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){Ud(e,t,s)},function(s){return Du(e,t,s)}):Ud(e,t,i)}function Ud(e,t,i){t.status="fulfilled",t.value=i,Hd(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,zd(e,i)))}function Du(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,Hd(t),t=t.next;while(t!==s)}e.action=null}function Hd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Bd(e,t){return t}function Id(e,t){if(he){var i=De.formState;if(i!==null){e:{var s=$;if(he){if(we){t:{for(var o=we,c=Kt;o.nodeType!==8;){if(!c){o=null;break t}if(o=Jt(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){we=Jt(o.nextSibling),s=o.data==="F!";break e}}Qn(s)}s=!1}s&&(t=i[0])}}return i=ht(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bd,lastRenderedState:t},i.queue=s,i=im.bind(null,$,s),s.dispatch=i,s=Ru(!1),c=Lu.bind(null,$,!1,s.queue),s=ht(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,i=Xv.bind(null,$,o,c,i),o.dispatch=i,s.memoizedState=e,[t,i,!1]}function jd(e){var t=ke();return kd(t,Te,e)}function kd(e,t,i){if(t=Au(e,t,Bd)[0],e=Ws(Cn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=ya(t)}catch(d){throw d===ml?Ys:d}else s=t;t=ke();var o=t.queue,c=o.dispatch;return i!==t.memoizedState&&($.flags|=2048,vl(9,{destroy:void 0},Fv.bind(null,o,i),null)),[s,c,e]}function Fv(e,t){e.action=t}function qd(e){var t=ke(),i=Te;if(i!==null)return kd(t,i,e);ke(),t=t.memoizedState,i=ke();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function vl(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=$.updateQueue,t===null&&(t=Js(),$.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function Yd(){return ke().memoizedState}function $s(e,t,i,s){var o=ht();$.flags|=e,o.memoizedState=vl(1|t,{destroy:void 0},i,s===void 0?null:s)}function er(e,t,i,s){var o=ke();s=s===void 0?null:s;var c=o.memoizedState.inst;Te!==null&&s!==null&&vu(s,Te.memoizedState.deps)?o.memoizedState=vl(t,c,i,s):($.flags|=e,o.memoizedState=vl(1|t,c,i,s))}function Gd(e,t){$s(8390656,8,e,t)}function Ou(e,t){er(2048,8,e,t)}function Kv(e){$.flags|=4;var t=$.updateQueue;if(t===null)t=Js(),$.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Vd(e){var t=ke().memoizedState;return Kv({ref:t,nextImpl:e}),function(){if((_e&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Qd(e,t){return er(4,2,e,t)}function Xd(e,t){return er(4,4,e,t)}function Fd(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kd(e,t,i){i=i!=null?i.concat([e]):null,er(4,4,Fd.bind(null,t,e),i)}function xu(){}function Zd(e,t){var i=ke();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&vu(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function Jd(e,t){var i=ke();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&vu(t,s[1]))return s[0];if(s=e(),Li){kn(!0);try{e()}finally{kn(!1)}}return i.memoizedState=[s,t],s}function Mu(e,t,i){return i===void 0||(Tn&1073741824)!==0&&(ce&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=Pm(),$.lanes|=e,ei|=e,i)}function Pd(e,t,i,s){return Mt(i,t)?i:pl.current!==null?(e=Mu(e,i,s),Mt(e,t)||(Ve=!0),e):(Tn&42)===0||(Tn&1073741824)!==0&&(ce&261930)===0?(Ve=!0,e.memoizedState=i):(e=Pm(),$.lanes|=e,ei|=e,t)}function Wd(e,t,i,s,o){var c=k.p;k.p=c!==0&&8>c?c:8;var d=x.T,p={};x.T=p,Lu(e,!1,t,i);try{var y=o(),N=x.S;if(N!==null&&N(p,y),y!==null&&typeof y=="object"&&typeof y.then=="function"){var O=Gv(y,s);va(e,t,O,Bt(e))}else va(e,t,s,Bt(e))}catch(z){va(e,t,{then:function(){},status:"rejected",reason:z},Bt())}finally{k.p=c,d!==null&&p.types!==null&&(d.types=p.types),x.T=d}}function Zv(){}function wu(e,t,i,s){if(e.tag!==5)throw Error(r(476));var o=$d(e).queue;Wd(e,o,t,K,i===null?Zv:function(){return em(e),i(s)})}function $d(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:K},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function em(e){var t=$d(e);t.next===null&&(t=e.alternate.memoizedState),va(e,t.next.queue,{},Bt())}function zu(){return it(Ha)}function tm(){return ke().memoizedState}function nm(){return ke().memoizedState}function Jv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Bt();e=Kn(i);var s=Zn(t,e,i);s!==null&&(Tt(s,t,i),ma(s,t,i)),t={cache:ou()},e.payload=t;return}t=t.return}}function Pv(e,t,i){var s=Bt();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},tr(e)?lm(t,i):(i=Po(e,t,i,s),i!==null&&(Tt(i,e,s),am(i,t,s)))}function im(e,t,i){var s=Bt();va(e,t,i,s)}function va(e,t,i,s){var o={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(tr(e))lm(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,p=c(d,i);if(o.hasEagerState=!0,o.eagerState=p,Mt(p,d))return Us(e,t,o,0),De===null&&Ls(),!1}catch{}finally{}if(i=Po(e,t,o,s),i!==null)return Tt(i,e,s),am(i,t,s),!0}return!1}function Lu(e,t,i,s){if(s={lane:2,revertLane:hc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},tr(e)){if(t)throw Error(r(479))}else t=Po(e,i,s,2),t!==null&&Tt(t,e,2)}function tr(e){var t=e.alternate;return e===$||t!==null&&t===$}function lm(e,t){_l=Ks=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function am(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,ch(e,i)}}var Ea={readContext:it,use:Ps,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue};Ea.useEffectEvent=Ue;var sm={readContext:it,use:Ps,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:Gd,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,$s(4194308,4,Fd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return $s(4194308,4,e,t)},useInsertionEffect:function(e,t){$s(4,2,e,t)},useMemo:function(e,t){var i=ht();t=t===void 0?null:t;var s=e();if(Li){kn(!0);try{e()}finally{kn(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=ht();if(i!==void 0){var o=i(t);if(Li){kn(!0);try{i(t)}finally{kn(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=Pv.bind(null,$,e),[s.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:function(e){e=Ru(e);var t=e.queue,i=im.bind(null,$,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:xu,useDeferredValue:function(e,t){var i=ht();return Mu(i,e,t)},useTransition:function(){var e=Ru(!1);return e=Wd.bind(null,$,e.queue,!0,!1),ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=$,o=ht();if(he){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),De===null)throw Error(r(349));(ce&127)!==0||Rd(s,t,i)}o.memoizedState=i;var c={value:i,getSnapshot:t};return o.queue=c,Gd(Od.bind(null,s,c,e),[e]),s.flags|=2048,vl(9,{destroy:void 0},Dd.bind(null,s,c,i,t),null),i},useId:function(){var e=ht(),t=De.identifierPrefix;if(he){var i=fn,s=cn;i=(s&~(1<<32-xt(s)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Zs++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=Vv++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:zu,useFormState:Id,useActionState:Id,useOptimistic:function(e){var t=ht();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Lu.bind(null,$,!0,i),i.dispatch=t,[e,t]},useMemoCache:Cu,useCacheRefresh:function(){return ht().memoizedState=Jv.bind(null,$)},useEffectEvent:function(e){var t=ht(),i={impl:e};return t.memoizedState=i,function(){if((_e&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},Uu={readContext:it,use:Ps,useCallback:Zd,useContext:it,useEffect:Ou,useImperativeHandle:Kd,useInsertionEffect:Qd,useLayoutEffect:Xd,useMemo:Jd,useReducer:Ws,useRef:Yd,useState:function(){return Ws(Cn)},useDebugValue:xu,useDeferredValue:function(e,t){var i=ke();return Pd(i,Te.memoizedState,e,t)},useTransition:function(){var e=Ws(Cn)[0],t=ke().memoizedState;return[typeof e=="boolean"?e:ya(e),t]},useSyncExternalStore:Nd,useId:tm,useHostTransitionStatus:zu,useFormState:jd,useActionState:jd,useOptimistic:function(e,t){var i=ke();return wd(i,Te,e,t)},useMemoCache:Cu,useCacheRefresh:nm};Uu.useEffectEvent=Vd;var rm={readContext:it,use:Ps,useCallback:Zd,useContext:it,useEffect:Ou,useImperativeHandle:Kd,useInsertionEffect:Qd,useLayoutEffect:Xd,useMemo:Jd,useReducer:Nu,useRef:Yd,useState:function(){return Nu(Cn)},useDebugValue:xu,useDeferredValue:function(e,t){var i=ke();return Te===null?Mu(i,e,t):Pd(i,Te.memoizedState,e,t)},useTransition:function(){var e=Nu(Cn)[0],t=ke().memoizedState;return[typeof e=="boolean"?e:ya(e),t]},useSyncExternalStore:Nd,useId:tm,useHostTransitionStatus:zu,useFormState:qd,useActionState:qd,useOptimistic:function(e,t){var i=ke();return Te!==null?wd(i,Te,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Cu,useCacheRefresh:nm};rm.useEffectEvent=Vd;function Hu(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:v({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Bu={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=Bt(),o=Kn(s);o.payload=t,i!=null&&(o.callback=i),t=Zn(e,o,s),t!==null&&(Tt(t,e,s),ma(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=Bt(),o=Kn(s);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=Zn(e,o,s),t!==null&&(Tt(t,e,s),ma(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Bt(),s=Kn(i);s.tag=2,t!=null&&(s.callback=t),t=Zn(e,s,i),t!==null&&(Tt(t,e,i),ma(t,e,i))}};function om(e,t,i,s,o,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,d):t.prototype&&t.prototype.isPureReactComponent?!sa(i,s)||!sa(o,c):!0}function um(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&Bu.enqueueReplaceState(t,t.state,null)}function Ui(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=v({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}function cm(e){zs(e)}function fm(e){console.error(e)}function hm(e){zs(e)}function nr(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function dm(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Iu(e,t,i){return i=Kn(i),i.tag=3,i.payload={element:null},i.callback=function(){nr(e,t)},i}function mm(e){return e=Kn(e),e.tag=3,e}function gm(e,t,i,s){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var c=s.value;e.payload=function(){return o(c)},e.callback=function(){dm(t,i,s)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){dm(t,i,s),typeof o!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var p=s.stack;this.componentDidCatch(s.value,{componentStack:p!==null?p:""})})}function Wv(e,t,i,s,o){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&fl(t,i,o,!0),i=zt.current,i!==null){switch(i.tag){case 31:case 13:return Zt===null?mr():i.alternate===null&&He===0&&(He=3),i.flags&=-257,i.flags|=65536,i.lanes=o,s===Gs?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),uc(e,s,o)),!1;case 22:return i.flags|=65536,s===Gs?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),uc(e,s,o)),!1}throw Error(r(435,i.tag))}return uc(e,s,o),mr(),!1}if(he)return t=zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==iu&&(e=Error(r(422),{cause:s}),ua(Qt(e,i)))):(s!==iu&&(t=Error(r(423),{cause:s}),ua(Qt(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Qt(s,i),o=Iu(e.stateNode,s,o),mu(e,o),He!==4&&(He=2)),!1;var c=Error(r(520),{cause:s});if(c=Qt(c,i),Da===null?Da=[c]:Da.push(c),He!==4&&(He=2),t===null)return!0;s=Qt(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=Iu(i.stateNode,s,e),mu(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(ti===null||!ti.has(c))))return i.flags|=65536,o&=-o,i.lanes|=o,o=mm(o),gm(o,e,i,s),mu(i,o),!1}i=i.return}while(i!==null);return!1}var ju=Error(r(461)),Ve=!1;function lt(e,t,i,s){t.child=e===null?vd(t,null,i,s):zi(t,e.child,i,s)}function pm(e,t,i,s,o){i=i.render;var c=t.ref;if("ref"in s){var d={};for(var p in s)p!=="ref"&&(d[p]=s[p])}else d=s;return Oi(t),s=Eu(e,t,i,d,c,o),p=Su(),e!==null&&!Ve?(bu(e,t,o),An(e,t,o)):(he&&p&&tu(t),t.flags|=1,lt(e,t,s,o),t.child)}function _m(e,t,i,s,o){if(e===null){var c=i.type;return typeof c=="function"&&!Wo(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,ym(e,t,c,s,o)):(e=Bs(i.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Fu(e,o)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:sa,i(d,s)&&e.ref===t.ref)return An(e,t,o)}return t.flags|=1,e=vn(c,s),e.ref=t.ref,e.return=t,t.child=e}function ym(e,t,i,s,o){if(e!==null){var c=e.memoizedProps;if(sa(c,s)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=s=c,Fu(e,o))(e.flags&131072)!==0&&(Ve=!0);else return t.lanes=e.lanes,An(e,t,o)}return ku(e,t,i,s,o)}function vm(e,t,i,s){var o=s.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|i:i,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~c}else s=0,t.child=null;return Em(e,t,c,i,s)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&qs(t,c!==null?c.cachePool:null),c!==null?bd(t,c):pu(),Td(t);else return s=t.lanes=536870912,Em(e,t,c!==null?c.baseLanes|i:i,i,s)}else c!==null?(qs(t,c.cachePool),bd(t,c),Pn(),t.memoizedState=null):(e!==null&&qs(t,null),pu(),Pn());return lt(e,t,o,i),t.child}function Sa(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Em(e,t,i,s,o){var c=cu();return c=c===null?null:{parent:Ye._currentValue,pool:c},t.memoizedState={baseLanes:i,cachePool:c},e!==null&&qs(t,null),pu(),Td(t),e!==null&&fl(e,t,s,!0),t.childLanes=o,null}function ir(e,t){return t=ar({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Sm(e,t,i){return zi(t,e.child,null,i),e=ir(t,t.pendingProps),e.flags|=2,Lt(t),t.memoizedState=null,e}function $v(e,t,i){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(he){if(s.mode==="hidden")return e=ir(t,s),t.lanes=536870912,Sa(null,e);if(yu(t),(e=we)?(e=zg(e,Kt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Gn!==null?{id:cn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},i=ld(e),i.return=t,t.child=i,nt=t,we=null)):e=null,e===null)throw Qn(t);return t.lanes=536870912,null}return ir(t,s)}var c=e.memoizedState;if(c!==null){var d=c.dehydrated;if(yu(t),o)if(t.flags&256)t.flags&=-257,t=Sm(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Ve||fl(e,t,i,!1),o=(i&e.childLanes)!==0,Ve||o){if(s=De,s!==null&&(d=fh(s,i),d!==0&&d!==c.retryLane))throw c.retryLane=d,Ai(e,d),Tt(s,e,d),ju;mr(),t=Sm(e,t,i)}else e=c.treeContext,we=Jt(d.nextSibling),nt=t,he=!0,Vn=null,Kt=!1,e!==null&&rd(t,e),t=ir(t,s),t.flags|=4096;return t}return e=vn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function lr(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function ku(e,t,i,s,o){return Oi(t),i=Eu(e,t,i,s,void 0,o),s=Su(),e!==null&&!Ve?(bu(e,t,o),An(e,t,o)):(he&&s&&tu(t),t.flags|=1,lt(e,t,i,o),t.child)}function bm(e,t,i,s,o,c){return Oi(t),t.updateQueue=null,i=Ad(t,s,i,o),Cd(e),s=Su(),e!==null&&!Ve?(bu(e,t,c),An(e,t,c)):(he&&s&&tu(t),t.flags|=1,lt(e,t,i,c),t.child)}function Tm(e,t,i,s,o){if(Oi(t),t.stateNode===null){var c=rl,d=i.contextType;typeof d=="object"&&d!==null&&(c=it(d)),c=new i(s,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Bu,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=s,c.state=t.memoizedState,c.refs={},hu(t),d=i.contextType,c.context=typeof d=="object"&&d!==null?it(d):rl,c.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(Hu(t,i,d,s),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&Bu.enqueueReplaceState(c,c.state,null),pa(t,s,c,o),ga(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){c=t.stateNode;var p=t.memoizedProps,y=Ui(i,p);c.props=y;var N=c.context,O=i.contextType;d=rl,typeof O=="object"&&O!==null&&(d=it(O));var z=i.getDerivedStateFromProps;O=typeof z=="function"||typeof c.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,O||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p||N!==d)&&um(t,c,s,d),Fn=!1;var R=t.memoizedState;c.state=R,pa(t,s,c,o),ga(),N=t.memoizedState,p||R!==N||Fn?(typeof z=="function"&&(Hu(t,i,z,s),N=t.memoizedState),(y=Fn||om(t,i,y,s,R,N,d))?(O||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=N),c.props=s,c.state=N,c.context=d,s=y):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{c=t.stateNode,du(e,t),d=t.memoizedProps,O=Ui(i,d),c.props=O,z=t.pendingProps,R=c.context,N=i.contextType,y=rl,typeof N=="object"&&N!==null&&(y=it(N)),p=i.getDerivedStateFromProps,(N=typeof p=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==z||R!==y)&&um(t,c,s,y),Fn=!1,R=t.memoizedState,c.state=R,pa(t,s,c,o),ga();var D=t.memoizedState;d!==z||R!==D||Fn||e!==null&&e.dependencies!==null&&js(e.dependencies)?(typeof p=="function"&&(Hu(t,i,p,s),D=t.memoizedState),(O=Fn||om(t,i,O,s,R,D,y)||e!==null&&e.dependencies!==null&&js(e.dependencies))?(N||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,D,y),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,D,y)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=D),c.props=s,c.state=D,c.context=y,s=O):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),s=!1)}return c=s,lr(e,t),s=(t.flags&128)!==0,c||s?(c=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&s?(t.child=zi(t,e.child,null,o),t.child=zi(t,null,i,o)):lt(e,t,i,o),t.memoizedState=c.state,e=t.child):e=An(e,t,o),e}function Cm(e,t,i,s){return Ri(),t.flags|=256,lt(e,t,i,s),t.child}var qu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yu(e){return{baseLanes:e,cachePool:dd()}}function Gu(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Ht),e}function Am(e,t,i){var s=t.pendingProps,o=!1,c=(t.flags&128)!==0,d;if((d=c)||(d=e!==null&&e.memoizedState===null?!1:(je.current&2)!==0),d&&(o=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(he){if(o?Jn(t):Pn(),(e=we)?(e=zg(e,Kt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Gn!==null?{id:cn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},i=ld(e),i.return=t,t.child=i,nt=t,we=null)):e=null,e===null)throw Qn(t);return Ac(e)?t.lanes=32:t.lanes=536870912,null}var p=s.children;return s=s.fallback,o?(Pn(),o=t.mode,p=ar({mode:"hidden",children:p},o),s=Ni(s,o,i,null),p.return=t,s.return=t,p.sibling=s,t.child=p,s=t.child,s.memoizedState=Yu(i),s.childLanes=Gu(e,d,i),t.memoizedState=qu,Sa(null,s)):(Jn(t),Vu(t,p))}var y=e.memoizedState;if(y!==null&&(p=y.dehydrated,p!==null)){if(c)t.flags&256?(Jn(t),t.flags&=-257,t=Qu(e,t,i)):t.memoizedState!==null?(Pn(),t.child=e.child,t.flags|=128,t=null):(Pn(),p=s.fallback,o=t.mode,s=ar({mode:"visible",children:s.children},o),p=Ni(p,o,i,null),p.flags|=2,s.return=t,p.return=t,s.sibling=p,t.child=s,zi(t,e.child,null,i),s=t.child,s.memoizedState=Yu(i),s.childLanes=Gu(e,d,i),t.memoizedState=qu,t=Sa(null,s));else if(Jn(t),Ac(p)){if(d=p.nextSibling&&p.nextSibling.dataset,d)var N=d.dgst;d=N,s=Error(r(419)),s.stack="",s.digest=d,ua({value:s,source:null,stack:null}),t=Qu(e,t,i)}else if(Ve||fl(e,t,i,!1),d=(i&e.childLanes)!==0,Ve||d){if(d=De,d!==null&&(s=fh(d,i),s!==0&&s!==y.retryLane))throw y.retryLane=s,Ai(e,s),Tt(d,e,s),ju;Cc(p)||mr(),t=Qu(e,t,i)}else Cc(p)?(t.flags|=192,t.child=e.child,t=null):(e=y.treeContext,we=Jt(p.nextSibling),nt=t,he=!0,Vn=null,Kt=!1,e!==null&&rd(t,e),t=Vu(t,s.children),t.flags|=4096);return t}return o?(Pn(),p=s.fallback,o=t.mode,y=e.child,N=y.sibling,s=vn(y,{mode:"hidden",children:s.children}),s.subtreeFlags=y.subtreeFlags&65011712,N!==null?p=vn(N,p):(p=Ni(p,o,i,null),p.flags|=2),p.return=t,s.return=t,s.sibling=p,t.child=s,Sa(null,s),s=t.child,p=e.child.memoizedState,p===null?p=Yu(i):(o=p.cachePool,o!==null?(y=Ye._currentValue,o=o.parent!==y?{parent:y,pool:y}:o):o=dd(),p={baseLanes:p.baseLanes|i,cachePool:o}),s.memoizedState=p,s.childLanes=Gu(e,d,i),t.memoizedState=qu,Sa(e.child,s)):(Jn(t),i=e.child,e=i.sibling,i=vn(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=i,t.memoizedState=null,i)}function Vu(e,t){return t=ar({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ar(e,t){return e=wt(22,e,null,t),e.lanes=0,e}function Qu(e,t,i){return zi(t,e.child,null,i),e=Vu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Nm(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),su(e.return,t,i)}function Xu(e,t,i,s,o,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:o,treeForkCount:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=s,d.tail=i,d.tailMode=o,d.treeForkCount=c)}function Rm(e,t,i){var s=t.pendingProps,o=s.revealOrder,c=s.tail;s=s.children;var d=je.current,p=(d&2)!==0;if(p?(d=d&1|2,t.flags|=128):d&=1,q(je,d),lt(e,t,s,i),s=he?oa:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nm(e,i,t);else if(e.tag===19)Nm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&Fs(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),Xu(t,!1,o,i,c,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Fs(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}Xu(t,!0,i,null,c,s);break;case"together":Xu(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function An(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),ei|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(fl(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=vn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=vn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Fu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&js(e)))}function eE(e,t,i){switch(t.tag){case 3:ie(t,t.stateNode.containerInfo),Xn(t,Ye,e.memoizedState.cache),Ri();break;case 27:case 5:jn(t);break;case 4:ie(t,t.stateNode.containerInfo);break;case 10:Xn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,yu(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Jn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Am(e,t,i):(Jn(t),e=An(e,t,i),e!==null?e.sibling:null);Jn(t);break;case 19:var o=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(fl(e,t,i,!1),s=(i&t.childLanes)!==0),o){if(s)return Rm(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),q(je,je.current),s)break;return null;case 22:return t.lanes=0,vm(e,t,i,t.pendingProps);case 24:Xn(t,Ye,e.memoizedState.cache)}return An(e,t,i)}function Dm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ve=!0;else{if(!Fu(e,i)&&(t.flags&128)===0)return Ve=!1,eE(e,t,i);Ve=(e.flags&131072)!==0}else Ve=!1,he&&(t.flags&1048576)!==0&&sd(t,oa,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Mi(t.elementType),t.type=e,typeof e=="function")Wo(e)?(s=Ui(e,s),t.tag=1,t=Tm(null,t,e,s,i)):(t.tag=0,t=ku(null,t,e,s,i));else{if(e!=null){var o=e.$$typeof;if(o===qe){t.tag=11,t=pm(null,t,e,s,i);break e}else if(o===se){t.tag=14,t=_m(null,t,e,s,i);break e}}throw t=pt(e)||e,Error(r(306,t,""))}}return t;case 0:return ku(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,o=Ui(s,t.pendingProps),Tm(e,t,s,o,i);case 3:e:{if(ie(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var c=t.memoizedState;o=c.element,du(e,t),pa(t,s,null,i);var d=t.memoizedState;if(s=d.cache,Xn(t,Ye,s),s!==c.cache&&ru(t,[Ye],i,!0),ga(),s=d.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Cm(e,t,s,i);break e}else if(s!==o){o=Qt(Error(r(424)),t),ua(o),t=Cm(e,t,s,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(we=Jt(e.firstChild),nt=t,he=!0,Vn=null,Kt=!0,i=vd(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Ri(),s===o){t=An(e,t,i);break e}lt(e,t,s,i)}t=t.child}return t;case 26:return lr(e,t),e===null?(i=jg(t.type,null,t.pendingProps,null))?t.memoizedState=i:he||(i=t.type,e=t.pendingProps,s=Sr(Y.current).createElement(i),s[tt]=t,s[_t]=e,at(s,i,e),Ze(s),t.stateNode=s):t.memoizedState=jg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return jn(t),e===null&&he&&(s=t.stateNode=Hg(t.type,t.pendingProps,Y.current),nt=t,Kt=!0,o=we,ai(t.type)?(Nc=o,we=Jt(s.firstChild)):we=o),lt(e,t,t.pendingProps.children,i),lr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&he&&((o=s=we)&&(s=xE(s,t.type,t.pendingProps,Kt),s!==null?(t.stateNode=s,nt=t,we=Jt(s.firstChild),Kt=!1,o=!0):o=!1),o||Qn(t)),jn(t),o=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,s=c.children,Sc(o,c)?s=null:d!==null&&Sc(o,d)&&(t.flags|=32),t.memoizedState!==null&&(o=Eu(e,t,Qv,null,null,i),Ha._currentValue=o),lr(e,t),lt(e,t,s,i),t.child;case 6:return e===null&&he&&((e=i=we)&&(i=ME(i,t.pendingProps,Kt),i!==null?(t.stateNode=i,nt=t,we=null,e=!0):e=!1),e||Qn(t)),null;case 13:return Am(e,t,i);case 4:return ie(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=zi(t,null,s,i):lt(e,t,s,i),t.child;case 11:return pm(e,t,t.type,t.pendingProps,i);case 7:return lt(e,t,t.pendingProps,i),t.child;case 8:return lt(e,t,t.pendingProps.children,i),t.child;case 12:return lt(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,Xn(t,t.type,s.value),lt(e,t,s.children,i),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,Oi(t),o=it(o),s=s(o),t.flags|=1,lt(e,t,s,i),t.child;case 14:return _m(e,t,t.type,t.pendingProps,i);case 15:return ym(e,t,t.type,t.pendingProps,i);case 19:return Rm(e,t,i);case 31:return $v(e,t,i);case 22:return vm(e,t,i,t.pendingProps);case 24:return Oi(t),s=it(Ye),e===null?(o=cu(),o===null&&(o=De,c=ou(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=i),o=c),t.memoizedState={parent:s,cache:o},hu(t),Xn(t,Ye,o)):((e.lanes&i)!==0&&(du(e,t),pa(t,null,null,i),ga()),o=e.memoizedState,c=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Xn(t,Ye,s)):(s=c.cache,Xn(t,Ye,s),s!==o.cache&&ru(t,[Ye],i,!0))),lt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Nn(e){e.flags|=4}function Ku(e,t,i,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(tg())e.flags|=8192;else throw wi=Gs,fu}else e.flags&=-16777217}function Om(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vg(t))if(tg())e.flags|=8192;else throw wi=Gs,fu}function sr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?oh():536870912,e.lanes|=t,Tl|=t)}function ba(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function tE(e,t,i){var s=t.pendingProps;switch(nu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return ze(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),bn(Ye),W(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(cl(t)?Nn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,lu())),ze(t),null;case 26:var o=t.type,c=t.memoizedState;return e===null?(Nn(t),c!==null?(ze(t),Om(t,c)):(ze(t),Ku(t,o,null,s,i))):c?c!==e.memoizedState?(Nn(t),ze(t),Om(t,c)):(ze(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&Nn(t),ze(t),Ku(t,o,e,s,i)),null;case 27:if(en(t),i=Y.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Nn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return ze(t),null}e=M.current,cl(t)?od(t):(e=Hg(o,s,i),t.stateNode=e,Nn(t))}return ze(t),null;case 5:if(en(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Nn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return ze(t),null}if(c=M.current,cl(t))od(t);else{var d=Sr(Y.current);switch(c){case 1:c=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:c=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":c=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":c=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":c=d.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof s.is=="string"?d.createElement("select",{is:s.is}):d.createElement("select"),s.multiple?c.multiple=!0:s.size&&(c.size=s.size);break;default:c=typeof s.is=="string"?d.createElement(o,{is:s.is}):d.createElement(o)}}c[tt]=t,c[_t]=s;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)c.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=c;e:switch(at(c,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Nn(t)}}return ze(t),Ku(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Nn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=Y.current,cl(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,o=nt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[tt]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||Ag(e.nodeValue,i)),e||Qn(t,!0)}else e=Sr(e).createTextNode(s),e[tt]=t,t.stateNode=e}return ze(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(s=cl(t),i!==null){if(e===null){if(!s)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[tt]=t}else Ri(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ze(t),e=!1}else i=lu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Lt(t),t):(Lt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return ze(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=cl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[tt]=t}else Ri(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ze(t),o=!1}else o=lu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Lt(t),t):(Lt(t),null)}return Lt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),sr(t,t.updateQueue),ze(t),null);case 4:return W(),e===null&&pc(t.stateNode.containerInfo),ze(t),null;case 10:return bn(t.type),ze(t),null;case 19:if(L(je),s=t.memoizedState,s===null)return ze(t),null;if(o=(t.flags&128)!==0,c=s.rendering,c===null)if(o)ba(s,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Fs(e),c!==null){for(t.flags|=128,ba(s,!1),e=c.updateQueue,t.updateQueue=e,sr(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)id(i,e),i=i.sibling;return q(je,je.current&1|2),he&&En(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Dt()>fr&&(t.flags|=128,o=!0,ba(s,!1),t.lanes=4194304)}else{if(!o)if(e=Fs(c),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,sr(t,e),ba(s,!0),s.tail===null&&s.tailMode==="hidden"&&!c.alternate&&!he)return ze(t),null}else 2*Dt()-s.renderingStartTime>fr&&i!==536870912&&(t.flags|=128,o=!0,ba(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(e=s.last,e!==null?e.sibling=c:t.child=c,s.last=c)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Dt(),e.sibling=null,i=je.current,q(je,o?i&1|2:i&1),he&&En(t,s.treeForkCount),e):(ze(t),null);case 22:case 23:return Lt(t),_u(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),i=t.updateQueue,i!==null&&sr(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&L(xi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),bn(Ye),ze(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function nE(e,t){switch(nu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bn(Ye),W(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return en(t),null;case 31:if(t.memoizedState!==null){if(Lt(t),t.alternate===null)throw Error(r(340));Ri()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Lt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Ri()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(je),null;case 4:return W(),null;case 10:return bn(t.type),null;case 22:case 23:return Lt(t),_u(),e!==null&&L(xi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return bn(Ye),null;case 25:return null;default:return null}}function xm(e,t){switch(nu(t),t.tag){case 3:bn(Ye),W();break;case 26:case 27:case 5:en(t);break;case 4:W();break;case 31:t.memoizedState!==null&&Lt(t);break;case 13:Lt(t);break;case 19:L(je);break;case 10:bn(t.type);break;case 22:case 23:Lt(t),_u(),e!==null&&L(xi);break;case 24:bn(Ye)}}function Ta(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var o=s.next;i=o;do{if((i.tag&e)===e){s=void 0;var c=i.create,d=i.inst;s=c(),d.destroy=s}i=i.next}while(i!==o)}}catch(p){be(t,t.return,p)}}function Wn(e,t,i){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){var d=s.inst,p=d.destroy;if(p!==void 0){d.destroy=void 0,o=t;var y=i,N=p;try{N()}catch(O){be(o,y,O)}}}s=s.next}while(s!==c)}}catch(O){be(t,t.return,O)}}function Mm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Sd(t,i)}catch(s){be(e,e.return,s)}}}function wm(e,t,i){i.props=Ui(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){be(e,t,s)}}function Ca(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(o){be(e,t,o)}}function hn(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(o){be(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){be(e,t,o)}else i.current=null}function zm(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(o){be(e,e.return,o)}}function Zu(e,t,i){try{var s=e.stateNode;CE(s,e.type,i,t),s[_t]=t}catch(o){be(e,e.return,o)}}function Lm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ai(e.type)||e.tag===4}function Ju(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ai(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pu(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=_n));else if(s!==4&&(s===27&&ai(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Pu(e,t,i),e=e.sibling;e!==null;)Pu(e,t,i),e=e.sibling}function rr(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&ai(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(rr(e,t,i),e=e.sibling;e!==null;)rr(e,t,i),e=e.sibling}function Um(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);at(t,s,i),t[tt]=e,t[_t]=i}catch(c){be(e,e.return,c)}}var Rn=!1,Qe=!1,Wu=!1,Hm=typeof WeakSet=="function"?WeakSet:Set,Je=null;function iE(e,t){if(e=e.containerInfo,vc=Dr,e=Kh(e),Qo(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var o=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,p=-1,y=-1,N=0,O=0,z=e,R=null;t:for(;;){for(var D;z!==i||o!==0&&z.nodeType!==3||(p=d+o),z!==c||s!==0&&z.nodeType!==3||(y=d+s),z.nodeType===3&&(d+=z.nodeValue.length),(D=z.firstChild)!==null;)R=z,z=D;for(;;){if(z===e)break t;if(R===i&&++N===o&&(p=d),R===c&&++O===s&&(y=d),(D=z.nextSibling)!==null)break;z=R,R=z.parentNode}z=D}i=p===-1||y===-1?null:{start:p,end:y}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ec={focusedElem:e,selectionRange:i},Dr=!1,Je=t;Je!==null;)if(t=Je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Je=e;else for(;Je!==null;){switch(t=Je,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)o=e[i],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,i=t,o=c.memoizedProps,c=c.memoizedState,s=i.stateNode;try{var G=Ui(i.type,o);e=s.getSnapshotBeforeUpdate(G,c),s.__reactInternalSnapshotBeforeUpdate=e}catch(Z){be(i,i.return,Z)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Tc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Je=e;break}Je=t.return}}function Bm(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:On(e,i),s&4&&Ta(5,i);break;case 1:if(On(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(d){be(i,i.return,d)}else{var o=Ui(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){be(i,i.return,d)}}s&64&&Mm(i),s&512&&Ca(i,i.return);break;case 3:if(On(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Sd(e,t)}catch(d){be(i,i.return,d)}}break;case 27:t===null&&s&4&&Um(i);case 26:case 5:On(e,i),t===null&&s&4&&zm(i),s&512&&Ca(i,i.return);break;case 12:On(e,i);break;case 31:On(e,i),s&4&&km(e,i);break;case 13:On(e,i),s&4&&qm(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=hE.bind(null,i),wE(e,i))));break;case 22:if(s=i.memoizedState!==null||Rn,!s){t=t!==null&&t.memoizedState!==null||Qe,o=Rn;var c=Qe;Rn=s,(Qe=t)&&!c?xn(e,i,(i.subtreeFlags&8772)!==0):On(e,i),Rn=o,Qe=c}break;case 30:break;default:On(e,i)}}function Im(e){var t=e.alternate;t!==null&&(e.alternate=null,Im(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Do(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Le=null,vt=!1;function Dn(e,t,i){for(i=i.child;i!==null;)jm(e,t,i),i=i.sibling}function jm(e,t,i){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Kl,i)}catch{}switch(i.tag){case 26:Qe||hn(i,t),Dn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Qe||hn(i,t);var s=Le,o=vt;ai(i.type)&&(Le=i.stateNode,vt=!1),Dn(e,t,i),za(i.stateNode),Le=s,vt=o;break;case 5:Qe||hn(i,t);case 6:if(s=Le,o=vt,Le=null,Dn(e,t,i),Le=s,vt=o,Le!==null)if(vt)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(i.stateNode)}catch(c){be(i,t,c)}else try{Le.removeChild(i.stateNode)}catch(c){be(i,t,c)}break;case 18:Le!==null&&(vt?(e=Le,Mg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Ml(e)):Mg(Le,i.stateNode));break;case 4:s=Le,o=vt,Le=i.stateNode.containerInfo,vt=!0,Dn(e,t,i),Le=s,vt=o;break;case 0:case 11:case 14:case 15:Wn(2,i,t),Qe||Wn(4,i,t),Dn(e,t,i);break;case 1:Qe||(hn(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&wm(i,t,s)),Dn(e,t,i);break;case 21:Dn(e,t,i);break;case 22:Qe=(s=Qe)||i.memoizedState!==null,Dn(e,t,i),Qe=s;break;default:Dn(e,t,i)}}function km(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ml(e)}catch(i){be(t,t.return,i)}}}function qm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ml(e)}catch(i){be(t,t.return,i)}}function lE(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Hm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Hm),t;default:throw Error(r(435,e.tag))}}function or(e,t){var i=lE(e);t.forEach(function(s){if(!i.has(s)){i.add(s);var o=dE.bind(null,e,s);s.then(o,o)}})}function Et(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var o=i[s],c=e,d=t,p=d;e:for(;p!==null;){switch(p.tag){case 27:if(ai(p.type)){Le=p.stateNode,vt=!1;break e}break;case 5:Le=p.stateNode,vt=!1;break e;case 3:case 4:Le=p.stateNode.containerInfo,vt=!0;break e}p=p.return}if(Le===null)throw Error(r(160));jm(c,d,o),Le=null,vt=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Ym(t,e),t=t.sibling}var ln=null;function Ym(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Et(t,e),St(e),s&4&&(Wn(3,e,e.return),Ta(3,e),Wn(5,e,e.return));break;case 1:Et(t,e),St(e),s&512&&(Qe||i===null||hn(i,i.return)),s&64&&Rn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var o=ln;if(Et(t,e),St(e),s&512&&(Qe||i===null||hn(i,i.return)),s&4){var c=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":c=o.getElementsByTagName("title")[0],(!c||c[Pl]||c[tt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(s),o.head.insertBefore(c,o.querySelector("head > title"))),at(c,s,i),c[tt]=e,Ze(c),s=c;break e;case"link":var d=Yg("link","href",o).get(s+(i.href||""));if(d){for(var p=0;p<d.length;p++)if(c=d[p],c.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(p,1);break t}}c=o.createElement(s),at(c,s,i),o.head.appendChild(c);break;case"meta":if(d=Yg("meta","content",o).get(s+(i.content||""))){for(p=0;p<d.length;p++)if(c=d[p],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(p,1);break t}}c=o.createElement(s),at(c,s,i),o.head.appendChild(c);break;default:throw Error(r(468,s))}c[tt]=e,Ze(c),s=c}e.stateNode=s}else Gg(o,e.type,e.stateNode);else e.stateNode=qg(o,s,e.memoizedProps);else c!==s?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,s===null?Gg(o,e.type,e.stateNode):qg(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Zu(e,e.memoizedProps,i.memoizedProps)}break;case 27:Et(t,e),St(e),s&512&&(Qe||i===null||hn(i,i.return)),i!==null&&s&4&&Zu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Et(t,e),St(e),s&512&&(Qe||i===null||hn(i,i.return)),e.flags&32){o=e.stateNode;try{el(o,"")}catch(G){be(e,e.return,G)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,Zu(e,o,i!==null?i.memoizedProps:o)),s&1024&&(Wu=!0);break;case 6:if(Et(t,e),St(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(G){be(e,e.return,G)}}break;case 3:if(Cr=null,o=ln,ln=br(t.containerInfo),Et(t,e),ln=o,St(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{Ml(t.containerInfo)}catch(G){be(e,e.return,G)}Wu&&(Wu=!1,Gm(e));break;case 4:s=ln,ln=br(e.stateNode.containerInfo),Et(t,e),St(e),ln=s;break;case 12:Et(t,e),St(e);break;case 31:Et(t,e),St(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,or(e,s)));break;case 13:Et(t,e),St(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(cr=Dt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,or(e,s)));break;case 22:o=e.memoizedState!==null;var y=i!==null&&i.memoizedState!==null,N=Rn,O=Qe;if(Rn=N||o,Qe=O||y,Et(t,e),Qe=O,Rn=N,St(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(i===null||y||Rn||Qe||Hi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){y=i=t;try{if(c=y.stateNode,o)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{p=y.stateNode;var z=y.memoizedProps.style,R=z!=null&&z.hasOwnProperty("display")?z.display:null;p.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(G){be(y,y.return,G)}}}else if(t.tag===6){if(i===null){y=t;try{y.stateNode.nodeValue=o?"":y.memoizedProps}catch(G){be(y,y.return,G)}}}else if(t.tag===18){if(i===null){y=t;try{var D=y.stateNode;o?wg(D,!0):wg(y.stateNode,!1)}catch(G){be(y,y.return,G)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,or(e,i))));break;case 19:Et(t,e),St(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,or(e,s)));break;case 30:break;case 21:break;default:Et(t,e),St(e)}}function St(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if(Lm(s)){i=s;break}s=s.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var o=i.stateNode,c=Ju(e);rr(e,c,o);break;case 5:var d=i.stateNode;i.flags&32&&(el(d,""),i.flags&=-33);var p=Ju(e);rr(e,p,d);break;case 3:case 4:var y=i.stateNode.containerInfo,N=Ju(e);Pu(e,N,y);break;default:throw Error(r(161))}}catch(O){be(e,e.return,O)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Gm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function On(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Bm(e,t.alternate,t),t=t.sibling}function Hi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Wn(4,t,t.return),Hi(t);break;case 1:hn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&wm(t,t.return,i),Hi(t);break;case 27:za(t.stateNode);case 26:case 5:hn(t,t.return),Hi(t);break;case 22:t.memoizedState===null&&Hi(t);break;case 30:Hi(t);break;default:Hi(t)}e=e.sibling}}function xn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,c=t,d=c.flags;switch(c.tag){case 0:case 11:case 15:xn(o,c,i),Ta(4,c);break;case 1:if(xn(o,c,i),s=c,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(N){be(s,s.return,N)}if(s=c,o=s.updateQueue,o!==null){var p=s.stateNode;try{var y=o.shared.hiddenCallbacks;if(y!==null)for(o.shared.hiddenCallbacks=null,o=0;o<y.length;o++)Ed(y[o],p)}catch(N){be(s,s.return,N)}}i&&d&64&&Mm(c),Ca(c,c.return);break;case 27:Um(c);case 26:case 5:xn(o,c,i),i&&s===null&&d&4&&zm(c),Ca(c,c.return);break;case 12:xn(o,c,i);break;case 31:xn(o,c,i),i&&d&4&&km(o,c);break;case 13:xn(o,c,i),i&&d&4&&qm(o,c);break;case 22:c.memoizedState===null&&xn(o,c,i),Ca(c,c.return);break;case 30:break;default:xn(o,c,i)}t=t.sibling}}function $u(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&ca(i))}function ec(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ca(e))}function an(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vm(e,t,i,s),t=t.sibling}function Vm(e,t,i,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:an(e,t,i,s),o&2048&&Ta(9,t);break;case 1:an(e,t,i,s);break;case 3:an(e,t,i,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ca(e)));break;case 12:if(o&2048){an(e,t,i,s),e=t.stateNode;try{var c=t.memoizedProps,d=c.id,p=c.onPostCommit;typeof p=="function"&&p(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(y){be(t,t.return,y)}}else an(e,t,i,s);break;case 31:an(e,t,i,s);break;case 13:an(e,t,i,s);break;case 23:break;case 22:c=t.stateNode,d=t.alternate,t.memoizedState!==null?c._visibility&2?an(e,t,i,s):Aa(e,t):c._visibility&2?an(e,t,i,s):(c._visibility|=2,El(e,t,i,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&$u(d,t);break;case 24:an(e,t,i,s),o&2048&&ec(t.alternate,t);break;default:an(e,t,i,s)}}function El(e,t,i,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,d=t,p=i,y=s,N=d.flags;switch(d.tag){case 0:case 11:case 15:El(c,d,p,y,o),Ta(8,d);break;case 23:break;case 22:var O=d.stateNode;d.memoizedState!==null?O._visibility&2?El(c,d,p,y,o):Aa(c,d):(O._visibility|=2,El(c,d,p,y,o)),o&&N&2048&&$u(d.alternate,d);break;case 24:El(c,d,p,y,o),o&&N&2048&&ec(d.alternate,d);break;default:El(c,d,p,y,o)}t=t.sibling}}function Aa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,o=s.flags;switch(s.tag){case 22:Aa(i,s),o&2048&&$u(s.alternate,s);break;case 24:Aa(i,s),o&2048&&ec(s.alternate,s);break;default:Aa(i,s)}t=t.sibling}}var Na=8192;function Sl(e,t,i){if(e.subtreeFlags&Na)for(e=e.child;e!==null;)Qm(e,t,i),e=e.sibling}function Qm(e,t,i){switch(e.tag){case 26:Sl(e,t,i),e.flags&Na&&e.memoizedState!==null&&VE(i,ln,e.memoizedState,e.memoizedProps);break;case 5:Sl(e,t,i);break;case 3:case 4:var s=ln;ln=br(e.stateNode.containerInfo),Sl(e,t,i),ln=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Na,Na=16777216,Sl(e,t,i),Na=s):Sl(e,t,i));break;default:Sl(e,t,i)}}function Xm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ra(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];Je=s,Km(s,e)}Xm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fm(e),e=e.sibling}function Fm(e){switch(e.tag){case 0:case 11:case 15:Ra(e),e.flags&2048&&Wn(9,e,e.return);break;case 3:Ra(e);break;case 12:Ra(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ur(e)):Ra(e);break;default:Ra(e)}}function ur(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];Je=s,Km(s,e)}Xm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Wn(8,t,t.return),ur(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,ur(t));break;default:ur(t)}e=e.sibling}}function Km(e,t){for(;Je!==null;){var i=Je;switch(i.tag){case 0:case 11:case 15:Wn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ca(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,Je=s;else e:for(i=e;Je!==null;){s=Je;var o=s.sibling,c=s.return;if(Im(s),s===i){Je=null;break e}if(o!==null){o.return=c,Je=o;break e}Je=c}}}var aE={getCacheForType:function(e){var t=it(Ye),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return it(Ye).controller.signal}},sE=typeof WeakMap=="function"?WeakMap:Map,_e=0,De=null,re=null,ce=0,Se=0,Ut=null,$n=!1,bl=!1,tc=!1,Mn=0,He=0,ei=0,Bi=0,nc=0,Ht=0,Tl=0,Da=null,bt=null,ic=!1,cr=0,Zm=0,fr=1/0,hr=null,ti=null,Xe=0,ni=null,Cl=null,wn=0,lc=0,ac=null,Jm=null,Oa=0,sc=null;function Bt(){return(_e&2)!==0&&ce!==0?ce&-ce:x.T!==null?hc():hh()}function Pm(){if(Ht===0)if((ce&536870912)===0||he){var e=Es;Es<<=1,(Es&3932160)===0&&(Es=262144),Ht=e}else Ht=536870912;return e=zt.current,e!==null&&(e.flags|=32),Ht}function Tt(e,t,i){(e===De&&(Se===2||Se===9)||e.cancelPendingCommit!==null)&&(Al(e,0),ii(e,ce,Ht,!1)),Jl(e,i),((_e&2)===0||e!==De)&&(e===De&&((_e&2)===0&&(Bi|=i),He===4&&ii(e,ce,Ht,!1)),dn(e))}function Wm(e,t,i){if((_e&6)!==0)throw Error(r(327));var s=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Zl(e,t),o=s?uE(e,t):oc(e,t,!0),c=s;do{if(o===0){bl&&!s&&ii(e,t,0,!1);break}else{if(i=e.current.alternate,c&&!rE(i)){o=oc(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var p=e;o=Da;var y=p.current.memoizedState.isDehydrated;if(y&&(Al(p,d).flags|=256),d=oc(p,d,!1),d!==2){if(tc&&!y){p.errorRecoveryDisabledLanes|=c,Bi|=c,o=4;break e}c=bt,bt=o,c!==null&&(bt===null?bt=c:bt.push.apply(bt,c))}o=d}if(c=!1,o!==2)continue}}if(o===1){Al(e,0),ii(e,t,0,!0);break}e:{switch(s=e,c=o,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:ii(s,t,Ht,!$n);break e;case 2:bt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=cr+300-Dt(),10<o)){if(ii(s,t,Ht,!$n),bs(s,0,!0)!==0)break e;wn=t,s.timeoutHandle=Og($m.bind(null,s,i,bt,hr,ic,t,Ht,Bi,Tl,$n,c,"Throttled",-0,0),o);break e}$m(s,i,bt,hr,ic,t,Ht,Bi,Tl,$n,c,null,-0,0)}}break}while(!0);dn(e)}function $m(e,t,i,s,o,c,d,p,y,N,O,z,R,D){if(e.timeoutHandle=-1,z=t.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_n},Qm(t,c,z);var G=(c&62914560)===c?cr-Dt():(c&4194048)===c?Zm-Dt():0;if(G=QE(z,G),G!==null){wn=c,e.cancelPendingCommit=G(rg.bind(null,e,t,c,i,s,o,d,p,y,O,z,null,R,D)),ii(e,c,d,!N);return}}rg(e,t,c,i,s,o,d,p,y)}function rE(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var o=i[s],c=o.getSnapshot;o=o.value;try{if(!Mt(c(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ii(e,t,i,s){t&=~nc,t&=~Bi,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var c=31-xt(o),d=1<<c;s[c]=-1,o&=~d}i!==0&&uh(e,i,t)}function dr(){return(_e&6)===0?(xa(0),!1):!0}function rc(){if(re!==null){if(Se===0)var e=re.return;else e=re,Sn=Di=null,Tu(e),gl=null,ha=0,e=re;for(;e!==null;)xm(e.alternate,e),e=e.return;re=null}}function Al(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,RE(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),wn=0,rc(),De=e,re=i=vn(e.current,null),ce=t,Se=0,Ut=null,$n=!1,bl=Zl(e,t),tc=!1,Tl=Ht=nc=Bi=ei=He=0,bt=Da=null,ic=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-xt(s),c=1<<o;t|=e[o],s&=~c}return Mn=t,Ls(),i}function eg(e,t){$=null,x.H=Ea,t===ml||t===Ys?(t=pd(),Se=3):t===fu?(t=pd(),Se=4):Se=t===ju?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ut=t,re===null&&(He=1,nr(e,Qt(t,e.current)))}function tg(){var e=zt.current;return e===null?!0:(ce&4194048)===ce?Zt===null:(ce&62914560)===ce||(ce&536870912)!==0?e===Zt:!1}function ng(){var e=x.H;return x.H=Ea,e===null?Ea:e}function ig(){var e=x.A;return x.A=aE,e}function mr(){He=4,$n||(ce&4194048)!==ce&&zt.current!==null||(bl=!0),(ei&134217727)===0&&(Bi&134217727)===0||De===null||ii(De,ce,Ht,!1)}function oc(e,t,i){var s=_e;_e|=2;var o=ng(),c=ig();(De!==e||ce!==t)&&(hr=null,Al(e,t)),t=!1;var d=He;e:do try{if(Se!==0&&re!==null){var p=re,y=Ut;switch(Se){case 8:rc(),d=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(t=!0);var N=Se;if(Se=0,Ut=null,Nl(e,p,y,N),i&&bl){d=0;break e}break;default:N=Se,Se=0,Ut=null,Nl(e,p,y,N)}}oE(),d=He;break}catch(O){eg(e,O)}while(!0);return t&&e.shellSuspendCounter++,Sn=Di=null,_e=s,x.H=o,x.A=c,re===null&&(De=null,ce=0,Ls()),d}function oE(){for(;re!==null;)lg(re)}function uE(e,t){var i=_e;_e|=2;var s=ng(),o=ig();De!==e||ce!==t?(hr=null,fr=Dt()+500,Al(e,t)):bl=Zl(e,t);e:do try{if(Se!==0&&re!==null){t=re;var c=Ut;t:switch(Se){case 1:Se=0,Ut=null,Nl(e,t,c,1);break;case 2:case 9:if(md(c)){Se=0,Ut=null,ag(t);break}t=function(){Se!==2&&Se!==9||De!==e||(Se=7),dn(e)},c.then(t,t);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:md(c)?(Se=0,Ut=null,ag(t)):(Se=0,Ut=null,Nl(e,t,c,7));break;case 5:var d=null;switch(re.tag){case 26:d=re.memoizedState;case 5:case 27:var p=re;if(d?Vg(d):p.stateNode.complete){Se=0,Ut=null;var y=p.sibling;if(y!==null)re=y;else{var N=p.return;N!==null?(re=N,gr(N)):re=null}break t}}Se=0,Ut=null,Nl(e,t,c,5);break;case 6:Se=0,Ut=null,Nl(e,t,c,6);break;case 8:rc(),He=6;break e;default:throw Error(r(462))}}cE();break}catch(O){eg(e,O)}while(!0);return Sn=Di=null,x.H=s,x.A=o,_e=i,re!==null?0:(De=null,ce=0,Ls(),He)}function cE(){for(;re!==null&&!zy();)lg(re)}function lg(e){var t=Dm(e.alternate,e,Mn);e.memoizedProps=e.pendingProps,t===null?gr(e):re=t}function ag(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=bm(i,t,t.pendingProps,t.type,void 0,ce);break;case 11:t=bm(i,t,t.pendingProps,t.type.render,t.ref,ce);break;case 5:Tu(t);default:xm(i,t),t=re=id(t,Mn),t=Dm(i,t,Mn)}e.memoizedProps=e.pendingProps,t===null?gr(e):re=t}function Nl(e,t,i,s){Sn=Di=null,Tu(t),gl=null,ha=0;var o=t.return;try{if(Wv(e,o,t,i,ce)){He=1,nr(e,Qt(i,e.current)),re=null;return}}catch(c){if(o!==null)throw re=o,c;He=1,nr(e,Qt(i,e.current)),re=null;return}t.flags&32768?(he||s===1?e=!0:bl||(ce&536870912)!==0?e=!1:($n=e=!0,(s===2||s===9||s===3||s===6)&&(s=zt.current,s!==null&&s.tag===13&&(s.flags|=16384))),sg(t,e)):gr(t)}function gr(e){var t=e;do{if((t.flags&32768)!==0){sg(t,$n);return}e=t.return;var i=tE(t.alternate,t,Mn);if(i!==null){re=i;return}if(t=t.sibling,t!==null){re=t;return}re=t=e}while(t!==null);He===0&&(He=5)}function sg(e,t){do{var i=nE(e.alternate,e);if(i!==null){i.flags&=32767,re=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){re=e;return}re=e=i}while(e!==null);He=6,re=null}function rg(e,t,i,s,o,c,d,p,y){e.cancelPendingCommit=null;do pr();while(Xe!==0);if((_e&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=Jo,Gy(e,i,c,d,p,y),e===De&&(re=De=null,ce=0),Cl=t,ni=e,wn=i,lc=c,ac=o,Jm=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,mE(ys,function(){return hg(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=x.T,x.T=null,o=k.p,k.p=2,d=_e,_e|=4;try{iE(e,t,i)}finally{_e=d,k.p=o,x.T=s}}Xe=1,og(),ug(),cg()}}function og(){if(Xe===1){Xe=0;var e=ni,t=Cl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=x.T,x.T=null;var s=k.p;k.p=2;var o=_e;_e|=4;try{Ym(t,e);var c=Ec,d=Kh(e.containerInfo),p=c.focusedElem,y=c.selectionRange;if(d!==p&&p&&p.ownerDocument&&Fh(p.ownerDocument.documentElement,p)){if(y!==null&&Qo(p)){var N=y.start,O=y.end;if(O===void 0&&(O=N),"selectionStart"in p)p.selectionStart=N,p.selectionEnd=Math.min(O,p.value.length);else{var z=p.ownerDocument||document,R=z&&z.defaultView||window;if(R.getSelection){var D=R.getSelection(),G=p.textContent.length,Z=Math.min(y.start,G),Ae=y.end===void 0?Z:Math.min(y.end,G);!D.extend&&Z>Ae&&(d=Ae,Ae=Z,Z=d);var C=Xh(p,Z),E=Xh(p,Ae);if(C&&E&&(D.rangeCount!==1||D.anchorNode!==C.node||D.anchorOffset!==C.offset||D.focusNode!==E.node||D.focusOffset!==E.offset)){var A=z.createRange();A.setStart(C.node,C.offset),D.removeAllRanges(),Z>Ae?(D.addRange(A),D.extend(E.node,E.offset)):(A.setEnd(E.node,E.offset),D.addRange(A))}}}}for(z=[],D=p;D=D.parentNode;)D.nodeType===1&&z.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<z.length;p++){var w=z[p];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}Dr=!!vc,Ec=vc=null}finally{_e=o,k.p=s,x.T=i}}e.current=t,Xe=2}}function ug(){if(Xe===2){Xe=0;var e=ni,t=Cl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=x.T,x.T=null;var s=k.p;k.p=2;var o=_e;_e|=4;try{Bm(e,t.alternate,t)}finally{_e=o,k.p=s,x.T=i}}Xe=3}}function cg(){if(Xe===4||Xe===3){Xe=0,Ly();var e=ni,t=Cl,i=wn,s=Jm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Xe=5:(Xe=0,Cl=ni=null,fg(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(ti=null),No(i),t=t.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Kl,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=x.T,o=k.p,k.p=2,x.T=null;try{for(var c=e.onRecoverableError,d=0;d<s.length;d++){var p=s[d];c(p.value,{componentStack:p.stack})}}finally{x.T=t,k.p=o}}(wn&3)!==0&&pr(),dn(e),o=e.pendingLanes,(i&261930)!==0&&(o&42)!==0?e===sc?Oa++:(Oa=0,sc=e):Oa=0,xa(0)}}function fg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ca(t)))}function pr(){return og(),ug(),cg(),hg()}function hg(){if(Xe!==5)return!1;var e=ni,t=lc;lc=0;var i=No(wn),s=x.T,o=k.p;try{k.p=32>i?32:i,x.T=null,i=ac,ac=null;var c=ni,d=wn;if(Xe=0,Cl=ni=null,wn=0,(_e&6)!==0)throw Error(r(331));var p=_e;if(_e|=4,Fm(c.current),Vm(c,c.current,d,i),_e=p,xa(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Kl,c)}catch{}return!0}finally{k.p=o,x.T=s,fg(e,t)}}function dg(e,t,i){t=Qt(i,t),t=Iu(e.stateNode,t,2),e=Zn(e,t,2),e!==null&&(Jl(e,2),dn(e))}function be(e,t,i){if(e.tag===3)dg(e,e,i);else for(;t!==null;){if(t.tag===3){dg(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ti===null||!ti.has(s))){e=Qt(i,e),i=mm(2),s=Zn(t,i,2),s!==null&&(gm(i,s,t,e),Jl(s,2),dn(s));break}}t=t.return}}function uc(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new sE;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(i)||(tc=!0,o.add(i),e=fE.bind(null,e,t,i),t.then(e,e))}function fE(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,De===e&&(ce&i)===i&&(He===4||He===3&&(ce&62914560)===ce&&300>Dt()-cr?(_e&2)===0&&Al(e,0):nc|=i,Tl===ce&&(Tl=0)),dn(e)}function mg(e,t){t===0&&(t=oh()),e=Ai(e,t),e!==null&&(Jl(e,t),dn(e))}function hE(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),mg(e,i)}function dE(e,t){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),mg(e,i)}function mE(e,t){return bo(e,t)}var _r=null,Rl=null,cc=!1,yr=!1,fc=!1,li=0;function dn(e){e!==Rl&&e.next===null&&(Rl===null?_r=Rl=e:Rl=Rl.next=e),yr=!0,cc||(cc=!0,pE())}function xa(e,t){if(!fc&&yr){fc=!0;do for(var i=!1,s=_r;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var c=0;else{var d=s.suspendedLanes,p=s.pingedLanes;c=(1<<31-xt(42|e)+1)-1,c&=o&~(d&~p),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(i=!0,yg(s,c))}else c=ce,c=bs(s,s===De?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(c&3)===0||Zl(s,c)||(i=!0,yg(s,c));s=s.next}while(i);fc=!1}}function gE(){gg()}function gg(){yr=cc=!1;var e=0;li!==0&&NE()&&(e=li);for(var t=Dt(),i=null,s=_r;s!==null;){var o=s.next,c=pg(s,t);c===0?(s.next=null,i===null?_r=o:i.next=o,o===null&&(Rl=i)):(i=s,(e!==0||(c&3)!==0)&&(yr=!0)),s=o}Xe!==0&&Xe!==5||xa(e),li!==0&&(li=0)}function pg(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var d=31-xt(c),p=1<<d,y=o[d];y===-1?((p&i)===0||(p&s)!==0)&&(o[d]=Yy(p,t)):y<=t&&(e.expiredLanes|=p),c&=~p}if(t=De,i=ce,i=bs(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(Se===2||Se===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&To(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Zl(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&To(s),No(i)){case 2:case 8:i=sh;break;case 32:i=ys;break;case 268435456:i=rh;break;default:i=ys}return s=_g.bind(null,e),i=bo(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&To(s),e.callbackPriority=2,e.callbackNode=null,2}function _g(e,t){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(pr()&&e.callbackNode!==i)return null;var s=ce;return s=bs(e,e===De?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Wm(e,s,t),pg(e,Dt()),e.callbackNode!=null&&e.callbackNode===i?_g.bind(null,e):null)}function yg(e,t){if(pr())return null;Wm(e,t,!0)}function pE(){DE(function(){(_e&6)!==0?bo(ah,gE):gg()})}function hc(){if(li===0){var e=hl;e===0&&(e=vs,vs<<=1,(vs&261888)===0&&(vs=256)),li=e}return li}function vg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ns(""+e)}function Eg(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function _E(e,t,i,s,o){if(t==="submit"&&i&&i.stateNode===o){var c=vg((o[_t]||null).action),d=s.submitter;d&&(t=(t=d[_t]||null)?vg(t.formAction):d.getAttribute("formAction"),t!==null&&(c=t,d=null));var p=new xs("action","action",null,s,o);e.push({event:p,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(li!==0){var y=d?Eg(o,d):new FormData(o);wu(i,{pending:!0,data:y,method:o.method,action:c},null,y)}}else typeof c=="function"&&(p.preventDefault(),y=d?Eg(o,d):new FormData(o),wu(i,{pending:!0,data:y,method:o.method,action:c},c,y))},currentTarget:o}]})}}for(var dc=0;dc<Zo.length;dc++){var mc=Zo[dc],yE=mc.toLowerCase(),vE=mc[0].toUpperCase()+mc.slice(1);nn(yE,"on"+vE)}nn(Ph,"onAnimationEnd"),nn(Wh,"onAnimationIteration"),nn($h,"onAnimationStart"),nn("dblclick","onDoubleClick"),nn("focusin","onFocus"),nn("focusout","onBlur"),nn(Uv,"onTransitionRun"),nn(Hv,"onTransitionStart"),nn(Bv,"onTransitionCancel"),nn(ed,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ma));function Sg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],o=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var d=s.length-1;0<=d;d--){var p=s[d],y=p.instance,N=p.currentTarget;if(p=p.listener,y!==c&&o.isPropagationStopped())break e;c=p,o.currentTarget=N;try{c(o)}catch(O){zs(O)}o.currentTarget=null,c=y}else for(d=0;d<s.length;d++){if(p=s[d],y=p.instance,N=p.currentTarget,p=p.listener,y!==c&&o.isPropagationStopped())break e;c=p,o.currentTarget=N;try{c(o)}catch(O){zs(O)}o.currentTarget=null,c=y}}}}function oe(e,t){var i=t[Ro];i===void 0&&(i=t[Ro]=new Set);var s=e+"__bubble";i.has(s)||(bg(t,e,2,!1),i.add(s))}function gc(e,t,i){var s=0;t&&(s|=4),bg(i,e,s,t)}var vr="_reactListening"+Math.random().toString(36).slice(2);function pc(e){if(!e[vr]){e[vr]=!0,gh.forEach(function(i){i!=="selectionchange"&&(EE.has(i)||gc(i,!1,e),gc(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vr]||(t[vr]=!0,gc("selectionchange",!1,t))}}function bg(e,t,i,s){switch(Pg(t)){case 2:var o=KE;break;case 8:o=ZE;break;default:o=Mc}i=o.bind(null,t,i,e),o=void 0,!Ho||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function _c(e,t,i,s,o){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var d=s.tag;if(d===3||d===4){var p=s.stateNode.containerInfo;if(p===o)break;if(d===4)for(d=s.return;d!==null;){var y=d.tag;if((y===3||y===4)&&d.stateNode.containerInfo===o)return;d=d.return}for(;p!==null;){if(d=Zi(p),d===null)return;if(y=d.tag,y===5||y===6||y===26||y===27){s=c=d;continue e}p=p.parentNode}}s=s.return}Rh(function(){var N=c,O=Lo(i),z=[];e:{var R=td.get(e);if(R!==void 0){var D=xs,G=e;switch(e){case"keypress":if(Ds(i)===0)break e;case"keydown":case"keyup":D=dv;break;case"focusin":G="focus",D=ko;break;case"focusout":G="blur",D=ko;break;case"beforeblur":case"afterblur":D=ko;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=xh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=tv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=pv;break;case Ph:case Wh:case $h:D=lv;break;case ed:D=yv;break;case"scroll":case"scrollend":D=$y;break;case"wheel":D=Ev;break;case"copy":case"cut":case"paste":D=sv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=wh;break;case"toggle":case"beforetoggle":D=bv}var Z=(t&4)!==0,Ae=!Z&&(e==="scroll"||e==="scrollend"),C=Z?R!==null?R+"Capture":null:R;Z=[];for(var E=N,A;E!==null;){var w=E;if(A=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||A===null||C===null||(w=$l(E,C),w!=null&&Z.push(wa(E,w,A))),Ae)break;E=E.return}0<Z.length&&(R=new D(R,G,null,i,O),z.push({event:R,listeners:Z}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",R&&i!==zo&&(G=i.relatedTarget||i.fromElement)&&(Zi(G)||G[Ki]))break e;if((D||R)&&(R=O.window===O?O:(R=O.ownerDocument)?R.defaultView||R.parentWindow:window,D?(G=i.relatedTarget||i.toElement,D=N,G=G?Zi(G):null,G!==null&&(Ae=f(G),Z=G.tag,G!==Ae||Z!==5&&Z!==27&&Z!==6)&&(G=null)):(D=null,G=N),D!==G)){if(Z=xh,w="onMouseLeave",C="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(Z=wh,w="onPointerLeave",C="onPointerEnter",E="pointer"),Ae=D==null?R:Wl(D),A=G==null?R:Wl(G),R=new Z(w,E+"leave",D,i,O),R.target=Ae,R.relatedTarget=A,w=null,Zi(O)===N&&(Z=new Z(C,E+"enter",G,i,O),Z.target=A,Z.relatedTarget=Ae,w=Z),Ae=w,D&&G)t:{for(Z=SE,C=D,E=G,A=0,w=C;w;w=Z(w))A++;w=0;for(var F=E;F;F=Z(F))w++;for(;0<A-w;)C=Z(C),A--;for(;0<w-A;)E=Z(E),w--;for(;A--;){if(C===E||E!==null&&C===E.alternate){Z=C;break t}C=Z(C),E=Z(E)}Z=null}else Z=null;D!==null&&Tg(z,R,D,Z,!1),G!==null&&Ae!==null&&Tg(z,Ae,G,Z,!0)}}e:{if(R=N?Wl(N):window,D=R.nodeName&&R.nodeName.toLowerCase(),D==="select"||D==="input"&&R.type==="file")var me=kh;else if(Ih(R))if(qh)me=wv;else{me=xv;var V=Ov}else D=R.nodeName,!D||D.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?N&&wo(N.elementType)&&(me=kh):me=Mv;if(me&&(me=me(e,N))){jh(z,me,i,O);break e}V&&V(e,R,N),e==="focusout"&&N&&R.type==="number"&&N.memoizedProps.value!=null&&Mo(R,"number",R.value)}switch(V=N?Wl(N):window,e){case"focusin":(Ih(V)||V.contentEditable==="true")&&(ll=V,Xo=N,ra=null);break;case"focusout":ra=Xo=ll=null;break;case"mousedown":Fo=!0;break;case"contextmenu":case"mouseup":case"dragend":Fo=!1,Zh(z,i,O);break;case"selectionchange":if(Lv)break;case"keydown":case"keyup":Zh(z,i,O)}var te;if(Yo)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else il?Hh(e,i)&&(fe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(fe="onCompositionStart");fe&&(zh&&i.locale!=="ko"&&(il||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&il&&(te=Dh()):(Yn=O,Bo="value"in Yn?Yn.value:Yn.textContent,il=!0)),V=Er(N,fe),0<V.length&&(fe=new Mh(fe,e,null,i,O),z.push({event:fe,listeners:V}),te?fe.data=te:(te=Bh(i),te!==null&&(fe.data=te)))),(te=Cv?Av(e,i):Nv(e,i))&&(fe=Er(N,"onBeforeInput"),0<fe.length&&(V=new Mh("onBeforeInput","beforeinput",null,i,O),z.push({event:V,listeners:fe}),V.data=te)),_E(z,e,N,i,O)}Sg(z,t)})}function wa(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Er(e,t){for(var i=t+"Capture",s=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=$l(e,i),o!=null&&s.unshift(wa(e,o,c)),o=$l(e,t),o!=null&&s.push(wa(e,o,c))),e.tag===3)return s;e=e.return}return[]}function SE(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Tg(e,t,i,s,o){for(var c=t._reactName,d=[];i!==null&&i!==s;){var p=i,y=p.alternate,N=p.stateNode;if(p=p.tag,y!==null&&y===s)break;p!==5&&p!==26&&p!==27||N===null||(y=N,o?(N=$l(i,c),N!=null&&d.unshift(wa(i,N,y))):o||(N=$l(i,c),N!=null&&d.push(wa(i,N,y)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var bE=/\r\n?/g,TE=/\u0000|\uFFFD/g;function Cg(e){return(typeof e=="string"?e:""+e).replace(bE,`
`).replace(TE,"")}function Ag(e,t){return t=Cg(t),Cg(e)===t}function Ce(e,t,i,s,o,c){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||el(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&el(e,""+s);break;case"className":Cs(e,"class",s);break;case"tabIndex":Cs(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Cs(e,i,s);break;case"style":Ah(e,s,c);break;case"data":if(t!=="object"){Cs(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Ns(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&Ce(e,t,"name",o.name,o,null),Ce(e,t,"formEncType",o.formEncType,o,null),Ce(e,t,"formMethod",o.formMethod,o,null),Ce(e,t,"formTarget",o.formTarget,o,null)):(Ce(e,t,"encType",o.encType,o,null),Ce(e,t,"method",o.method,o,null),Ce(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Ns(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=_n);break;case"onScroll":s!=null&&oe("scroll",e);break;case"onScrollEnd":s!=null&&oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=Ns(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":oe("beforetoggle",e),oe("toggle",e),Ts(e,"popover",s);break;case"xlinkActuate":pn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":pn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":pn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":pn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":pn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":pn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":pn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":pn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":pn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ts(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Py.get(i)||i,Ts(e,i,s))}}function yc(e,t,i,s,o,c){switch(i){case"style":Ah(e,s,c);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof s=="string"?el(e,s):(typeof s=="number"||typeof s=="bigint")&&el(e,""+s);break;case"onScroll":s!=null&&oe("scroll",e);break;case"onScrollEnd":s!=null&&oe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=_n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ph.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),c=e[_t]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof s=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,o);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):Ts(e,i,s)}}}function at(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oe("error",e),oe("load",e);var s=!1,o=!1,c;for(c in i)if(i.hasOwnProperty(c)){var d=i[c];if(d!=null)switch(c){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ce(e,t,c,d,i,null)}}o&&Ce(e,t,"srcSet",i.srcSet,i,null),s&&Ce(e,t,"src",i.src,i,null);return;case"input":oe("invalid",e);var p=c=d=o=null,y=null,N=null;for(s in i)if(i.hasOwnProperty(s)){var O=i[s];if(O!=null)switch(s){case"name":o=O;break;case"type":d=O;break;case"checked":y=O;break;case"defaultChecked":N=O;break;case"value":c=O;break;case"defaultValue":p=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,t));break;default:Ce(e,t,s,O,i,null)}}Sh(e,c,p,y,N,d,o,!1);return;case"select":oe("invalid",e),s=d=c=null;for(o in i)if(i.hasOwnProperty(o)&&(p=i[o],p!=null))switch(o){case"value":c=p;break;case"defaultValue":d=p;break;case"multiple":s=p;default:Ce(e,t,o,p,i,null)}t=c,i=d,e.multiple=!!s,t!=null?$i(e,!!s,t,!1):i!=null&&$i(e,!!s,i,!0);return;case"textarea":oe("invalid",e),c=o=s=null;for(d in i)if(i.hasOwnProperty(d)&&(p=i[d],p!=null))switch(d){case"value":s=p;break;case"defaultValue":o=p;break;case"children":c=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:Ce(e,t,d,p,i,null)}Th(e,s,o,c);return;case"option":for(y in i)if(i.hasOwnProperty(y)&&(s=i[y],s!=null))switch(y){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ce(e,t,y,s,i,null)}return;case"dialog":oe("beforetoggle",e),oe("toggle",e),oe("cancel",e),oe("close",e);break;case"iframe":case"object":oe("load",e);break;case"video":case"audio":for(s=0;s<Ma.length;s++)oe(Ma[s],e);break;case"image":oe("error",e),oe("load",e);break;case"details":oe("toggle",e);break;case"embed":case"source":case"link":oe("error",e),oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in i)if(i.hasOwnProperty(N)&&(s=i[N],s!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ce(e,t,N,s,i,null)}return;default:if(wo(t)){for(O in i)i.hasOwnProperty(O)&&(s=i[O],s!==void 0&&yc(e,t,O,s,i,void 0));return}}for(p in i)i.hasOwnProperty(p)&&(s=i[p],s!=null&&Ce(e,t,p,s,i,null))}function CE(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,d=null,p=null,y=null,N=null,O=null;for(D in i){var z=i[D];if(i.hasOwnProperty(D)&&z!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":y=z;default:s.hasOwnProperty(D)||Ce(e,t,D,null,s,z)}}for(var R in s){var D=s[R];if(z=i[R],s.hasOwnProperty(R)&&(D!=null||z!=null))switch(R){case"type":c=D;break;case"name":o=D;break;case"checked":N=D;break;case"defaultChecked":O=D;break;case"value":d=D;break;case"defaultValue":p=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:D!==z&&Ce(e,t,R,D,s,z)}}xo(e,d,p,y,N,O,c,o);return;case"select":D=d=p=R=null;for(c in i)if(y=i[c],i.hasOwnProperty(c)&&y!=null)switch(c){case"value":break;case"multiple":D=y;default:s.hasOwnProperty(c)||Ce(e,t,c,null,s,y)}for(o in s)if(c=s[o],y=i[o],s.hasOwnProperty(o)&&(c!=null||y!=null))switch(o){case"value":R=c;break;case"defaultValue":p=c;break;case"multiple":d=c;default:c!==y&&Ce(e,t,o,c,s,y)}t=p,i=d,s=D,R!=null?$i(e,!!i,R,!1):!!s!=!!i&&(t!=null?$i(e,!!i,t,!0):$i(e,!!i,i?[]:"",!1));return;case"textarea":D=R=null;for(p in i)if(o=i[p],i.hasOwnProperty(p)&&o!=null&&!s.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Ce(e,t,p,null,s,o)}for(d in s)if(o=s[d],c=i[d],s.hasOwnProperty(d)&&(o!=null||c!=null))switch(d){case"value":R=o;break;case"defaultValue":D=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==c&&Ce(e,t,d,o,s,c)}bh(e,R,D);return;case"option":for(var G in i)if(R=i[G],i.hasOwnProperty(G)&&R!=null&&!s.hasOwnProperty(G))switch(G){case"selected":e.selected=!1;break;default:Ce(e,t,G,null,s,R)}for(y in s)if(R=s[y],D=i[y],s.hasOwnProperty(y)&&R!==D&&(R!=null||D!=null))switch(y){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:Ce(e,t,y,R,s,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Z in i)R=i[Z],i.hasOwnProperty(Z)&&R!=null&&!s.hasOwnProperty(Z)&&Ce(e,t,Z,null,s,R);for(N in s)if(R=s[N],D=i[N],s.hasOwnProperty(N)&&R!==D&&(R!=null||D!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:Ce(e,t,N,R,s,D)}return;default:if(wo(t)){for(var Ae in i)R=i[Ae],i.hasOwnProperty(Ae)&&R!==void 0&&!s.hasOwnProperty(Ae)&&yc(e,t,Ae,void 0,s,R);for(O in s)R=s[O],D=i[O],!s.hasOwnProperty(O)||R===D||R===void 0&&D===void 0||yc(e,t,O,R,s,D);return}}for(var C in i)R=i[C],i.hasOwnProperty(C)&&R!=null&&!s.hasOwnProperty(C)&&Ce(e,t,C,null,s,R);for(z in s)R=s[z],D=i[z],!s.hasOwnProperty(z)||R===D||R==null&&D==null||Ce(e,t,z,R,s,D)}function Ng(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function AE(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var o=i[s],c=o.transferSize,d=o.initiatorType,p=o.duration;if(c&&p&&Ng(d)){for(d=0,p=o.responseEnd,s+=1;s<i.length;s++){var y=i[s],N=y.startTime;if(N>p)break;var O=y.transferSize,z=y.initiatorType;O&&Ng(z)&&(y=y.responseEnd,d+=O*(y<p?1:(p-N)/(y-N)))}if(--s,t+=8*(c+d)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var vc=null,Ec=null;function Sr(e){return e.nodeType===9?e:e.ownerDocument}function Rg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Sc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bc=null;function NE(){var e=window.event;return e&&e.type==="popstate"?e===bc?!1:(bc=e,!0):(bc=null,!1)}var Og=typeof setTimeout=="function"?setTimeout:void 0,RE=typeof clearTimeout=="function"?clearTimeout:void 0,xg=typeof Promise=="function"?Promise:void 0,DE=typeof queueMicrotask=="function"?queueMicrotask:typeof xg<"u"?function(e){return xg.resolve(null).then(e).catch(OE)}:Og;function OE(e){setTimeout(function(){throw e})}function ai(e){return e==="head"}function Mg(e,t){var i=t,s=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(o),Ml(t);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")za(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,za(i);for(var c=i.firstChild;c;){var d=c.nextSibling,p=c.nodeName;c[Pl]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&c.rel.toLowerCase()==="stylesheet"||i.removeChild(c),c=d}}else i==="body"&&za(e.ownerDocument.body);i=o}while(i);Ml(t)}function wg(e,t){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function Tc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Tc(i),Do(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function xE(e,t,i,s){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Pl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Jt(e.nextSibling),e===null)break}return null}function ME(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Jt(e.nextSibling),e===null))return null;return e}function zg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Jt(e.nextSibling),e===null))return null;return e}function Cc(e){return e.data==="$?"||e.data==="$~"}function Ac(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function wE(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Nc=null;function Lg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Jt(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function Ug(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function Hg(e,t,i){switch(t=Sr(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function za(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Do(e)}var Pt=new Map,Bg=new Set;function br(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zn=k.d;k.d={f:zE,r:LE,D:UE,C:HE,L:BE,m:IE,X:kE,S:jE,M:qE};function zE(){var e=zn.f(),t=dr();return e||t}function LE(e){var t=Ji(e);t!==null&&t.tag===5&&t.type==="form"?em(t):zn.r(e)}var Dl=typeof document>"u"?null:document;function Ig(e,t,i){var s=Dl;if(s&&typeof t=="string"&&t){var o=Gt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),Bg.has(o)||(Bg.add(o),e={rel:e,crossOrigin:i,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),at(t,"link",e),Ze(t),s.head.appendChild(t)))}}function UE(e){zn.D(e),Ig("dns-prefetch",e,null)}function HE(e,t){zn.C(e,t),Ig("preconnect",e,t)}function BE(e,t,i){zn.L(e,t,i);var s=Dl;if(s&&e&&t){var o='link[rel="preload"][as="'+Gt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+Gt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+Gt(i.imageSizes)+'"]')):o+='[href="'+Gt(e)+'"]';var c=o;switch(t){case"style":c=Ol(e);break;case"script":c=xl(e)}Pt.has(c)||(e=v({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Pt.set(c,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(La(c))||t==="script"&&s.querySelector(Ua(c))||(t=s.createElement("link"),at(t,"link",e),Ze(t),s.head.appendChild(t)))}}function IE(e,t){zn.m(e,t);var i=Dl;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Gt(s)+'"][href="'+Gt(e)+'"]',c=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=xl(e)}if(!Pt.has(c)&&(e=v({rel:"modulepreload",href:e},t),Pt.set(c,e),i.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ua(c)))return}s=i.createElement("link"),at(s,"link",e),Ze(s),i.head.appendChild(s)}}}function jE(e,t,i){zn.S(e,t,i);var s=Dl;if(s&&e){var o=Pi(s).hoistableStyles,c=Ol(e);t=t||"default";var d=o.get(c);if(!d){var p={loading:0,preload:null};if(d=s.querySelector(La(c)))p.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Pt.get(c))&&Rc(e,i);var y=d=s.createElement("link");Ze(y),at(y,"link",e),y._p=new Promise(function(N,O){y.onload=N,y.onerror=O}),y.addEventListener("load",function(){p.loading|=1}),y.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Tr(d,t,s)}d={type:"stylesheet",instance:d,count:1,state:p},o.set(c,d)}}}function kE(e,t){zn.X(e,t);var i=Dl;if(i&&e){var s=Pi(i).hoistableScripts,o=xl(e),c=s.get(o);c||(c=i.querySelector(Ua(o)),c||(e=v({src:e,async:!0},t),(t=Pt.get(o))&&Dc(e,t),c=i.createElement("script"),Ze(c),at(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function qE(e,t){zn.M(e,t);var i=Dl;if(i&&e){var s=Pi(i).hoistableScripts,o=xl(e),c=s.get(o);c||(c=i.querySelector(Ua(o)),c||(e=v({src:e,async:!0,type:"module"},t),(t=Pt.get(o))&&Dc(e,t),c=i.createElement("script"),Ze(c),at(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function jg(e,t,i,s){var o=(o=Y.current)?br(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Ol(i.href),i=Pi(o).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Ol(i.href);var c=Pi(o).hoistableStyles,d=c.get(e);if(d||(o=o.ownerDocument||o,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=o.querySelector(La(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Pt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Pt.set(e,i),c||YE(o,e,i,d.state))),t&&s===null)throw Error(r(528,""));return d}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=xl(i),i=Pi(o).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ol(e){return'href="'+Gt(e)+'"'}function La(e){return'link[rel="stylesheet"]['+e+"]"}function kg(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function YE(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),at(t,"link",i),Ze(t),e.head.appendChild(t))}function xl(e){return'[src="'+Gt(e)+'"]'}function Ua(e){return"script[async]"+e}function qg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Gt(i.href)+'"]');if(s)return t.instance=s,Ze(s),s;var o=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Ze(s),at(s,"style",o),Tr(s,i.precedence,e),t.instance=s;case"stylesheet":o=Ol(i.href);var c=e.querySelector(La(o));if(c)return t.state.loading|=4,t.instance=c,Ze(c),c;s=kg(i),(o=Pt.get(o))&&Rc(s,o),c=(e.ownerDocument||e).createElement("link"),Ze(c);var d=c;return d._p=new Promise(function(p,y){d.onload=p,d.onerror=y}),at(c,"link",s),t.state.loading|=4,Tr(c,i.precedence,e),t.instance=c;case"script":return c=xl(i.src),(o=e.querySelector(Ua(c)))?(t.instance=o,Ze(o),o):(s=i,(o=Pt.get(c))&&(s=v({},i),Dc(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),Ze(o),at(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Tr(s,i.precedence,e));return t.instance}function Tr(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,c=o,d=0;d<s.length;d++){var p=s[d];if(p.dataset.precedence===t)c=p;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Rc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Dc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Cr=null;function Yg(e,t,i){if(Cr===null){var s=new Map,o=Cr=new Map;o.set(i,s)}else o=Cr,s=o.get(i),s||(s=new Map,o.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var c=i[o];if(!(c[Pl]||c[tt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(t)||"";d=e+d;var p=s.get(d);p?p.push(c):s.set(d,[c])}}return s}function Gg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function GE(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Vg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function VE(e,t,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var o=Ol(s.href),c=t.querySelector(La(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ar.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=c,Ze(c);return}c=t.ownerDocument||t,s=kg(s),(o=Pt.get(o))&&Rc(s,o),c=c.createElement("link"),Ze(c);var d=c;d._p=new Promise(function(p,y){d.onload=p,d.onerror=y}),at(c,"link",s),i.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Ar.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Oc=0;function QE(e,t){return e.stylesheets&&e.count===0&&Rr(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&Rr(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&Oc===0&&(Oc=62500*AE());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Rr(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>Oc?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function Ar(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Nr=null;function Rr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Nr=new Map,t.forEach(XE,e),Nr=null,Ar.call(e))}function XE(e,t){if(!(t.state.loading&4)){var i=Nr.get(e);if(i)var s=i.get(null);else{i=new Map,Nr.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var d=o[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),s=d)}s&&i.set(null,s)}o=t.instance,d=o.getAttribute("data-precedence"),c=i.get(d)||s,c===s&&i.set(null,o),i.set(d,o),this.count++,s=Ar.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ha={$$typeof:ve,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function FE(e,t,i,s,o,c,d,p,y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Co(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Co(0),this.hiddenUpdates=Co(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function Qg(e,t,i,s,o,c,d,p,y,N,O,z){return e=new FE(e,t,i,d,y,N,O,z,p),t=1,c===!0&&(t|=24),c=wt(3,null,null,t),e.current=c,c.stateNode=e,t=ou(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:s,isDehydrated:i,cache:t},hu(c),e}function Xg(e){return e?(e=rl,e):rl}function Fg(e,t,i,s,o,c){o=Xg(o),s.context===null?s.context=o:s.pendingContext=o,s=Kn(t),s.payload={element:i},c=c===void 0?null:c,c!==null&&(s.callback=c),i=Zn(e,s,t),i!==null&&(Tt(i,e,t),ma(i,e,t))}function Kg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function xc(e,t){Kg(e,t),(e=e.alternate)&&Kg(e,t)}function Zg(e){if(e.tag===13||e.tag===31){var t=Ai(e,67108864);t!==null&&Tt(t,e,67108864),xc(e,67108864)}}function Jg(e){if(e.tag===13||e.tag===31){var t=Bt();t=Ao(t);var i=Ai(e,t);i!==null&&Tt(i,e,t),xc(e,t)}}var Dr=!0;function KE(e,t,i,s){var o=x.T;x.T=null;var c=k.p;try{k.p=2,Mc(e,t,i,s)}finally{k.p=c,x.T=o}}function ZE(e,t,i,s){var o=x.T;x.T=null;var c=k.p;try{k.p=8,Mc(e,t,i,s)}finally{k.p=c,x.T=o}}function Mc(e,t,i,s){if(Dr){var o=wc(s);if(o===null)_c(e,t,s,Or,i),Wg(e,s);else if(PE(o,e,t,i,s))s.stopPropagation();else if(Wg(e,s),t&4&&-1<JE.indexOf(e)){for(;o!==null;){var c=Ji(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=Ei(c.pendingLanes);if(d!==0){var p=c;for(p.pendingLanes|=2,p.entangledLanes|=2;d;){var y=1<<31-xt(d);p.entanglements[1]|=y,d&=~y}dn(c),(_e&6)===0&&(fr=Dt()+500,xa(0))}}break;case 31:case 13:p=Ai(c,2),p!==null&&Tt(p,c,2),dr(),xc(c,2)}if(c=wc(s),c===null&&_c(e,t,s,Or,i),c===o)break;o=c}o!==null&&s.stopPropagation()}else _c(e,t,s,null,i)}}function wc(e){return e=Lo(e),zc(e)}var Or=null;function zc(e){if(Or=null,e=Zi(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=h(t),e!==null)return e;e=null}else if(i===31){if(e=g(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Or=e,null}function Pg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uy()){case ah:return 2;case sh:return 8;case ys:case Hy:return 32;case rh:return 268435456;default:return 32}default:return 32}}var Lc=!1,si=null,ri=null,oi=null,Ba=new Map,Ia=new Map,ui=[],JE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wg(e,t){switch(e){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":Ba.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(t.pointerId)}}function ja(e,t,i,s,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:c,targetContainers:[o]},t!==null&&(t=Ji(t),t!==null&&Zg(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function PE(e,t,i,s,o){switch(t){case"focusin":return si=ja(si,e,t,i,s,o),!0;case"dragenter":return ri=ja(ri,e,t,i,s,o),!0;case"mouseover":return oi=ja(oi,e,t,i,s,o),!0;case"pointerover":var c=o.pointerId;return Ba.set(c,ja(Ba.get(c)||null,e,t,i,s,o)),!0;case"gotpointercapture":return c=o.pointerId,Ia.set(c,ja(Ia.get(c)||null,e,t,i,s,o)),!0}return!1}function $g(e){var t=Zi(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=h(i),t!==null){e.blockedOn=t,dh(e.priority,function(){Jg(i)});return}}else if(t===31){if(t=g(i),t!==null){e.blockedOn=t,dh(e.priority,function(){Jg(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=wc(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);zo=s,i.target.dispatchEvent(s),zo=null}else return t=Ji(i),t!==null&&Zg(t),e.blockedOn=i,!1;t.shift()}return!0}function ep(e,t,i){xr(e)&&i.delete(t)}function WE(){Lc=!1,si!==null&&xr(si)&&(si=null),ri!==null&&xr(ri)&&(ri=null),oi!==null&&xr(oi)&&(oi=null),Ba.forEach(ep),Ia.forEach(ep)}function Mr(e,t){e.blockedOn===t&&(e.blockedOn=null,Lc||(Lc=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,WE)))}var wr=null;function tp(e){wr!==e&&(wr=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){wr===e&&(wr=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(zc(s||i)===null)continue;break}var c=Ji(i);c!==null&&(e.splice(t,3),t-=3,wu(c,{pending:!0,data:o,method:i.method,action:s},s,o))}}))}function Ml(e){function t(y){return Mr(y,e)}si!==null&&Mr(si,e),ri!==null&&Mr(ri,e),oi!==null&&Mr(oi,e),Ba.forEach(t),Ia.forEach(t);for(var i=0;i<ui.length;i++){var s=ui[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ui.length&&(i=ui[0],i.blockedOn===null);)$g(i),i.blockedOn===null&&ui.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],d=o[_t]||null;if(typeof c=="function")d||tp(i);else if(d){var p=null;if(c&&c.hasAttribute("formAction")){if(o=c,d=c[_t]||null)p=d.formAction;else if(zc(o)!==null)continue}else p=d.action;typeof p=="function"?i[s+1]=p:(i.splice(s,3),s-=3),tp(i)}}}function np(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(d){return o=d})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Uc(e){this._internalRoot=e}zr.prototype.render=Uc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,s=Bt();Fg(i,s,e,t,null,null)},zr.prototype.unmount=Uc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fg(e.current,2,null,e,null,null),dr(),t[Ki]=null}};function zr(e){this._internalRoot=e}zr.prototype.unstable_scheduleHydration=function(e){if(e){var t=hh();e={blockedOn:null,target:e,priority:t};for(var i=0;i<ui.length&&t!==0&&t<ui[i].priority;i++);ui.splice(i,0,e),i===0&&$g(e)}};var ip=n.version;if(ip!=="19.2.3")throw Error(r(527,ip,"19.2.3"));k.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=m(t),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var $E={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lr.isDisabled&&Lr.supportsFiber)try{Kl=Lr.inject($E),Ot=Lr}catch{}}return qa.createRoot=function(e,t){if(!u(e))throw Error(r(299));var i=!1,s="",o=cm,c=fm,d=hm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=Qg(e,1,!1,null,null,i,s,null,o,c,d,np),e[Ki]=t.current,pc(e),new Uc(t)},qa.hydrateRoot=function(e,t,i){if(!u(e))throw Error(r(299));var s=!1,o="",c=cm,d=fm,p=hm,y=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError),i.formState!==void 0&&(y=i.formState)),t=Qg(e,1,!0,t,i??null,s,o,y,c,d,p,np),t.context=Xg(null),i=t.current,s=Bt(),s=Ao(s),o=Kn(s),o.callback=null,Zn(i,o,s),i=s,t.current.lanes=i,Jl(t,i),dn(t),e[Ki]=t.current,pc(e),new zr(t)},qa.version="19.2.3",qa}var dp;function u0(){if(dp)return Ic.exports;dp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Ic.exports=o0(),Ic.exports}var c0=u0();const f0=(a,n,l)=>{if(!l)return"neutral";if(n==="Complete")return"complete";if(n==="Not Running"||!a)return"neutral";const r=parseInt(a.replace(":",""),10);return r>1830?"high-risk-red":r>1801&&r<=1830?"mid-risk-orange":"on-time-green"},h0=a=>{switch(a){case"Running":return"Complete";case"Complete":return"Not Running";case"Not Running":case"No":default:return"Running"}},Ur=({name:a,currentOdp:n,theatreEta:l,practitionerEndTime:r,nextPractitioner:u,phoneExtension:f,status:h,handleTileClick:g,handleStatusToggle:_,highlightSettings:m})=>{const T=f0(l,h,n),v=U=>{if(h==="Not Running"||h==="Complete"||!U||!m)return"";const B=parseInt(U.replace(":",""),10);return B<=1601&&m.highlightEarlies?"early-finish":B>=1602&&B<=1759&&m.highlight1730s?"mid-finish":B===1830&&m.highlight1830s?"late-1830-finish":B===2e3&&m.highlightLates?"late-2000-finish":""};let S;switch(h){case"Complete":S="Complete!";break;case"Running":S="Running";break;case"Not Running":S="Not Running";break;default:S="Set Status"}return H.jsxs("div",{className:`theatre-tile ${T}`,onClick:()=>g(a),children:[H.jsxs("div",{className:"header",children:[H.jsx("span",{className:"theatre-name",children:a}),l&&H.jsxs("span",{className:"eta",children:["ETA: ",l]})]}),H.jsx("div",{className:"content",children:n?H.jsxs(H.Fragment,{children:[H.jsxs("p",{className:`practitioner-info ${v(r)}`,children:[n," ",r]}),u&&H.jsxs("p",{className:"relief-info",children:["Relief: ",u]})]}):H.jsx("p",{className:"unallocated-text",children:"Click to Allocate"})}),H.jsxs("div",{className:"footer",children:[f&&H.jsx("span",{className:"phone-extension",children:f}),H.jsx("button",{className:`complete-toggle ${h==="Running"?"running":""} ${h==="Completed"?"completed":""} ${h==="Not Running"?"not-running":""}`,onMouseDown:U=>U.stopPropagation(),onClick:U=>{U.stopPropagation(),_(a,h0(h))},children:S})]})]})},d0=({theatre:a,onClose:n,onSave:l,onReset:r,practitionerList:u})=>{const f=ne.useMemo(()=>[...u].sort((B,Q)=>B.name.localeCompare(Q.name)).map(B=>({...B,formattedName:`${B.name} (End Time: ${B.endTime})`})),[u]),h=ne.useMemo(()=>new Map(f.map(U=>[U.formattedName,U.endTime])),[f]),[g,_]=ne.useState({name:a.name||"",currentOdp:a.currentOdp||"",theatreEta:a.theatreEta||"17:30",practitionerEndTime:a.practitionerEndTime||"17:30",nextPractitioner:a.nextPractitioner||"",phoneExtension:a.phoneExtension||"",isComplete:a.status==="Complete"?"Yes":"No"}),m=U=>{const{name:B,value:Q,type:ee,checked:Re}=U.target;let ye={...g};if(B==="currentOdp")if(ye.currentOdp=Q,h.has(Q)){ye.practitionerEndTime=h.get(Q);const ve=Q.match(/(.*) \(End Time:.*\)/);ye.currentOdp=ve?ve[1].trim():Q}else Q===""?(ye.practitionerEndTime="",ye.currentOdp=""):ye.currentOdp=Q;_({...ye,[B]:B==="currentOdp"?ye.currentOdp:ee==="checkbox"?Re?"Yes":"No":Q})},T=U=>{U.preventDefault(),l(a.name,g)},v=()=>{window.confirm(`Are you sure you want to clear the data for ${a.name}?`)&&r(a.name)},S=()=>{const U=f.find(B=>B.name===g.currentOdp);return U?U.formattedName:g.currentOdp};return H.jsx("div",{className:"modal-backdrop",onClick:n,children:H.jsxs("div",{className:"modal-content",onClick:U=>U.stopPropagation(),children:[H.jsxs("h2",{children:["Edit ",a.name]}),H.jsxs("form",{onSubmit:T,children:[H.jsx("datalist",{id:"practitioner-names",children:f.map((U,B)=>H.jsx("option",{value:U.formattedName},B))}),H.jsxs("label",{children:["Theatre Name:",H.jsx("input",{type:"text",name:"name",placeholder:"Enter theatre name...",value:g.name,onChange:m,required:!0})]}),H.jsxs("label",{children:["Phone Extension (4 digits):",H.jsx("input",{type:"text",name:"phoneExtension",placeholder:"e.g., 1234",value:g.phoneExtension,onChange:m,maxLength:"4",pattern:"[0-9]*"})]}),H.jsxs("label",{children:["Current ODP:",H.jsx("input",{type:"text",list:"practitioner-names",name:"currentOdp",placeholder:"Type or select name...",value:S(),onChange:m})]}),H.jsxs("label",{children:["Theatre ETA: (e.g., 17:30)",H.jsx("input",{type:"time",name:"theatreEta",value:g.theatreEta,onChange:m,required:!0})]}),H.jsxs("label",{children:["Practitioner End Time: (Auto-set on ODP selection)",H.jsx("input",{type:"time",name:"practitionerEndTime",value:g.practitionerEndTime,onChange:m,required:!0})]}),H.jsxs("label",{children:["Next Practitioner (Relief):",H.jsx("input",{type:"text",list:"practitioner-names",name:"nextPractitioner",placeholder:"Type or select relief name...",value:g.nextPractitioner,onChange:m})]}),H.jsxs("label",{className:"checkbox-label",children:[H.jsx("input",{type:"checkbox",name:"isComplete",checked:g.isComplete==="Yes",onChange:m}),"Mark as Complete?"]}),H.jsxs("div",{className:"modal-actions",children:[H.jsx("button",{type:"button",onClick:v,className:"reset-btn",children:"Clear Display"}),H.jsx("button",{type:"button",onClick:n,className:"cancel-btn",children:"Cancel"}),H.jsx("button",{type:"submit",className:"save-btn",children:"Save Changes"})]})]})]})})},m0=()=>{};var mp={};const s_={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const I=function(a,n){if(!a)throw Gl(n)},Gl=function(a){return new Error("Firebase Database ("+s_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};const r_=function(a){const n=[];let l=0;for(let r=0;r<a.length;r++){let u=a.charCodeAt(r);u<128?n[l++]=u:u<2048?(n[l++]=u>>6|192,n[l++]=u&63|128):(u&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(a.charCodeAt(++r)&1023),n[l++]=u>>18|240,n[l++]=u>>12&63|128,n[l++]=u>>6&63|128,n[l++]=u&63|128):(n[l++]=u>>12|224,n[l++]=u>>6&63|128,n[l++]=u&63|128)}return n},g0=function(a){const n=[];let l=0,r=0;for(;l<a.length;){const u=a[l++];if(u<128)n[r++]=String.fromCharCode(u);else if(u>191&&u<224){const f=a[l++];n[r++]=String.fromCharCode((u&31)<<6|f&63)}else if(u>239&&u<365){const f=a[l++],h=a[l++],g=a[l++],_=((u&7)<<18|(f&63)<<12|(h&63)<<6|g&63)-65536;n[r++]=String.fromCharCode(55296+(_>>10)),n[r++]=String.fromCharCode(56320+(_&1023))}else{const f=a[l++],h=a[l++];n[r++]=String.fromCharCode((u&15)<<12|(f&63)<<6|h&63)}}return n.join("")},bf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,n){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<a.length;u+=3){const f=a[u],h=u+1<a.length,g=h?a[u+1]:0,_=u+2<a.length,m=_?a[u+2]:0,T=f>>2,v=(f&3)<<4|g>>4;let S=(g&15)<<2|m>>6,U=m&63;_||(U=64,h||(S=64)),r.push(l[T],l[v],l[S],l[U])}return r.join("")},encodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(a):this.encodeByteArray(r_(a),n)},decodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(a):g0(this.decodeStringToByteArray(a,n))},decodeStringToByteArray(a,n){this.init_();const l=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<a.length;){const f=l[a.charAt(u++)],g=u<a.length?l[a.charAt(u)]:0;++u;const m=u<a.length?l[a.charAt(u)]:64;++u;const v=u<a.length?l[a.charAt(u)]:64;if(++u,f==null||g==null||m==null||v==null)throw new p0;const S=f<<2|g>>4;if(r.push(S),m!==64){const U=g<<4&240|m>>2;if(r.push(U),v!==64){const B=m<<6&192|v;r.push(B)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class p0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o_=function(a){const n=r_(a);return bf.encodeByteArray(n,!0)},Gr=function(a){return o_(a).replace(/\./g,"")},$c=function(a){try{return bf.decodeString(a,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};function _0(a){return u_(void 0,a)}function u_(a,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const l=n;return new Date(l.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return n}for(const l in n)!n.hasOwnProperty(l)||!y0(l)||(a[l]=u_(a[l],n[l]));return a}function y0(a){return a!=="__proto__"}function v0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const E0=()=>v0().__FIREBASE_DEFAULTS__,S0=()=>{if(typeof process>"u"||typeof mp>"u")return;const a=mp.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},b0=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=a&&$c(a[1]);return n&&JSON.parse(n)},c_=()=>{try{return m0()||E0()||S0()||b0()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},T0=a=>c_()?.emulatorHosts?.[a],C0=a=>{const n=T0(a);if(!n)return;const l=n.lastIndexOf(":");if(l<=0||l+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(l+1),10);return n[0]==="["?[n.substring(1,l-1),r]:[n.substring(0,l),r]},f_=()=>c_()?.config;class cs{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,l)=>{this.resolve=n,this.reject=l})}wrapCallback(n){return(l,r)=>{l?this.reject(l):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(l):n(l,r))}}}function Tf(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function A0(a){return(await fetch(a,{credentials:"include"})).ok}function N0(a,n){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const l={alg:"none",type:"JWT"},r=n||"demo-project",u=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Gr(JSON.stringify(l)),Gr(JSON.stringify(h)),""].join(".")}const Fa={};function R0(){const a={prod:[],emulator:[]};for(const n of Object.keys(Fa))Fa[n]?a.emulator.push(n):a.prod.push(n);return a}function D0(a){let n=document.getElementById(a),l=!1;return n||(n=document.createElement("div"),n.setAttribute("id",a),l=!0),{created:l,element:n}}let gp=!1;function O0(a,n){if(typeof window>"u"||typeof document>"u"||!Tf(window.location.host)||Fa[a]===n||Fa[a]||gp)return;Fa[a]=n;function l(S){return`__firebase__banner__${S}`}const r="__firebase__banner",f=R0().prod.length>0;function h(){const S=document.getElementById(r);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function _(S,U){S.setAttribute("width","24"),S.setAttribute("id",U),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function m(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{gp=!0,h()},S}function T(S,U){S.setAttribute("id",U),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function v(){const S=D0(r),U=l("text"),B=document.getElementById(U)||document.createElement("span"),Q=l("learnmore"),ee=document.getElementById(Q)||document.createElement("a"),Re=l("preprendIcon"),ye=document.getElementById(Re)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ve=S.element;g(ve),T(ee,Q);const qe=m();_(ye,Re),ve.append(ye,B,ee,qe),document.body.appendChild(ve)}f?(B.innerText="Preview backend disconnected.",ye.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ye.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function x0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(x0())}function M0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function w0(){return s_.NODE_ADMIN===!0}function z0(){try{return typeof indexedDB=="object"}catch{return!1}}function L0(){return new Promise((a,n)=>{try{let l=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),l||self.indexedDB.deleteDatabase(r),a(!0)},u.onupgradeneeded=()=>{l=!1},u.onerror=()=>{n(u.error?.message||"")}}catch(l){n(l)}})}const U0="FirebaseError";class fs extends Error{constructor(n,l,r){super(l),this.code=n,this.customData=r,this.name=U0,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,d_.prototype.create)}}class d_{constructor(n,l,r){this.service=n,this.serviceName=l,this.errors=r}create(n,...l){const r=l[0]||{},u=`${this.service}/${n}`,f=this.errors[n],h=f?H0(f,r):"Error",g=`${this.serviceName}: ${h} (${u}).`;return new fs(u,g,r)}}function H0(a,n){return a.replace(B0,(l,r)=>{const u=n[r];return u!=null?String(u):`<${r}?>`})}const B0=/\{\$([^}]+)}/g;function $a(a){return JSON.parse(a)}function Ke(a){return JSON.stringify(a)}const m_=function(a){let n={},l={},r={},u="";try{const f=a.split(".");n=$a($c(f[0])||""),l=$a($c(f[1])||""),u=f[2],r=l.d||{},delete l.d}catch{}return{header:n,claims:l,data:r,signature:u}},I0=function(a){const n=m_(a),l=n.claims;return!!l&&typeof l=="object"&&l.hasOwnProperty("iat")},j0=function(a){const n=m_(a).claims;return typeof n=="object"&&n.admin===!0};function mn(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function Bl(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]}function pp(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}function Vr(a,n,l){const r={};for(const u in a)Object.prototype.hasOwnProperty.call(a,u)&&(r[u]=n.call(l,a[u],u,a));return r}function Qr(a,n){if(a===n)return!0;const l=Object.keys(a),r=Object.keys(n);for(const u of l){if(!r.includes(u))return!1;const f=a[u],h=n[u];if(_p(f)&&_p(h)){if(!Qr(f,h))return!1}else if(f!==h)return!1}for(const u of r)if(!l.includes(u))return!1;return!0}function _p(a){return a!==null&&typeof a=="object"}function k0(a){const n=[];for(const[l,r]of Object.entries(a))Array.isArray(r)?r.forEach(u=>{n.push(encodeURIComponent(l)+"="+encodeURIComponent(u))}):n.push(encodeURIComponent(l)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}class q0{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,l){l||(l=0);const r=this.W_;if(typeof n=="string")for(let v=0;v<16;v++)r[v]=n.charCodeAt(l)<<24|n.charCodeAt(l+1)<<16|n.charCodeAt(l+2)<<8|n.charCodeAt(l+3),l+=4;else for(let v=0;v<16;v++)r[v]=n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3],l+=4;for(let v=16;v<80;v++){const S=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(S<<1|S>>>31)&4294967295}let u=this.chain_[0],f=this.chain_[1],h=this.chain_[2],g=this.chain_[3],_=this.chain_[4],m,T;for(let v=0;v<80;v++){v<40?v<20?(m=g^f&(h^g),T=1518500249):(m=f^h^g,T=1859775393):v<60?(m=f&h|g&(f|h),T=2400959708):(m=f^h^g,T=3395469782);const S=(u<<5|u>>>27)+m+_+T+r[v]&4294967295;_=g,g=h,h=(f<<30|f>>>2)&4294967295,f=u,u=S}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+g&4294967295,this.chain_[4]=this.chain_[4]+_&4294967295}update(n,l){if(n==null)return;l===void 0&&(l=n.length);const r=l-this.blockSize;let u=0;const f=this.buf_;let h=this.inbuf_;for(;u<l;){if(h===0)for(;u<=r;)this.compress_(n,u),u+=this.blockSize;if(typeof n=="string"){for(;u<l;)if(f[h]=n.charCodeAt(u),++h,++u,h===this.blockSize){this.compress_(f),h=0;break}}else for(;u<l;)if(f[h]=n[u],++h,++u,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=l}digest(){const n=[];let l=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let u=this.blockSize-1;u>=56;u--)this.buf_[u]=l&255,l/=256;this.compress_(this.buf_);let r=0;for(let u=0;u<5;u++)for(let f=24;f>=0;f-=8)n[r]=this.chain_[u]>>f&255,++r;return n}}function ro(a,n){return`${a} failed: ${n} argument `}const Y0=function(a){const n=[];let l=0;for(let r=0;r<a.length;r++){let u=a.charCodeAt(r);if(u>=55296&&u<=56319){const f=u-55296;r++,I(r<a.length,"Surrogate pair missing trail surrogate.");const h=a.charCodeAt(r)-56320;u=65536+(f<<10)+h}u<128?n[l++]=u:u<2048?(n[l++]=u>>6|192,n[l++]=u&63|128):u<65536?(n[l++]=u>>12|224,n[l++]=u>>6&63|128,n[l++]=u&63|128):(n[l++]=u>>18|240,n[l++]=u>>12&63|128,n[l++]=u>>6&63|128,n[l++]=u&63|128)}return n},oo=function(a){let n=0;for(let l=0;l<a.length;l++){const r=a.charCodeAt(l);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,l++):n+=3}return n};function Vl(a){return a&&a._delegate?a._delegate:a}class es{constructor(n,l,r){this.name=n,this.instanceFactory=l,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}const Ii="[DEFAULT]";class G0{constructor(n,l){this.name=n,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const l=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(l)){const r=new cs;if(this.instancesDeferred.set(l,r),this.isInitialized(l)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:l});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(n){const l=this.normalizeInstanceIdentifier(n?.identifier),r=n?.optional??!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(u){if(r)return null;throw u}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(Q0(n))try{this.getOrInitializeService({instanceIdentifier:Ii})}catch{}for(const[l,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(l);try{const f=this.getOrInitializeService({instanceIdentifier:u});r.resolve(f)}catch{}}}}clearInstance(n=Ii){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(l=>"INTERNAL"in l).map(l=>l.INTERNAL.delete()),...n.filter(l=>"_delete"in l).map(l=>l._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Ii){return this.instances.has(n)}getOptions(n=Ii){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:l={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:l});for(const[f,h]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(f);r===g&&h.resolve(u)}return u}onInit(n,l){const r=this.normalizeInstanceIdentifier(l),u=this.onInitCallbacks.get(r)??new Set;u.add(n),this.onInitCallbacks.set(r,u);const f=this.instances.get(r);return f&&n(f,r),()=>{u.delete(n)}}invokeOnInitCallbacks(n,l){const r=this.onInitCallbacks.get(l);if(r)for(const u of r)try{u(n,l)}catch{}}getOrInitializeService({instanceIdentifier:n,options:l={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:V0(n),options:l}),this.instances.set(n,r),this.instancesOptions.set(n,l),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=Ii){return this.component?this.component.multipleInstances?n:Ii:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function V0(a){return a===Ii?void 0:a}function Q0(a){return a.instantiationMode==="EAGER"}class X0{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const l=this.getProvider(n.name);if(l.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);l.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const l=new G0(n,this);return this.providers.set(n,l),l}getProviders(){return Array.from(this.providers.values())}}var xe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(xe||(xe={}));const F0={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},K0=xe.INFO,Z0={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},J0=(a,n,...l)=>{if(n<a.logLevel)return;const r=new Date().toISOString(),u=Z0[n];if(u)console[u](`[${r}]  ${a.name}:`,...l);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class g_{constructor(n){this.name=n,this._logLevel=K0,this._logHandler=J0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in xe))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?F0[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...n),this._logHandler(this,xe.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...n),this._logHandler(this,xe.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...n),this._logHandler(this,xe.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...n),this._logHandler(this,xe.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...n),this._logHandler(this,xe.ERROR,...n)}}const P0=(a,n)=>n.some(l=>a instanceof l);let yp,vp;function W0(){return yp||(yp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $0(){return vp||(vp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p_=new WeakMap,ef=new WeakMap,__=new WeakMap,Yc=new WeakMap,Cf=new WeakMap;function eS(a){const n=new Promise((l,r)=>{const u=()=>{a.removeEventListener("success",f),a.removeEventListener("error",h)},f=()=>{l(hi(a.result)),u()},h=()=>{r(a.error),u()};a.addEventListener("success",f),a.addEventListener("error",h)});return n.then(l=>{l instanceof IDBCursor&&p_.set(l,a)}).catch(()=>{}),Cf.set(n,a),n}function tS(a){if(ef.has(a))return;const n=new Promise((l,r)=>{const u=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",h),a.removeEventListener("abort",h)},f=()=>{l(),u()},h=()=>{r(a.error||new DOMException("AbortError","AbortError")),u()};a.addEventListener("complete",f),a.addEventListener("error",h),a.addEventListener("abort",h)});ef.set(a,n)}let tf={get(a,n,l){if(a instanceof IDBTransaction){if(n==="done")return ef.get(a);if(n==="objectStoreNames")return a.objectStoreNames||__.get(a);if(n==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return hi(a[n])},set(a,n,l){return a[n]=l,!0},has(a,n){return a instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in a}};function nS(a){tf=a(tf)}function iS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...l){const r=a.call(Gc(this),n,...l);return __.set(r,n.sort?n.sort():[n]),hi(r)}:$0().includes(a)?function(...n){return a.apply(Gc(this),n),hi(p_.get(this))}:function(...n){return hi(a.apply(Gc(this),n))}}function lS(a){return typeof a=="function"?iS(a):(a instanceof IDBTransaction&&tS(a),P0(a,W0())?new Proxy(a,tf):a)}function hi(a){if(a instanceof IDBRequest)return eS(a);if(Yc.has(a))return Yc.get(a);const n=lS(a);return n!==a&&(Yc.set(a,n),Cf.set(n,a)),n}const Gc=a=>Cf.get(a);function aS(a,n,{blocked:l,upgrade:r,blocking:u,terminated:f}={}){const h=indexedDB.open(a,n),g=hi(h);return r&&h.addEventListener("upgradeneeded",_=>{r(hi(h.result),_.oldVersion,_.newVersion,hi(h.transaction),_)}),l&&h.addEventListener("blocked",_=>l(_.oldVersion,_.newVersion,_)),g.then(_=>{f&&_.addEventListener("close",()=>f()),u&&_.addEventListener("versionchange",m=>u(m.oldVersion,m.newVersion,m))}).catch(()=>{}),g}const sS=["get","getKey","getAll","getAllKeys","count"],rS=["put","add","delete","clear"],Vc=new Map;function Ep(a,n){if(!(a instanceof IDBDatabase&&!(n in a)&&typeof n=="string"))return;if(Vc.get(n))return Vc.get(n);const l=n.replace(/FromIndex$/,""),r=n!==l,u=rS.includes(l);if(!(l in(r?IDBIndex:IDBObjectStore).prototype)||!(u||sS.includes(l)))return;const f=async function(h,...g){const _=this.transaction(h,u?"readwrite":"readonly");let m=_.store;return r&&(m=m.index(g.shift())),(await Promise.all([m[l](...g),u&&_.done]))[0]};return Vc.set(n,f),f}nS(a=>({...a,get:(n,l,r)=>Ep(n,l)||a.get(n,l,r),has:(n,l)=>!!Ep(n,l)||a.has(n,l)}));class oS{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(uS(l)){const r=l.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(l=>l).join(" ")}}function uS(a){return a.getComponent()?.type==="VERSION"}const nf="@firebase/app",Sp="0.14.6";const Hn=new g_("@firebase/app"),cS="@firebase/app-compat",fS="@firebase/analytics-compat",hS="@firebase/analytics",dS="@firebase/app-check-compat",mS="@firebase/app-check",gS="@firebase/auth",pS="@firebase/auth-compat",_S="@firebase/database",yS="@firebase/data-connect",vS="@firebase/database-compat",ES="@firebase/functions",SS="@firebase/functions-compat",bS="@firebase/installations",TS="@firebase/installations-compat",CS="@firebase/messaging",AS="@firebase/messaging-compat",NS="@firebase/performance",RS="@firebase/performance-compat",DS="@firebase/remote-config",OS="@firebase/remote-config-compat",xS="@firebase/storage",MS="@firebase/storage-compat",wS="@firebase/firestore",zS="@firebase/ai",LS="@firebase/firestore-compat",US="firebase",HS="12.6.0";const lf="[DEFAULT]",BS={[nf]:"fire-core",[cS]:"fire-core-compat",[hS]:"fire-analytics",[fS]:"fire-analytics-compat",[mS]:"fire-app-check",[dS]:"fire-app-check-compat",[gS]:"fire-auth",[pS]:"fire-auth-compat",[_S]:"fire-rtdb",[yS]:"fire-data-connect",[vS]:"fire-rtdb-compat",[ES]:"fire-fn",[SS]:"fire-fn-compat",[bS]:"fire-iid",[TS]:"fire-iid-compat",[CS]:"fire-fcm",[AS]:"fire-fcm-compat",[NS]:"fire-perf",[RS]:"fire-perf-compat",[DS]:"fire-rc",[OS]:"fire-rc-compat",[xS]:"fire-gcs",[MS]:"fire-gcs-compat",[wS]:"fire-fst",[LS]:"fire-fst-compat",[zS]:"fire-vertex","fire-js":"fire-js",[US]:"fire-js-all"};const Xr=new Map,IS=new Map,af=new Map;function bp(a,n){try{a.container.addComponent(n)}catch(l){Hn.debug(`Component ${n.name} failed to register with FirebaseApp ${a.name}`,l)}}function Fr(a){const n=a.name;if(af.has(n))return Hn.debug(`There were multiple attempts to register component ${n}.`),!1;af.set(n,a);for(const l of Xr.values())bp(l,a);for(const l of IS.values())bp(l,a);return!0}function jS(a,n){const l=a.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),a.container.getProvider(n)}function kS(a){return a==null?!1:a.settings!==void 0}const qS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},di=new d_("app","Firebase",qS);class YS{constructor(n,l,r){this._isDeleted=!1,this._options={...n},this._config={...l},this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}}const GS=HS;function y_(a,n={}){let l=a;typeof n!="object"&&(n={name:n});const r={name:lf,automaticDataCollectionEnabled:!0,...n},u=r.name;if(typeof u!="string"||!u)throw di.create("bad-app-name",{appName:String(u)});if(l||(l=f_()),!l)throw di.create("no-options");const f=Xr.get(u);if(f){if(Qr(l,f.options)&&Qr(r,f.config))return f;throw di.create("duplicate-app",{appName:u})}const h=new X0(u);for(const _ of af.values())h.addComponent(_);const g=new YS(l,r,h);return Xr.set(u,g),g}function VS(a=lf){const n=Xr.get(a);if(!n&&a===lf&&f_())return y_();if(!n)throw di.create("no-app",{appName:a});return n}function Ll(a,n,l){let r=BS[a]??a;l&&(r+=`-${l}`);const u=r.match(/\s|\//),f=n.match(/\s|\//);if(u||f){const h=[`Unable to register library "${r}" with version "${n}":`];u&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),u&&f&&h.push("and"),f&&h.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Hn.warn(h.join(" "));return}Fr(new es(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}const QS="firebase-heartbeat-database",XS=1,ts="firebase-heartbeat-store";let Qc=null;function v_(){return Qc||(Qc=aS(QS,XS,{upgrade:(a,n)=>{switch(n){case 0:try{a.createObjectStore(ts)}catch(l){console.warn(l)}}}}).catch(a=>{throw di.create("idb-open",{originalErrorMessage:a.message})})),Qc}async function FS(a){try{const l=(await v_()).transaction(ts),r=await l.objectStore(ts).get(E_(a));return await l.done,r}catch(n){if(n instanceof fs)Hn.warn(n.message);else{const l=di.create("idb-get",{originalErrorMessage:n?.message});Hn.warn(l.message)}}}async function Tp(a,n){try{const r=(await v_()).transaction(ts,"readwrite");await r.objectStore(ts).put(n,E_(a)),await r.done}catch(l){if(l instanceof fs)Hn.warn(l.message);else{const r=di.create("idb-set",{originalErrorMessage:l?.message});Hn.warn(r.message)}}}function E_(a){return`${a.name}!${a.options.appId}`}const KS=1024,ZS=30;class JS{constructor(n){this.container=n,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new WS(l),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Cp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(u=>u.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:l}),this._heartbeatsCache.heartbeats.length>ZS){const u=$S(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Hn.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cp(),{heartbeatsToSend:l,unsentEntries:r}=PS(this._heartbeatsCache.heartbeats),u=Gr(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Hn.warn(n),""}}}function Cp(){return new Date().toISOString().substring(0,10)}function PS(a,n=KS){const l=[];let r=a.slice();for(const u of a){const f=l.find(h=>h.agent===u.agent);if(f){if(f.dates.push(u.date),Ap(l)>n){f.dates.pop();break}}else if(l.push({agent:u.agent,dates:[u.date]}),Ap(l)>n){l.pop();break}r=r.slice(1)}return{heartbeatsToSend:l,unsentEntries:r}}class WS{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return z0()?L0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const l=await FS(this.app);return l?.heartbeats?l:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return Tp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return Tp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function Ap(a){return Gr(JSON.stringify({version:2,heartbeats:a})).length}function $S(a){if(a.length===0)return-1;let n=0,l=a[0].date;for(let r=1;r<a.length;r++)a[r].date<l&&(l=a[r].date,n=r);return n}function e1(a){Fr(new es("platform-logger",n=>new oS(n),"PRIVATE")),Fr(new es("heartbeat",n=>new JS(n),"PRIVATE")),Ll(nf,Sp,a),Ll(nf,Sp,"esm2020"),Ll("fire-js","")}e1("");var Np={};const Rp="@firebase/database",Dp="1.1.0";let S_="";function t1(a){S_=a}class n1{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,l){l==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),Ke(l))}get(n){const l=this.domStorage_.getItem(this.prefixedName_(n));return l==null?null:$a(l)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class i1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,l){l==null?delete this.cache_[n]:this.cache_[n]=l}get(n){return mn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const b_=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const n=window[a];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new n1(n)}}catch{}return new i1},ki=b_("localStorage"),l1=b_("sessionStorage");const Ul=new g_("@firebase/database"),a1=(function(){let a=1;return function(){return a++}})(),T_=function(a){const n=Y0(a),l=new q0;l.update(n);const r=l.digest();return bf.encodeByteArray(r)},hs=function(...a){let n="";for(let l=0;l<a.length;l++){const r=a[l];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=hs.apply(null,r):typeof r=="object"?n+=Ke(r):n+=r,n+=" "}return n};let Ka=null,Op=!0;const s1=function(a,n){I(!0,"Can't turn on custom loggers persistently."),Ul.logLevel=xe.VERBOSE,Ka=Ul.log.bind(Ul)},rt=function(...a){if(Op===!0&&(Op=!1,Ka===null&&l1.get("logging_enabled")===!0&&s1()),Ka){const n=hs.apply(null,a);Ka(n)}},ds=function(a){return function(...n){rt(a,...n)}},sf=function(...a){const n="FIREBASE INTERNAL ERROR: "+hs(...a);Ul.error(n)},Bn=function(...a){const n=`FIREBASE FATAL ERROR: ${hs(...a)}`;throw Ul.error(n),new Error(n)},mt=function(...a){const n="FIREBASE WARNING: "+hs(...a);Ul.warn(n)},r1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Af=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},o1=function(a){if(document.readyState==="complete")a();else{let n=!1;const l=function(){if(!document.body){setTimeout(l,Math.floor(10));return}n||(n=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&l()}),window.attachEvent("onload",l))}},Il="[MIN_NAME]",qi="[MAX_NAME]",Vi=function(a,n){if(a===n)return 0;if(a===Il||n===qi)return-1;if(n===Il||a===qi)return 1;{const l=xp(a),r=xp(n);return l!==null?r!==null?l-r===0?a.length-n.length:l-r:-1:r!==null?1:a<n?-1:1}},u1=function(a,n){return a===n?0:a<n?-1:1},Ya=function(a,n){if(n&&a in n)return n[a];throw new Error("Missing required key ("+a+") in object: "+Ke(n))},Nf=function(a){if(typeof a!="object"||a===null)return Ke(a);const n=[];for(const r in a)n.push(r);n.sort();let l="{";for(let r=0;r<n.length;r++)r!==0&&(l+=","),l+=Ke(n[r]),l+=":",l+=Nf(a[n[r]]);return l+="}",l},C_=function(a,n){const l=a.length;if(l<=n)return[a];const r=[];for(let u=0;u<l;u+=n)u+n>l?r.push(a.substring(u,l)):r.push(a.substring(u,u+n));return r};function ot(a,n){for(const l in a)a.hasOwnProperty(l)&&n(l,a[l])}const A_=function(a){I(!Af(a),"Invalid JSON number");const n=11,l=52,r=(1<<n-1)-1;let u,f,h,g,_;a===0?(f=0,h=0,u=1/a===-1/0?1:0):(u=a<0,a=Math.abs(a),a>=Math.pow(2,1-r)?(g=Math.min(Math.floor(Math.log(a)/Math.LN2),r),f=g+r,h=Math.round(a*Math.pow(2,l-g)-Math.pow(2,l))):(f=0,h=Math.round(a/Math.pow(2,1-r-l))));const m=[];for(_=l;_;_-=1)m.push(h%2?1:0),h=Math.floor(h/2);for(_=n;_;_-=1)m.push(f%2?1:0),f=Math.floor(f/2);m.push(u?1:0),m.reverse();const T=m.join("");let v="";for(_=0;_<64;_+=8){let S=parseInt(T.substr(_,8),2).toString(16);S.length===1&&(S="0"+S),v=v+S}return v.toLowerCase()},c1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},f1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function h1(a,n){let l="Unknown Error";a==="too_big"?l="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?l="Client doesn't have permission to access the desired data.":a==="unavailable"&&(l="The service is unavailable");const r=new Error(a+" at "+n._path.toString()+": "+l);return r.code=a.toUpperCase(),r}const d1=new RegExp("^-?(0*)\\d{1,10}$"),m1=-2147483648,g1=2147483647,xp=function(a){if(d1.test(a)){const n=Number(a);if(n>=m1&&n<=g1)return n}return null},Ql=function(a){try{a()}catch(n){setTimeout(()=>{const l=n.stack||"";throw mt("Exception was thrown by user callback.",l),n},Math.floor(0))}},p1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Za=function(a,n){const l=setTimeout(a,n);return typeof l=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):typeof l=="object"&&l.unref&&l.unref(),l};class _1{constructor(n,l){this.appCheckProvider=l,this.appName=n.name,kS(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=l?.getImmediate({optional:!0}),this.appCheck||l?.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((l,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(l=>l.addTokenListener(n))}notifyForInvalidToken(){mt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class y1{constructor(n,l,r){this.appName_=n,this.firebaseOptions_=l,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(u=>this.auth_=u)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(l=>l&&l.code==="auth/token-not-initialized"?(rt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(l=>l.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(l=>l.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mt(n)}}class Yr{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Yr.OWNER="owner";const Rf="5",N_="v",R_="s",D_="r",O_="f",x_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,M_="ls",w_="p",rf="ac",z_="websocket",L_="long_polling";class U_{constructor(n,l,r,u,f=!1,h="",g=!1,_=!1,m=null){this.secure=l,this.namespace=r,this.webSocketOnly=u,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=g,this.isUsingEmulator=_,this.emulatorOptions=m,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ki.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&ki.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${l}`}}function v1(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function H_(a,n,l){I(typeof n=="string","typeof type must == string"),I(typeof l=="object","typeof params must == object");let r;if(n===z_)r=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(n===L_)r=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);v1(a)&&(l.ns=a.namespace);const u=[];return ot(l,(f,h)=>{u.push(f+"="+h)}),r+u.join("&")}class E1{constructor(){this.counters_={}}incrementCounter(n,l=1){mn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=l}get(){return _0(this.counters_)}}const Xc={},Fc={};function Df(a){const n=a.toString();return Xc[n]||(Xc[n]=new E1),Xc[n]}function S1(a,n){const l=a.toString();return Fc[l]||(Fc[l]=n()),Fc[l]}class b1{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,l){this.closeAfterResponse=n,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,l){for(this.pendingResponses[n]=l;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<r.length;++u)r[u]&&Ql(()=>{this.onMessage_(r[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Mp="start",T1="close",C1="pLPCommand",A1="pRTLPCB",B_="id",I_="pw",j_="ser",N1="cb",R1="seg",D1="ts",O1="d",x1="dframe",k_=1870,q_=30,M1=k_-q_,w1=25e3,z1=3e4;class zl{constructor(n,l,r,u,f,h,g){this.connId=n,this.repoInfo=l,this.applicationId=r,this.appCheckToken=u,this.authToken=f,this.transportSessionId=h,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ds(n),this.stats_=Df(l),this.urlFn=_=>(this.appCheckToken&&(_[rf]=this.appCheckToken),H_(l,L_,_))}open(n,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new b1(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(z1)),o1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Of((...f)=>{const[h,g,_,m,T]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===Mp)this.id=g,this.password=_;else if(h===T1)g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,g]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,g)},()=>{this.onClosed_()},this.urlFn);const r={};r[Mp]="t",r[j_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[N1]=this.scriptTagHolder.uniqueCallbackIdentifier),r[N_]=Rf,this.transportSessionId&&(r[R_]=this.transportSessionId),this.lastSessionId&&(r[M_]=this.lastSessionId),this.applicationId&&(r[w_]=this.applicationId),this.appCheckToken&&(r[rf]=this.appCheckToken),typeof location<"u"&&location.hostname&&x_.test(location.hostname)&&(r[D_]=O_);const u=this.urlFn(r);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){zl.forceAllow_=!0}static forceDisallow(){zl.forceDisallow_=!0}static isAvailable(){return zl.forceAllow_?!0:!zl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!c1()&&!f1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const l=Ke(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=o_(l),u=C_(r,M1);for(let f=0;f<u.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[f]),this.curSegmentNum++}addDisconnectPingFrame(n,l){this.myDisconnFrame=document.createElement("iframe");const r={};r[x1]="t",r[B_]=n,r[I_]=l,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const l=Ke(n).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class Of{constructor(n,l,r,u){this.onDisconnect=r,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=a1(),window[C1+this.uniqueCallbackIdentifier]=n,window[A1+this.uniqueCallbackIdentifier]=l,this.myIFrame=Of.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(g){rt("frame writing exception"),g.stack&&rt(g.stack),rt(g)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||rt("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,l){for(this.myID=n,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[B_]=this.myID,n[I_]=this.myPW,n[j_]=this.currentSerial;let l=this.urlFn(n),r="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+q_+r.length<=k_;){const h=this.pendingSegs.shift();r=r+"&"+R1+u+"="+h.seg+"&"+D1+u+"="+h.ts+"&"+O1+u+"="+h.d,u++}return l=l+r,this.addLongPollTag_(l,this.currentSerial),!0}else return!1}enqueueSegment(n,l,r){this.pendingSegs.push({seg:n,ts:l,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,l){this.outstandingRequests.add(l);const r=()=>{this.outstandingRequests.delete(l),this.newRequest_()},u=setTimeout(r,Math.floor(w1)),f=()=>{clearTimeout(u),r()};this.addTag(n,f)}addTag(n,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const u=r.readyState;(!u||u==="loaded"||u==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),l())},r.onerror=()=>{rt("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const L1=16384,U1=45e3;let Kr=null;typeof MozWebSocket<"u"?Kr=MozWebSocket:typeof WebSocket<"u"&&(Kr=WebSocket);class sn{constructor(n,l,r,u,f,h,g){this.connId=n,this.applicationId=r,this.appCheckToken=u,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ds(this.connId),this.stats_=Df(l),this.connURL=sn.connectionURL_(l,h,g,u,r),this.nodeAdmin=l.nodeAdmin}static connectionURL_(n,l,r,u,f){const h={};return h[N_]=Rf,typeof location<"u"&&location.hostname&&x_.test(location.hostname)&&(h[D_]=O_),l&&(h[R_]=l),r&&(h[M_]=r),u&&(h[rf]=u),f&&(h[w_]=f),H_(n,z_,h)}open(n,l){this.onDisconnect=l,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ki.set("previous_websocket_failure",!0);try{let r;w0(),this.mySock=new Kr(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){sn.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(l);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Kr!==null&&!sn.forceDisallow_}static previouslyFailed(){return ki.isInMemoryStorage||ki.get("previous_websocket_failure")===!0}markConnectionHealthy(){ki.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const r=$a(l);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(I(this.frames===null,"We already have a frame buffer"),n.length<=6){const l=Number(n);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const l=n.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(l);else{const r=this.extractFrameCount_(l);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const l=Ke(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=C_(l,L1);r.length>1&&this.sendString_(String(r.length));for(let u=0;u<r.length;u++)this.sendString_(r[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(U1))}sendString_(n){try{this.mySock.send(n)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}sn.responsesRequiredToBeHealthy=2;sn.healthyTimeout=3e4;class ns{static get ALL_TRANSPORTS(){return[zl,sn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const l=sn&&sn.isAvailable();let r=l&&!sn.previouslyFailed();if(n.webSocketOnly&&(l||mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[sn];else{const u=this.transports_=[];for(const f of ns.ALL_TRANSPORTS)f&&f.isAvailable()&&u.push(f);ns.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ns.globalTransportInitialized_=!1;const H1=6e4,B1=5e3,I1=10*1024,j1=100*1024,Kc="t",wp="d",k1="s",zp="r",q1="e",Lp="o",Up="a",Hp="n",Bp="p",Y1="h";class G1{constructor(n,l,r,u,f,h,g,_,m,T){this.id=n,this.repoInfo_=l,this.applicationId_=r,this.appCheckToken_=u,this.authToken_=f,this.onMessage_=h,this.onReady_=g,this.onDisconnect_=_,this.onKill_=m,this.lastSessionId=T,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ds("c:"+this.id+":"),this.transportManager_=new ns(l),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,r)},Math.floor(0));const u=n.healthyTimeout||0;u>0&&(this.healthyTimeout_=Za(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>j1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>I1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return l=>{n===this.conn_?this.onConnectionLost_(l):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return l=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(l):n===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(n){const l={t:"d",d:n};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Kc in n){const l=n[Kc];l===Up?this.upgradeIfSecondaryHealthy_():l===zp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):l===Lp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const l=Ya("t",n),r=Ya("d",n);if(l==="c")this.onSecondaryControl_(r);else if(l==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+l)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Bp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Up,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Hp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const l=Ya("t",n),r=Ya("d",n);l==="c"?this.onControl_(r):l==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const l=Ya(Kc,n);if(wp in n){const r=n[wp];if(l===Y1){const u={...r};this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if(l===Hp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else l===k1?this.onConnectionShutdown_(r):l===zp?this.onReset_(r):l===q1?sf("Server Error: "+r):l===Lp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sf("Unknown control packet command: "+l)}}onHandshake_(n){const l=n.ts,r=n.v,u=n.h;this.sessionId=n.s,this.repoInfo_.host=u,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),Rf!==r&&mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,r),Za(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(H1))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,l){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Za(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(B1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Bp,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ki.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Y_{put(n,l,r,u){}merge(n,l,r,u){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,l,r){}onDisconnectMerge(n,l,r){}onDisconnectCancel(n,l){}reportStats(n){}}class G_{constructor(n){this.allowedEvents_=n,this.listeners_={},I(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...l){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let u=0;u<r.length;u++)r[u].callback.apply(r[u].context,l)}}on(n,l,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:l,context:r});const u=this.getInitialEvent(n);u&&l.apply(r,u)}off(n,l,r){this.validateEventType_(n);const u=this.listeners_[n]||[];for(let f=0;f<u.length;f++)if(u[f].callback===l&&(!r||r===u[f].context)){u.splice(f,1);return}}validateEventType_(n){I(this.allowedEvents_.find(l=>l===n),"Unknown event: "+n)}}class Zr extends G_{static getInstance(){return new Zr}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!h_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return I(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}const Ip=32,jp=768;class Ne{constructor(n,l){if(l===void 0){this.pieces_=n.split("/");let r=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[r]=this.pieces_[u],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=l}toString(){let n="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)this.pieces_[l]!==""&&(n+="/"+this.pieces_[l]);return n||"/"}}function pe(){return new Ne("")}function le(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function pi(a){return a.pieces_.length-a.pieceNum_}function Me(a){let n=a.pieceNum_;return n<a.pieces_.length&&n++,new Ne(a.pieces_,n)}function xf(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function V1(a){let n="";for(let l=a.pieceNum_;l<a.pieces_.length;l++)a.pieces_[l]!==""&&(n+="/"+encodeURIComponent(String(a.pieces_[l])));return n||"/"}function is(a,n=0){return a.pieces_.slice(a.pieceNum_+n)}function V_(a){if(a.pieceNum_>=a.pieces_.length)return null;const n=[];for(let l=a.pieceNum_;l<a.pieces_.length-1;l++)n.push(a.pieces_[l]);return new Ne(n,0)}function Be(a,n){const l=[];for(let r=a.pieceNum_;r<a.pieces_.length;r++)l.push(a.pieces_[r]);if(n instanceof Ne)for(let r=n.pieceNum_;r<n.pieces_.length;r++)l.push(n.pieces_[r]);else{const r=n.split("/");for(let u=0;u<r.length;u++)r[u].length>0&&l.push(r[u])}return new Ne(l,0)}function ue(a){return a.pieceNum_>=a.pieces_.length}function dt(a,n){const l=le(a),r=le(n);if(l===null)return n;if(l===r)return dt(Me(a),Me(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+a+")")}function Q1(a,n){const l=is(a,0),r=is(n,0);for(let u=0;u<l.length&&u<r.length;u++){const f=Vi(l[u],r[u]);if(f!==0)return f}return l.length===r.length?0:l.length<r.length?-1:1}function Mf(a,n){if(pi(a)!==pi(n))return!1;for(let l=a.pieceNum_,r=n.pieceNum_;l<=a.pieces_.length;l++,r++)if(a.pieces_[l]!==n.pieces_[r])return!1;return!0}function Wt(a,n){let l=a.pieceNum_,r=n.pieceNum_;if(pi(a)>pi(n))return!1;for(;l<a.pieces_.length;){if(a.pieces_[l]!==n.pieces_[r])return!1;++l,++r}return!0}class X1{constructor(n,l){this.errorPrefix_=l,this.parts_=is(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=oo(this.parts_[r]);Q_(this)}}function F1(a,n){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(n),a.byteLength_+=oo(n),Q_(a)}function K1(a){const n=a.parts_.pop();a.byteLength_-=oo(n),a.parts_.length>0&&(a.byteLength_-=1)}function Q_(a){if(a.byteLength_>jp)throw new Error(a.errorPrefix_+"has a key path longer than "+jp+" bytes ("+a.byteLength_+").");if(a.parts_.length>Ip)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ip+") or object contains a cycle "+ji(a))}function ji(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}class wf extends G_{static getInstance(){return new wf}constructor(){super(["visible"]);let n,l;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return I(n==="visible","Unknown event type: "+n),[this.visible_]}}const Ga=1e3,Z1=300*1e3,kp=30*1e3,J1=1.3,P1=3e4,W1="server_kill",qp=3;class Un extends Y_{constructor(n,l,r,u,f,h,g,_){if(super(),this.repoInfo_=n,this.applicationId_=l,this.onDataUpdate_=r,this.onConnectStatus_=u,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=g,this.authOverride_=_,this.id=Un.nextPersistentConnectionId_++,this.log_=ds("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ga,this.maxReconnectDelay_=Z1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");wf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Zr.getInstance().on("online",this.onOnline_,this)}sendRequest(n,l,r){const u=++this.requestNumber_,f={r:u,a:n,b:l};this.log_(Ke(f)),I(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),r&&(this.requestCBHash_[u]=r)}get(n){this.initConnection_();const l=new cs,u={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const g=h.d;h.s==="ok"?l.resolve(g):l.reject(g)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),l.promise}listen(n,l,r,u){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),I(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),I(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const g={onComplete:u,hashFn:l,query:n,tag:r};this.listens.get(h).set(f,g),this.connected_&&this.sendListen_(g)}sendGet_(n){const l=this.outstandingGets_[n];this.sendRequest("g",l.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(r)})}sendListen_(n){const l=n.query,r=l._path.toString(),u=l._queryIdentifier;this.log_("Listen on "+r+" for "+u);const f={p:r},h="q";n.tag&&(f.q=l._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,g=>{const _=g.d,m=g.s;Un.warnOnListenWarnings_(_,l),(this.listens.get(r)&&this.listens.get(r).get(u))===n&&(this.log_("listen response",g),m!=="ok"&&this.removeListen_(r,u),n.onComplete&&n.onComplete(m,_))})}static warnOnListenWarnings_(n,l){if(n&&typeof n=="object"&&mn(n,"w")){const r=Bl(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const u='".indexOn": "'+l._queryParams.getIndex().toString()+'"',f=l._path.toString();mt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||j0(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=kp)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,l=I0(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(l,r,u=>{const f=u.s,h=u.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const l=n.s,r=n.d||"error";l==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,r)})}unlisten(n,l){const r=n._path.toString(),u=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+u),I(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,u)&&this.connected_&&this.sendUnlisten_(r,u,n._queryObject,l)}sendUnlisten_(n,l,r,u){this.log_("Unlisten on "+n+" for "+l);const f={p:n},h="n";u&&(f.q=r,f.t=u),this.sendRequest(h,f)}onDisconnectPut(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:l,onComplete:r})}onDisconnectMerge(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:l,onComplete:r})}onDisconnectCancel(n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(n,l,r,u){const f={p:l,d:r};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{u&&setTimeout(()=>{u(h.s,h.d)},Math.floor(0))})}put(n,l,r,u){this.putInternal("p",n,l,r,u)}merge(n,l,r,u){this.putInternal("m",n,l,r,u)}putInternal(n,l,r,u,f){this.initConnection_();const h={p:l,d:r};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:u}),this.outstandingPutCount_++;const g=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(g):this.log_("Buffering put: "+l)}sendPut_(n){const l=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,u=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(l,r,f=>{this.log_(l+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),u&&u(f.s,f.d)})}reportStats(n){if(this.connected_){const l={c:n};this.log_("reportStats",l),this.sendRequest("s",l,r=>{if(r.s!=="ok"){const f=r.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ke(n));const l=n.r,r=this.requestCBHash_[l];r&&(delete this.requestCBHash_[l],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,l){this.log_("handleServerMessage",n,l),n==="d"?this.onDataUpdate_(l.p,l.d,!1,l.t):n==="m"?this.onDataUpdate_(l.p,l.d,!0,l.t):n==="c"?this.onListenRevoked_(l.p,l.q):n==="ac"?this.onAuthRevoked_(l.s,l.d):n==="apc"?this.onAppCheckRevoked_(l.s,l.d):n==="sd"?this.onSecurityDebugPacket_(l):sf("Unrecognized action received from server: "+Ke(n)+`
Are you using the latest client?`)}onReady_(n,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){I(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ga,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ga,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>P1&&(this.reconnectDelay_=Ga),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let l=Math.max(0,this.reconnectDelay_-n);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*J1)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+Un.nextConnectionId_++,f=this.lastSessionId;let h=!1,g=null;const _=function(){g?g.close():(h=!0,r())},m=function(v){I(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(v)};this.realtime_={close:_,sendRequest:m};const T=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,S]=await Promise.all([this.authTokenProvider_.getToken(T),this.appCheckTokenProvider_.getToken(T)]);h?rt("getToken() completed but was canceled"):(rt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=S&&S.token,g=new G1(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,l,r,U=>{mt(U+" ("+this.repoInfo_.toString()+")"),this.interrupt(W1)},f))}catch(v){this.log_("Failed to get token: "+v),h||(this.repoInfo_.nodeAdmin&&mt(v),_())}}}interrupt(n){rt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){rt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],pp(this.interruptReasons_)&&(this.reconnectDelay_=Ga,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const l=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const l=this.outstandingPuts_[n];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,l){let r;l?r=l.map(f=>Nf(f)).join("$"):r="default";const u=this.removeListen_(n,r);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(n,l){const r=new Ne(n).toString();let u;if(this.listens.has(r)){const f=this.listens.get(r);u=f.get(l),f.delete(l),f.size===0&&this.listens.delete(r)}else u=void 0;return u}onAuthRevoked_(n,l){rt("Auth token revoked: "+n+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=qp&&(this.reconnectDelay_=kp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,l){rt("App check token revoked: "+n+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=qp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const l of n.values())this.sendListen_(l);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let l="js";n["sdk."+l+"."+S_.replace(/\./g,"-")]=1,h_()?n["framework.cordova"]=1:M0()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Zr.getInstance().currentlyOnline();return pp(this.interruptReasons_)&&n}}Un.nextPersistentConnectionId_=0;Un.nextConnectionId_=0;class ae{constructor(n,l){this.name=n,this.node=l}static Wrap(n,l){return new ae(n,l)}}class uo{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,l){const r=new ae(Il,n),u=new ae(Il,l);return this.compare(r,u)!==0}minPost(){return ae.MIN}}let Hr;class X_ extends uo{static get __EMPTY_NODE(){return Hr}static set __EMPTY_NODE(n){Hr=n}compare(n,l){return Vi(n.name,l.name)}isDefinedOn(n){throw Gl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,l){return!1}minPost(){return ae.MIN}maxPost(){return new ae(qi,Hr)}makePost(n,l){return I(typeof n=="string","KeyIndex indexValue must always be a string."),new ae(n,Hr)}toString(){return".key"}}const Hl=new X_;class Br{constructor(n,l,r,u,f=null){this.isReverse_=u,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=l?r(n.key,l):1,u&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),l;if(this.resultGenerator_?l=this.resultGenerator_(n.key,n.value):l={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class We{constructor(n,l,r,u,f){this.key=n,this.value=l,this.color=r??We.RED,this.left=u??Nt.EMPTY_NODE,this.right=f??Nt.EMPTY_NODE}copy(n,l,r,u,f){return new We(n??this.key,l??this.value,r??this.color,u??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,l,r){let u=this;const f=r(n,u.key);return f<0?u=u.copy(null,null,null,u.left.insert(n,l,r),null):f===0?u=u.copy(null,l,null,null,null):u=u.copy(null,null,null,null,u.right.insert(n,l,r)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,l){let r,u;if(r=this,l(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,l),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),l(n,r.key)===0){if(r.right.isEmpty())return Nt.EMPTY_NODE;u=r.right.min_(),r=r.copy(u.key,u.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,l))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}We.RED=!0;We.BLACK=!1;class $1{copy(n,l,r,u,f){return this}insert(n,l,r){return new We(n,l,null)}remove(n,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Nt{constructor(n,l=Nt.EMPTY_NODE){this.comparator_=n,this.root_=l}insert(n,l){return new Nt(this.comparator_,this.root_.insert(n,l,this.comparator_).copy(null,null,We.BLACK,null,null))}remove(n){return new Nt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,We.BLACK,null,null))}get(n){let l,r=this.root_;for(;!r.isEmpty();){if(l=this.comparator_(n,r.key),l===0)return r.value;l<0?r=r.left:l>0&&(r=r.right)}return null}getPredecessorKey(n){let l,r=this.root_,u=null;for(;!r.isEmpty();)if(l=this.comparator_(n,r.key),l===0){if(r.left.isEmpty())return u?u.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else l<0?r=r.left:l>0&&(u=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Br(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,l){return new Br(this.root_,n,this.comparator_,!1,l)}getReverseIteratorFrom(n,l){return new Br(this.root_,n,this.comparator_,!0,l)}getReverseIterator(n){return new Br(this.root_,null,this.comparator_,!0,n)}}Nt.EMPTY_NODE=new $1;function eb(a,n){return Vi(a.name,n.name)}function zf(a,n){return Vi(a,n)}let of;function tb(a){of=a}const F_=function(a){return typeof a=="number"?"number:"+A_(a):"string:"+a},K_=function(a){if(a.isLeafNode()){const n=a.val();I(typeof n=="string"||typeof n=="number"||typeof n=="object"&&mn(n,".sv"),"Priority must be a string or number.")}else I(a===of||a.isEmpty(),"priority of unexpected type.");I(a===of||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Yp;class Pe{static set __childrenNodeConstructor(n){Yp=n}static get __childrenNodeConstructor(){return Yp}constructor(n,l=Pe.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=l,this.lazyHash_=null,I(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),K_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new Pe(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:Pe.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ue(n)?this:le(n)===".priority"?this.priorityNode_:Pe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,l){return null}updateImmediateChild(n,l){return n===".priority"?this.updatePriority(l):l.isEmpty()&&n!==".priority"?this:Pe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,l).updatePriority(this.priorityNode_)}updateChild(n,l){const r=le(n);return r===null?l:l.isEmpty()&&r!==".priority"?this:(I(r!==".priority"||pi(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Pe.__childrenNodeConstructor.EMPTY_NODE.updateChild(Me(n),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,l){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+F_(this.priorityNode_.val())+":");const l=typeof this.value_;n+=l+":",l==="number"?n+=A_(this.value_):n+=this.value_,this.lazyHash_=T_(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===Pe.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof Pe.__childrenNodeConstructor?-1:(I(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const l=typeof n.value_,r=typeof this.value_,u=Pe.VALUE_TYPE_ORDER.indexOf(l),f=Pe.VALUE_TYPE_ORDER.indexOf(r);return I(u>=0,"Unknown leaf type: "+l),I(f>=0,"Unknown leaf type: "+r),u===f?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-u}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const l=n;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}else return!1}}Pe.VALUE_TYPE_ORDER=["object","boolean","number","string"];let Z_,J_;function nb(a){Z_=a}function ib(a){J_=a}class lb extends uo{compare(n,l){const r=n.node.getPriority(),u=l.node.getPriority(),f=r.compareTo(u);return f===0?Vi(n.name,l.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,l){return!n.getPriority().equals(l.getPriority())}minPost(){return ae.MIN}maxPost(){return new ae(qi,new Pe("[PRIORITY-POST]",J_))}makePost(n,l){const r=Z_(n);return new ae(l,new Pe("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ie=new lb;const ab=Math.log(2);class sb{constructor(n){const l=f=>parseInt(Math.log(f)/ab,10),r=f=>parseInt(Array(f+1).join("1"),2);this.count=l(n+1),this.current_=this.count-1;const u=r(this.count);this.bits_=n+1&u}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Jr=function(a,n,l,r){a.sort(n);const u=function(_,m){const T=m-_;let v,S;if(T===0)return null;if(T===1)return v=a[_],S=l?l(v):v,new We(S,v.node,We.BLACK,null,null);{const U=parseInt(T/2,10)+_,B=u(_,U),Q=u(U+1,m);return v=a[U],S=l?l(v):v,new We(S,v.node,We.BLACK,B,Q)}},f=function(_){let m=null,T=null,v=a.length;const S=function(B,Q){const ee=v-B,Re=v;v-=B;const ye=u(ee+1,Re),ve=a[ee],qe=l?l(ve):ve;U(new We(qe,ve.node,Q,null,ye))},U=function(B){m?(m.left=B,m=B):(T=B,m=B)};for(let B=0;B<_.count;++B){const Q=_.nextBitIsOne(),ee=Math.pow(2,_.count-(B+1));Q?S(ee,We.BLACK):(S(ee,We.BLACK),S(ee,We.RED))}return T},h=new sb(a.length),g=f(h);return new Nt(r||n,g)};let Zc;const wl={};class Ln{static get Default(){return I(wl&&Ie,"ChildrenNode.ts has not been loaded"),Zc=Zc||new Ln({".priority":wl},{".priority":Ie}),Zc}constructor(n,l){this.indexes_=n,this.indexSet_=l}get(n){const l=Bl(this.indexes_,n);if(!l)throw new Error("No index defined for "+n);return l instanceof Nt?l:null}hasIndex(n){return mn(this.indexSet_,n.toString())}addIndex(n,l){I(n!==Hl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let u=!1;const f=l.getIterator(ae.Wrap);let h=f.getNext();for(;h;)u=u||n.isDefinedOn(h.node),r.push(h),h=f.getNext();let g;u?g=Jr(r,n.getCompare()):g=wl;const _=n.toString(),m={...this.indexSet_};m[_]=n;const T={...this.indexes_};return T[_]=g,new Ln(T,m)}addToIndexes(n,l){const r=Vr(this.indexes_,(u,f)=>{const h=Bl(this.indexSet_,f);if(I(h,"Missing index implementation for "+f),u===wl)if(h.isDefinedOn(n.node)){const g=[],_=l.getIterator(ae.Wrap);let m=_.getNext();for(;m;)m.name!==n.name&&g.push(m),m=_.getNext();return g.push(n),Jr(g,h.getCompare())}else return wl;else{const g=l.get(n.name);let _=u;return g&&(_=_.remove(new ae(n.name,g))),_.insert(n,n.node)}});return new Ln(r,this.indexSet_)}removeFromIndexes(n,l){const r=Vr(this.indexes_,u=>{if(u===wl)return u;{const f=l.get(n.name);return f?u.remove(new ae(n.name,f)):u}});return new Ln(r,this.indexSet_)}}let Va;class J{static get EMPTY_NODE(){return Va||(Va=new J(new Nt(zf),null,Ln.Default))}constructor(n,l,r){this.children_=n,this.priorityNode_=l,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&K_(this.priorityNode_),this.children_.isEmpty()&&I(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Va}updatePriority(n){return this.children_.isEmpty()?this:new J(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const l=this.children_.get(n);return l===null?Va:l}}getChild(n){const l=le(n);return l===null?this:this.getImmediateChild(l).getChild(Me(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,l){if(I(l,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(l);{const r=new ae(n,l);let u,f;l.isEmpty()?(u=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(r,this.children_)):(u=this.children_.insert(n,l),f=this.indexMap_.addToIndexes(r,this.children_));const h=u.isEmpty()?Va:this.priorityNode_;return new J(u,h,f)}}updateChild(n,l){const r=le(n);if(r===null)return l;{I(le(n)!==".priority"||pi(n)===1,".priority must be the last token in a path");const u=this.getImmediateChild(r).updateChild(Me(n),l);return this.updateImmediateChild(r,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const l={};let r=0,u=0,f=!0;if(this.forEachChild(Ie,(h,g)=>{l[h]=g.val(n),r++,f&&J.INTEGER_REGEXP_.test(h)?u=Math.max(u,Number(h)):f=!1}),!n&&f&&u<2*r){const h=[];for(const g in l)h[g]=l[g];return h}else return n&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+F_(this.getPriority().val())+":"),this.forEachChild(Ie,(l,r)=>{const u=r.hash();u!==""&&(n+=":"+l+":"+u)}),this.lazyHash_=n===""?"":T_(n)}return this.lazyHash_}getPredecessorChildName(n,l,r){const u=this.resolveIndex_(r);if(u){const f=u.getPredecessorKey(new ae(n,l));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const l=this.getFirstChildName(n);return l?new ae(l,this.children_.get(l)):null}getLastChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const l=this.getLastChildName(n);return l?new ae(l,this.children_.get(l)):null}forEachChild(n,l){const r=this.resolveIndex_(n);return r?r.inorderTraversal(u=>l(u.name,u.node)):this.children_.inorderTraversal(l)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getIteratorFrom(n,u=>u);{const u=this.children_.getIteratorFrom(n.name,ae.Wrap);let f=u.peek();for(;f!=null&&l.compare(f,n)<0;)u.getNext(),f=u.peek();return u}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getReverseIteratorFrom(n,u=>u);{const u=this.children_.getReverseIteratorFrom(n.name,ae.Wrap);let f=u.peek();for(;f!=null&&l.compare(f,n)>0;)u.getNext(),f=u.peek();return u}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ms?-1:0}withIndex(n){if(n===Hl||this.indexMap_.hasIndex(n))return this;{const l=this.indexMap_.addIndex(n,this.children_);return new J(this.children_,this.priorityNode_,l)}}isIndexed(n){return n===Hl||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const l=n;if(this.getPriority().equals(l.getPriority()))if(this.children_.count()===l.children_.count()){const r=this.getIterator(Ie),u=l.getIterator(Ie);let f=r.getNext(),h=u.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=r.getNext(),h=u.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===Hl?null:this.indexMap_.get(n.toString())}}J.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class rb extends J{constructor(){super(new Nt(zf),J.EMPTY_NODE,Ln.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return J.EMPTY_NODE}isEmpty(){return!1}}const ms=new rb;Object.defineProperties(ae,{MIN:{value:new ae(Il,J.EMPTY_NODE)},MAX:{value:new ae(qi,ms)}});X_.__EMPTY_NODE=J.EMPTY_NODE;Pe.__childrenNodeConstructor=J;tb(ms);ib(ms);const ob=!0;function Fe(a,n=null){if(a===null)return J.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(n=a[".priority"]),I(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const l=a;return new Pe(l,Fe(n))}if(!(a instanceof Array)&&ob){const l=[];let r=!1;if(ot(a,(h,g)=>{if(h.substring(0,1)!=="."){const _=Fe(g);_.isEmpty()||(r=r||!_.getPriority().isEmpty(),l.push(new ae(h,_)))}}),l.length===0)return J.EMPTY_NODE;const f=Jr(l,eb,h=>h.name,zf);if(r){const h=Jr(l,Ie.getCompare());return new J(f,Fe(n),new Ln({".priority":h},{".priority":Ie}))}else return new J(f,Fe(n),Ln.Default)}else{let l=J.EMPTY_NODE;return ot(a,(r,u)=>{if(mn(a,r)&&r.substring(0,1)!=="."){const f=Fe(u);(f.isLeafNode()||!f.isEmpty())&&(l=l.updateImmediateChild(r,f))}}),l.updatePriority(Fe(n))}}nb(Fe);class ub extends uo{constructor(n){super(),this.indexPath_=n,I(!ue(n)&&le(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,l){const r=this.extractChild(n.node),u=this.extractChild(l.node),f=r.compareTo(u);return f===0?Vi(n.name,l.name):f}makePost(n,l){const r=Fe(n),u=J.EMPTY_NODE.updateChild(this.indexPath_,r);return new ae(l,u)}maxPost(){const n=J.EMPTY_NODE.updateChild(this.indexPath_,ms);return new ae(qi,n)}toString(){return is(this.indexPath_,0).join("/")}}class cb extends uo{compare(n,l){const r=n.node.compareTo(l.node);return r===0?Vi(n.name,l.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,l){return!n.equals(l)}minPost(){return ae.MIN}maxPost(){return ae.MAX}makePost(n,l){const r=Fe(n);return new ae(l,r)}toString(){return".value"}}const fb=new cb;function P_(a){return{type:"value",snapshotNode:a}}function jl(a,n){return{type:"child_added",snapshotNode:n,childName:a}}function ls(a,n){return{type:"child_removed",snapshotNode:n,childName:a}}function as(a,n,l){return{type:"child_changed",snapshotNode:n,childName:a,oldSnap:l}}function hb(a,n){return{type:"child_moved",snapshotNode:n,childName:a}}class Lf{constructor(n){this.index_=n}updateChild(n,l,r,u,f,h){I(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=n.getImmediateChild(l);return g.getChild(u).equals(r.getChild(u))&&g.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?n.hasChild(l)?h.trackChildChange(ls(l,g)):I(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?h.trackChildChange(jl(l,r)):h.trackChildChange(as(l,r,g))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(l,r).withIndex(this.index_)}updateFullNode(n,l,r){return r!=null&&(n.isLeafNode()||n.forEachChild(Ie,(u,f)=>{l.hasChild(u)||r.trackChildChange(ls(u,f))}),l.isLeafNode()||l.forEachChild(Ie,(u,f)=>{if(n.hasChild(u)){const h=n.getImmediateChild(u);h.equals(f)||r.trackChildChange(as(u,f,h))}else r.trackChildChange(jl(u,f))})),l.withIndex(this.index_)}updatePriority(n,l){return n.isEmpty()?J.EMPTY_NODE:n.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ss{constructor(n){this.indexedFilter_=new Lf(n.getIndex()),this.index_=n.getIndex(),this.startPost_=ss.getStartPost_(n),this.endPost_=ss.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return l&&r}updateChild(n,l,r,u,f,h){return this.matches(new ae(l,r))||(r=J.EMPTY_NODE),this.indexedFilter_.updateChild(n,l,r,u,f,h)}updateFullNode(n,l,r){l.isLeafNode()&&(l=J.EMPTY_NODE);let u=l.withIndex(this.index_);u=u.updatePriority(J.EMPTY_NODE);const f=this;return l.forEachChild(Ie,(h,g)=>{f.matches(new ae(h,g))||(u=u.updateImmediateChild(h,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,u,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const l=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),l)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const l=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),l)}else return n.getIndex().maxPost()}}class db{constructor(n){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=l=>{const r=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ss(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,l,r,u,f,h){return this.rangedFilter_.matches(new ae(l,r))||(r=J.EMPTY_NODE),n.getImmediateChild(l).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,l,r,u,f,h):this.fullLimitUpdateChild_(n,l,r,f,h)}updateFullNode(n,l,r){let u;if(l.isLeafNode()||l.isEmpty())u=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<l.numChildren()&&l.isIndexed(this.index_)){u=J.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const g=f.getNext();if(this.withinDirectionalStart(g))if(this.withinDirectionalEnd(g))u=u.updateImmediateChild(g.name,g.node),h++;else break;else continue}}else{u=l.withIndex(this.index_),u=u.updatePriority(J.EMPTY_NODE);let f;this.reverse_?f=u.getReverseIterator(this.index_):f=u.getIterator(this.index_);let h=0;for(;f.hasNext();){const g=f.getNext();h<this.limit_&&this.withinDirectionalStart(g)&&this.withinDirectionalEnd(g)?h++:u=u.updateImmediateChild(g.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,u,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,l,r,u,f){let h;if(this.reverse_){const v=this.index_.getCompare();h=(S,U)=>v(U,S)}else h=this.index_.getCompare();const g=n;I(g.numChildren()===this.limit_,"");const _=new ae(l,r),m=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),T=this.rangedFilter_.matches(_);if(g.hasChild(l)){const v=g.getImmediateChild(l);let S=u.getChildAfterChild(this.index_,m,this.reverse_);for(;S!=null&&(S.name===l||g.hasChild(S.name));)S=u.getChildAfterChild(this.index_,S,this.reverse_);const U=S==null?1:h(S,_);if(T&&!r.isEmpty()&&U>=0)return f?.trackChildChange(as(l,r,v)),g.updateImmediateChild(l,r);{f?.trackChildChange(ls(l,v));const Q=g.updateImmediateChild(l,J.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(f?.trackChildChange(jl(S.name,S.node)),Q.updateImmediateChild(S.name,S.node)):Q}}else return r.isEmpty()?n:T&&h(m,_)>=0?(f!=null&&(f.trackChildChange(ls(m.name,m.node)),f.trackChildChange(jl(l,r))),g.updateImmediateChild(l,r).updateImmediateChild(m.name,J.EMPTY_NODE)):n}}class Uf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ie}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return I(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return I(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Il}hasEnd(){return this.endSet_}getIndexEndValue(){return I(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return I(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return I(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ie}copy(){const n=new Uf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function mb(a){return a.loadsAllData()?new Lf(a.getIndex()):a.hasLimit()?new db(a):new ss(a)}function Gp(a){const n={};if(a.isDefault())return n;let l;if(a.index_===Ie?l="$priority":a.index_===fb?l="$value":a.index_===Hl?l="$key":(I(a.index_ instanceof ub,"Unrecognized index type!"),l=a.index_.toString()),n.orderBy=Ke(l),a.startSet_){const r=a.startAfterSet_?"startAfter":"startAt";n[r]=Ke(a.indexStartValue_),a.startNameSet_&&(n[r]+=","+Ke(a.indexStartName_))}if(a.endSet_){const r=a.endBeforeSet_?"endBefore":"endAt";n[r]=Ke(a.indexEndValue_),a.endNameSet_&&(n[r]+=","+Ke(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?n.limitToFirst=a.limit_:n.limitToLast=a.limit_),n}function Vp(a){const n={};if(a.startSet_&&(n.sp=a.indexStartValue_,a.startNameSet_&&(n.sn=a.indexStartName_),n.sin=!a.startAfterSet_),a.endSet_&&(n.ep=a.indexEndValue_,a.endNameSet_&&(n.en=a.indexEndName_),n.ein=!a.endBeforeSet_),a.limitSet_){n.l=a.limit_;let l=a.viewFrom_;l===""&&(a.isViewFromLeft()?l="l":l="r"),n.vf=l}return a.index_!==Ie&&(n.i=a.index_.toString()),n}class Pr extends Y_{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,l){return l!==void 0?"tag$"+l:(I(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,l,r,u){super(),this.repoInfo_=n,this.onDataUpdate_=l,this.authTokenProvider_=r,this.appCheckTokenProvider_=u,this.log_=ds("p:rest:"),this.listens_={}}listen(n,l,r,u){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=Pr.getListenId_(n,r),g={};this.listens_[h]=g;const _=Gp(n._queryParams);this.restRequest_(f+".json",_,(m,T)=>{let v=T;if(m===404&&(v=null,m=null),m===null&&this.onDataUpdate_(f,v,!1,r),Bl(this.listens_,h)===g){let S;m?m===401?S="permission_denied":S="rest_error:"+m:S="ok",u(S,null)}})}unlisten(n,l){const r=Pr.getListenId_(n,l);delete this.listens_[r]}get(n){const l=Gp(n._queryParams),r=n._path.toString(),u=new cs;return this.restRequest_(r+".json",l,(f,h)=>{let g=h;f===404&&(g=null,f=null),f===null?(this.onDataUpdate_(r,g,!1,null),u.resolve(g)):u.reject(new Error(g))}),u.promise}refreshAuthToken(n){}restRequest_(n,l={},r){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,f])=>{u&&u.accessToken&&(l.auth=u.accessToken),f&&f.token&&(l.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+k0(l);this.log_("Sending REST request for "+h);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(r&&g.readyState===4){this.log_("REST Response for "+h+" received. status:",g.status,"response:",g.responseText);let _=null;if(g.status>=200&&g.status<300){try{_=$a(g.responseText)}catch{mt("Failed to parse JSON response for "+h+": "+g.responseText)}r(null,_)}else g.status!==401&&g.status!==404&&mt("Got unsuccessful REST response for "+h+" Status: "+g.status),r(g.status);r=null}},g.open("GET",h,!0),g.send()})}}class gb{constructor(){this.rootNode_=J.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,l){this.rootNode_=this.rootNode_.updateChild(n,l)}}function Wr(){return{value:null,children:new Map}}function W_(a,n,l){if(ue(n))a.value=l,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(n,l);else{const r=le(n);a.children.has(r)||a.children.set(r,Wr());const u=a.children.get(r);n=Me(n),W_(u,n,l)}}function uf(a,n,l){a.value!==null?l(n,a.value):pb(a,(r,u)=>{const f=new Ne(n.toString()+"/"+r);uf(u,f,l)})}function pb(a,n){a.children.forEach((l,r)=>{n(r,l)})}class _b{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),l={...n};return this.last_&&ot(this.last_,(r,u)=>{l[r]=l[r]-u}),this.last_=n,l}}const Qp=10*1e3,yb=30*1e3,vb=300*1e3;class Eb{constructor(n,l){this.server_=l,this.statsToReport_={},this.statsListener_=new _b(n);const r=Qp+(yb-Qp)*Math.random();Za(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),l={};let r=!1;ot(n,(u,f)=>{f>0&&mn(this.statsToReport_,u)&&(l[u]=f,r=!0)}),r&&this.server_.reportStats(l),Za(this.reportStats_.bind(this),Math.floor(Math.random()*2*vb))}}var rn;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(rn||(rn={}));function Hf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Bf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function If(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}class $r{constructor(n,l,r){this.path=n,this.affectedTree=l,this.revert=r,this.type=rn.ACK_USER_WRITE,this.source=Hf()}operationForChild(n){if(ue(this.path)){if(this.affectedTree.value!=null)return I(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new Ne(n));return new $r(pe(),l,this.revert)}}else return I(le(this.path)===n,"operationForChild called for unrelated child."),new $r(Me(this.path),this.affectedTree,this.revert)}}class rs{constructor(n,l){this.source=n,this.path=l,this.type=rn.LISTEN_COMPLETE}operationForChild(n){return ue(this.path)?new rs(this.source,pe()):new rs(this.source,Me(this.path))}}class Yi{constructor(n,l,r){this.source=n,this.path=l,this.snap=r,this.type=rn.OVERWRITE}operationForChild(n){return ue(this.path)?new Yi(this.source,pe(),this.snap.getImmediateChild(n)):new Yi(this.source,Me(this.path),this.snap)}}class kl{constructor(n,l,r){this.source=n,this.path=l,this.children=r,this.type=rn.MERGE}operationForChild(n){if(ue(this.path)){const l=this.children.subtree(new Ne(n));return l.isEmpty()?null:l.value?new Yi(this.source,pe(),l.value):new kl(this.source,pe(),l)}else return I(le(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new kl(this.source,Me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class _i{constructor(n,l,r){this.node_=n,this.fullyInitialized_=l,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(ue(n))return this.isFullyInitialized()&&!this.filtered_;const l=le(n);return this.isCompleteForChild(l)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class Sb{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function bb(a,n,l,r){const u=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&a.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(hb(h.childName,h.snapshotNode))}),Qa(a,u,"child_removed",n,r,l),Qa(a,u,"child_added",n,r,l),Qa(a,u,"child_moved",f,r,l),Qa(a,u,"child_changed",n,r,l),Qa(a,u,"value",n,r,l),u}function Qa(a,n,l,r,u,f){const h=r.filter(g=>g.type===l);h.sort((g,_)=>Cb(a,g,_)),h.forEach(g=>{const _=Tb(a,g,f);u.forEach(m=>{m.respondsTo(g.type)&&n.push(m.createEvent(_,a.query_))})})}function Tb(a,n,l){return n.type==="value"||n.type==="child_removed"||(n.prevName=l.getPredecessorChildName(n.childName,n.snapshotNode,a.index_)),n}function Cb(a,n,l){if(n.childName==null||l.childName==null)throw Gl("Should only compare child_ events.");const r=new ae(n.childName,n.snapshotNode),u=new ae(l.childName,l.snapshotNode);return a.index_.compare(r,u)}function co(a,n){return{eventCache:a,serverCache:n}}function Ja(a,n,l,r){return co(new _i(n,l,r),a.serverCache)}function $_(a,n,l,r){return co(a.eventCache,new _i(n,l,r))}function eo(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function Gi(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}let Jc;const Ab=()=>(Jc||(Jc=new Nt(u1)),Jc);class Oe{static fromObject(n){let l=new Oe(null);return ot(n,(r,u)=>{l=l.set(new Ne(r),u)}),l}constructor(n,l=Ab()){this.value=n,this.children=l}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,l){if(this.value!=null&&l(this.value))return{path:pe(),value:this.value};if(ue(n))return null;{const r=le(n),u=this.children.get(r);if(u!==null){const f=u.findRootMostMatchingPathAndValue(Me(n),l);return f!=null?{path:Be(new Ne(r),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(ue(n))return this;{const l=le(n),r=this.children.get(l);return r!==null?r.subtree(Me(n)):new Oe(null)}}set(n,l){if(ue(n))return new Oe(l,this.children);{const r=le(n),f=(this.children.get(r)||new Oe(null)).set(Me(n),l),h=this.children.insert(r,f);return new Oe(this.value,h)}}remove(n){if(ue(n))return this.children.isEmpty()?new Oe(null):new Oe(null,this.children);{const l=le(n),r=this.children.get(l);if(r){const u=r.remove(Me(n));let f;return u.isEmpty()?f=this.children.remove(l):f=this.children.insert(l,u),this.value===null&&f.isEmpty()?new Oe(null):new Oe(this.value,f)}else return this}}get(n){if(ue(n))return this.value;{const l=le(n),r=this.children.get(l);return r?r.get(Me(n)):null}}setTree(n,l){if(ue(n))return l;{const r=le(n),f=(this.children.get(r)||new Oe(null)).setTree(Me(n),l);let h;return f.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,f),new Oe(this.value,h)}}fold(n){return this.fold_(pe(),n)}fold_(n,l){const r={};return this.children.inorderTraversal((u,f)=>{r[u]=f.fold_(Be(n,u),l)}),l(n,this.value,r)}findOnPath(n,l){return this.findOnPath_(n,pe(),l)}findOnPath_(n,l,r){const u=this.value?r(l,this.value):!1;if(u)return u;if(ue(n))return null;{const f=le(n),h=this.children.get(f);return h?h.findOnPath_(Me(n),Be(l,f),r):null}}foreachOnPath(n,l){return this.foreachOnPath_(n,pe(),l)}foreachOnPath_(n,l,r){if(ue(n))return this;{this.value&&r(l,this.value);const u=le(n),f=this.children.get(u);return f?f.foreachOnPath_(Me(n),Be(l,u),r):new Oe(null)}}foreach(n){this.foreach_(pe(),n)}foreach_(n,l){this.children.inorderTraversal((r,u)=>{u.foreach_(Be(n,r),l)}),this.value&&l(n,this.value)}foreachChild(n){this.children.inorderTraversal((l,r)=>{r.value&&n(l,r.value)})}}class on{constructor(n){this.writeTree_=n}static empty(){return new on(new Oe(null))}}function Pa(a,n,l){if(ue(n))return new on(new Oe(l));{const r=a.writeTree_.findRootMostValueAndPath(n);if(r!=null){const u=r.path;let f=r.value;const h=dt(u,n);return f=f.updateChild(h,l),new on(a.writeTree_.set(u,f))}else{const u=new Oe(l),f=a.writeTree_.setTree(n,u);return new on(f)}}}function cf(a,n,l){let r=a;return ot(l,(u,f)=>{r=Pa(r,Be(n,u),f)}),r}function Xp(a,n){if(ue(n))return on.empty();{const l=a.writeTree_.setTree(n,new Oe(null));return new on(l)}}function ff(a,n){return Qi(a,n)!=null}function Qi(a,n){const l=a.writeTree_.findRootMostValueAndPath(n);return l!=null?a.writeTree_.get(l.path).getChild(dt(l.path,n)):null}function Fp(a){const n=[],l=a.writeTree_.value;return l!=null?l.isLeafNode()||l.forEachChild(Ie,(r,u)=>{n.push(new ae(r,u))}):a.writeTree_.children.inorderTraversal((r,u)=>{u.value!=null&&n.push(new ae(r,u.value))}),n}function mi(a,n){if(ue(n))return a;{const l=Qi(a,n);return l!=null?new on(new Oe(l)):new on(a.writeTree_.subtree(n))}}function hf(a){return a.writeTree_.isEmpty()}function ql(a,n){return ey(pe(),a.writeTree_,n)}function ey(a,n,l){if(n.value!=null)return l.updateChild(a,n.value);{let r=null;return n.children.inorderTraversal((u,f)=>{u===".priority"?(I(f.value!==null,"Priority writes must always be leaf nodes"),r=f.value):l=ey(Be(a,u),f,l)}),!l.getChild(a).isEmpty()&&r!==null&&(l=l.updateChild(Be(a,".priority"),r)),l}}function fo(a,n){return ly(n,a)}function Nb(a,n,l,r,u){I(r>a.lastWriteId,"Stacking an older write on top of newer ones"),u===void 0&&(u=!0),a.allWrites.push({path:n,snap:l,writeId:r,visible:u}),u&&(a.visibleWrites=Pa(a.visibleWrites,n,l)),a.lastWriteId=r}function Rb(a,n,l,r){I(r>a.lastWriteId,"Stacking an older merge on top of newer ones"),a.allWrites.push({path:n,children:l,writeId:r,visible:!0}),a.visibleWrites=cf(a.visibleWrites,n,l),a.lastWriteId=r}function Db(a,n){for(let l=0;l<a.allWrites.length;l++){const r=a.allWrites[l];if(r.writeId===n)return r}return null}function Ob(a,n){const l=a.allWrites.findIndex(g=>g.writeId===n);I(l>=0,"removeWrite called with nonexistent writeId.");const r=a.allWrites[l];a.allWrites.splice(l,1);let u=r.visible,f=!1,h=a.allWrites.length-1;for(;u&&h>=0;){const g=a.allWrites[h];g.visible&&(h>=l&&xb(g,r.path)?u=!1:Wt(r.path,g.path)&&(f=!0)),h--}if(u){if(f)return Mb(a),!0;if(r.snap)a.visibleWrites=Xp(a.visibleWrites,r.path);else{const g=r.children;ot(g,_=>{a.visibleWrites=Xp(a.visibleWrites,Be(r.path,_))})}return!0}else return!1}function xb(a,n){if(a.snap)return Wt(a.path,n);for(const l in a.children)if(a.children.hasOwnProperty(l)&&Wt(Be(a.path,l),n))return!0;return!1}function Mb(a){a.visibleWrites=ty(a.allWrites,wb,pe()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function wb(a){return a.visible}function ty(a,n,l){let r=on.empty();for(let u=0;u<a.length;++u){const f=a[u];if(n(f)){const h=f.path;let g;if(f.snap)Wt(l,h)?(g=dt(l,h),r=Pa(r,g,f.snap)):Wt(h,l)&&(g=dt(h,l),r=Pa(r,pe(),f.snap.getChild(g)));else if(f.children){if(Wt(l,h))g=dt(l,h),r=cf(r,g,f.children);else if(Wt(h,l))if(g=dt(h,l),ue(g))r=cf(r,pe(),f.children);else{const _=Bl(f.children,le(g));if(_){const m=_.getChild(Me(g));r=Pa(r,pe(),m)}}}else throw Gl("WriteRecord should have .snap or .children")}}return r}function ny(a,n,l,r,u){if(!r&&!u){const f=Qi(a.visibleWrites,n);if(f!=null)return f;{const h=mi(a.visibleWrites,n);if(hf(h))return l;if(l==null&&!ff(h,pe()))return null;{const g=l||J.EMPTY_NODE;return ql(h,g)}}}else{const f=mi(a.visibleWrites,n);if(!u&&hf(f))return l;if(!u&&l==null&&!ff(f,pe()))return null;{const h=function(m){return(m.visible||u)&&(!r||!~r.indexOf(m.writeId))&&(Wt(m.path,n)||Wt(n,m.path))},g=ty(a.allWrites,h,n),_=l||J.EMPTY_NODE;return ql(g,_)}}}function zb(a,n,l){let r=J.EMPTY_NODE;const u=Qi(a.visibleWrites,n);if(u)return u.isLeafNode()||u.forEachChild(Ie,(f,h)=>{r=r.updateImmediateChild(f,h)}),r;if(l){const f=mi(a.visibleWrites,n);return l.forEachChild(Ie,(h,g)=>{const _=ql(mi(f,new Ne(h)),g);r=r.updateImmediateChild(h,_)}),Fp(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const f=mi(a.visibleWrites,n);return Fp(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function Lb(a,n,l,r,u){I(r||u,"Either existingEventSnap or existingServerSnap must exist");const f=Be(n,l);if(ff(a.visibleWrites,f))return null;{const h=mi(a.visibleWrites,f);return hf(h)?u.getChild(l):ql(h,u.getChild(l))}}function Ub(a,n,l,r){const u=Be(n,l),f=Qi(a.visibleWrites,u);if(f!=null)return f;if(r.isCompleteForChild(l)){const h=mi(a.visibleWrites,u);return ql(h,r.getNode().getImmediateChild(l))}else return null}function Hb(a,n){return Qi(a.visibleWrites,n)}function Bb(a,n,l,r,u,f,h){let g;const _=mi(a.visibleWrites,n),m=Qi(_,pe());if(m!=null)g=m;else if(l!=null)g=ql(_,l);else return[];if(g=g.withIndex(h),!g.isEmpty()&&!g.isLeafNode()){const T=[],v=h.getCompare(),S=f?g.getReverseIteratorFrom(r,h):g.getIteratorFrom(r,h);let U=S.getNext();for(;U&&T.length<u;)v(U,r)!==0&&T.push(U),U=S.getNext();return T}else return[]}function Ib(){return{visibleWrites:on.empty(),allWrites:[],lastWriteId:-1}}function to(a,n,l,r){return ny(a.writeTree,a.treePath,n,l,r)}function jf(a,n){return zb(a.writeTree,a.treePath,n)}function Kp(a,n,l,r){return Lb(a.writeTree,a.treePath,n,l,r)}function no(a,n){return Hb(a.writeTree,Be(a.treePath,n))}function jb(a,n,l,r,u,f){return Bb(a.writeTree,a.treePath,n,l,r,u,f)}function kf(a,n,l){return Ub(a.writeTree,a.treePath,n,l)}function iy(a,n){return ly(Be(a.treePath,n),a.writeTree)}function ly(a,n){return{treePath:a,writeTree:n}}class kb{constructor(){this.changeMap=new Map}trackChildChange(n){const l=n.type,r=n.childName;I(l==="child_added"||l==="child_changed"||l==="child_removed","Only child changes supported for tracking"),I(r!==".priority","Only non-priority child changes can be tracked.");const u=this.changeMap.get(r);if(u){const f=u.type;if(l==="child_added"&&f==="child_removed")this.changeMap.set(r,as(r,n.snapshotNode,u.snapshotNode));else if(l==="child_removed"&&f==="child_added")this.changeMap.delete(r);else if(l==="child_removed"&&f==="child_changed")this.changeMap.set(r,ls(r,u.oldSnap));else if(l==="child_changed"&&f==="child_added")this.changeMap.set(r,jl(r,n.snapshotNode));else if(l==="child_changed"&&f==="child_changed")this.changeMap.set(r,as(r,n.snapshotNode,u.oldSnap));else throw Gl("Illegal combination of changes: "+n+" occurred after "+u)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}class qb{getCompleteChild(n){return null}getChildAfterChild(n,l,r){return null}}const ay=new qb;class qf{constructor(n,l,r=null){this.writes_=n,this.viewCache_=l,this.optCompleteServerCache_=r}getCompleteChild(n){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(n))return l.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new _i(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return kf(this.writes_,n,r)}}getChildAfterChild(n,l,r){const u=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Gi(this.viewCache_),f=jb(this.writes_,u,l,1,r,n);return f.length===0?null:f[0]}}function Yb(a){return{filter:a}}function Gb(a,n){I(n.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),I(n.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function Vb(a,n,l,r,u){const f=new kb;let h,g;if(l.type===rn.OVERWRITE){const m=l;m.source.fromUser?h=df(a,n,m.path,m.snap,r,u,f):(I(m.source.fromServer,"Unknown source."),g=m.source.tagged||n.serverCache.isFiltered()&&!ue(m.path),h=io(a,n,m.path,m.snap,r,u,g,f))}else if(l.type===rn.MERGE){const m=l;m.source.fromUser?h=Xb(a,n,m.path,m.children,r,u,f):(I(m.source.fromServer,"Unknown source."),g=m.source.tagged||n.serverCache.isFiltered(),h=mf(a,n,m.path,m.children,r,u,g,f))}else if(l.type===rn.ACK_USER_WRITE){const m=l;m.revert?h=Zb(a,n,m.path,r,u,f):h=Fb(a,n,m.path,m.affectedTree,r,u,f)}else if(l.type===rn.LISTEN_COMPLETE)h=Kb(a,n,l.path,r,f);else throw Gl("Unknown operation type: "+l.type);const _=f.getChanges();return Qb(n,h,_),{viewCache:h,changes:_}}function Qb(a,n,l){const r=n.eventCache;if(r.isFullyInitialized()){const u=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=eo(a);(l.length>0||!a.eventCache.isFullyInitialized()||u&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&l.push(P_(eo(n)))}}function sy(a,n,l,r,u,f){const h=n.eventCache;if(no(r,l)!=null)return n;{let g,_;if(ue(l))if(I(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const m=Gi(n),T=m instanceof J?m:J.EMPTY_NODE,v=jf(r,T);g=a.filter.updateFullNode(n.eventCache.getNode(),v,f)}else{const m=to(r,Gi(n));g=a.filter.updateFullNode(n.eventCache.getNode(),m,f)}else{const m=le(l);if(m===".priority"){I(pi(l)===1,"Can't have a priority with additional path components");const T=h.getNode();_=n.serverCache.getNode();const v=Kp(r,l,T,_);v!=null?g=a.filter.updatePriority(T,v):g=h.getNode()}else{const T=Me(l);let v;if(h.isCompleteForChild(m)){_=n.serverCache.getNode();const S=Kp(r,l,h.getNode(),_);S!=null?v=h.getNode().getImmediateChild(m).updateChild(T,S):v=h.getNode().getImmediateChild(m)}else v=kf(r,m,n.serverCache);v!=null?g=a.filter.updateChild(h.getNode(),m,v,T,u,f):g=h.getNode()}}return Ja(n,g,h.isFullyInitialized()||ue(l),a.filter.filtersNodes())}}function io(a,n,l,r,u,f,h,g){const _=n.serverCache;let m;const T=h?a.filter:a.filter.getIndexedFilter();if(ue(l))m=T.updateFullNode(_.getNode(),r,null);else if(T.filtersNodes()&&!_.isFiltered()){const U=_.getNode().updateChild(l,r);m=T.updateFullNode(_.getNode(),U,null)}else{const U=le(l);if(!_.isCompleteForPath(l)&&pi(l)>1)return n;const B=Me(l),ee=_.getNode().getImmediateChild(U).updateChild(B,r);U===".priority"?m=T.updatePriority(_.getNode(),ee):m=T.updateChild(_.getNode(),U,ee,B,ay,null)}const v=$_(n,m,_.isFullyInitialized()||ue(l),T.filtersNodes()),S=new qf(u,v,f);return sy(a,v,l,u,S,g)}function df(a,n,l,r,u,f,h){const g=n.eventCache;let _,m;const T=new qf(u,n,f);if(ue(l))m=a.filter.updateFullNode(n.eventCache.getNode(),r,h),_=Ja(n,m,!0,a.filter.filtersNodes());else{const v=le(l);if(v===".priority")m=a.filter.updatePriority(n.eventCache.getNode(),r),_=Ja(n,m,g.isFullyInitialized(),g.isFiltered());else{const S=Me(l),U=g.getNode().getImmediateChild(v);let B;if(ue(S))B=r;else{const Q=T.getCompleteChild(v);Q!=null?xf(S)===".priority"&&Q.getChild(V_(S)).isEmpty()?B=Q:B=Q.updateChild(S,r):B=J.EMPTY_NODE}if(U.equals(B))_=n;else{const Q=a.filter.updateChild(g.getNode(),v,B,S,T,h);_=Ja(n,Q,g.isFullyInitialized(),a.filter.filtersNodes())}}}return _}function Zp(a,n){return a.eventCache.isCompleteForChild(n)}function Xb(a,n,l,r,u,f,h){let g=n;return r.foreach((_,m)=>{const T=Be(l,_);Zp(n,le(T))&&(g=df(a,g,T,m,u,f,h))}),r.foreach((_,m)=>{const T=Be(l,_);Zp(n,le(T))||(g=df(a,g,T,m,u,f,h))}),g}function Jp(a,n,l){return l.foreach((r,u)=>{n=n.updateChild(r,u)}),n}function mf(a,n,l,r,u,f,h,g){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let _=n,m;ue(l)?m=r:m=new Oe(null).setTree(l,r);const T=n.serverCache.getNode();return m.children.inorderTraversal((v,S)=>{if(T.hasChild(v)){const U=n.serverCache.getNode().getImmediateChild(v),B=Jp(a,U,S);_=io(a,_,new Ne(v),B,u,f,h,g)}}),m.children.inorderTraversal((v,S)=>{const U=!n.serverCache.isCompleteForChild(v)&&S.value===null;if(!T.hasChild(v)&&!U){const B=n.serverCache.getNode().getImmediateChild(v),Q=Jp(a,B,S);_=io(a,_,new Ne(v),Q,u,f,h,g)}}),_}function Fb(a,n,l,r,u,f,h){if(no(u,l)!=null)return n;const g=n.serverCache.isFiltered(),_=n.serverCache;if(r.value!=null){if(ue(l)&&_.isFullyInitialized()||_.isCompleteForPath(l))return io(a,n,l,_.getNode().getChild(l),u,f,g,h);if(ue(l)){let m=new Oe(null);return _.getNode().forEachChild(Hl,(T,v)=>{m=m.set(new Ne(T),v)}),mf(a,n,l,m,u,f,g,h)}else return n}else{let m=new Oe(null);return r.foreach((T,v)=>{const S=Be(l,T);_.isCompleteForPath(S)&&(m=m.set(T,_.getNode().getChild(S)))}),mf(a,n,l,m,u,f,g,h)}}function Kb(a,n,l,r,u){const f=n.serverCache,h=$_(n,f.getNode(),f.isFullyInitialized()||ue(l),f.isFiltered());return sy(a,h,l,r,ay,u)}function Zb(a,n,l,r,u,f){let h;if(no(r,l)!=null)return n;{const g=new qf(r,n,u),_=n.eventCache.getNode();let m;if(ue(l)||le(l)===".priority"){let T;if(n.serverCache.isFullyInitialized())T=to(r,Gi(n));else{const v=n.serverCache.getNode();I(v instanceof J,"serverChildren would be complete if leaf node"),T=jf(r,v)}T=T,m=a.filter.updateFullNode(_,T,f)}else{const T=le(l);let v=kf(r,T,n.serverCache);v==null&&n.serverCache.isCompleteForChild(T)&&(v=_.getImmediateChild(T)),v!=null?m=a.filter.updateChild(_,T,v,Me(l),g,f):n.eventCache.getNode().hasChild(T)?m=a.filter.updateChild(_,T,J.EMPTY_NODE,Me(l),g,f):m=_,m.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=to(r,Gi(n)),h.isLeafNode()&&(m=a.filter.updateFullNode(m,h,f)))}return h=n.serverCache.isFullyInitialized()||no(r,pe())!=null,Ja(n,m,h,a.filter.filtersNodes())}}class Jb{constructor(n,l){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,u=new Lf(r.getIndex()),f=mb(r);this.processor_=Yb(f);const h=l.serverCache,g=l.eventCache,_=u.updateFullNode(J.EMPTY_NODE,h.getNode(),null),m=f.updateFullNode(J.EMPTY_NODE,g.getNode(),null),T=new _i(_,h.isFullyInitialized(),u.filtersNodes()),v=new _i(m,g.isFullyInitialized(),f.filtersNodes());this.viewCache_=co(v,T),this.eventGenerator_=new Sb(this.query_)}get query(){return this.query_}}function Pb(a){return a.viewCache_.serverCache.getNode()}function Wb(a){return eo(a.viewCache_)}function $b(a,n){const l=Gi(a.viewCache_);return l&&(a.query._queryParams.loadsAllData()||!ue(n)&&!l.getImmediateChild(le(n)).isEmpty())?l.getChild(n):null}function Pp(a){return a.eventRegistrations_.length===0}function eT(a,n){a.eventRegistrations_.push(n)}function Wp(a,n,l){const r=[];if(l){I(n==null,"A cancel should cancel all event registrations.");const u=a.query._path;a.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(l,u);h&&r.push(h)})}if(n){let u=[];for(let f=0;f<a.eventRegistrations_.length;++f){const h=a.eventRegistrations_[f];if(!h.matches(n))u.push(h);else if(n.hasAnyCallback()){u=u.concat(a.eventRegistrations_.slice(f+1));break}}a.eventRegistrations_=u}else a.eventRegistrations_=[];return r}function $p(a,n,l,r){n.type===rn.MERGE&&n.source.queryId!==null&&(I(Gi(a.viewCache_),"We should always have a full cache before handling merges"),I(eo(a.viewCache_),"Missing event cache, even though we have a server cache"));const u=a.viewCache_,f=Vb(a.processor_,u,n,l,r);return Gb(a.processor_,f.viewCache),I(f.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=f.viewCache,ry(a,f.changes,f.viewCache.eventCache.getNode(),null)}function tT(a,n){const l=a.viewCache_.eventCache,r=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(Ie,(f,h)=>{r.push(jl(f,h))}),l.isFullyInitialized()&&r.push(P_(l.getNode())),ry(a,r,l.getNode(),n)}function ry(a,n,l,r){const u=r?[r]:a.eventRegistrations_;return bb(a.eventGenerator_,n,l,u)}let lo;class oy{constructor(){this.views=new Map}}function nT(a){I(!lo,"__referenceConstructor has already been defined"),lo=a}function iT(){return I(lo,"Reference.ts has not been loaded"),lo}function lT(a){return a.views.size===0}function Yf(a,n,l,r){const u=n.source.queryId;if(u!==null){const f=a.views.get(u);return I(f!=null,"SyncTree gave us an op for an invalid query."),$p(f,n,l,r)}else{let f=[];for(const h of a.views.values())f=f.concat($p(h,n,l,r));return f}}function uy(a,n,l,r,u){const f=n._queryIdentifier,h=a.views.get(f);if(!h){let g=to(l,u?r:null),_=!1;g?_=!0:r instanceof J?(g=jf(l,r),_=!1):(g=J.EMPTY_NODE,_=!1);const m=co(new _i(g,_,!1),new _i(r,u,!1));return new Jb(n,m)}return h}function aT(a,n,l,r,u,f){const h=uy(a,n,r,u,f);return a.views.has(n._queryIdentifier)||a.views.set(n._queryIdentifier,h),eT(h,l),tT(h,l)}function sT(a,n,l,r){const u=n._queryIdentifier,f=[];let h=[];const g=yi(a);if(u==="default")for(const[_,m]of a.views.entries())h=h.concat(Wp(m,l,r)),Pp(m)&&(a.views.delete(_),m.query._queryParams.loadsAllData()||f.push(m.query));else{const _=a.views.get(u);_&&(h=h.concat(Wp(_,l,r)),Pp(_)&&(a.views.delete(u),_.query._queryParams.loadsAllData()||f.push(_.query)))}return g&&!yi(a)&&f.push(new(iT())(n._repo,n._path)),{removed:f,events:h}}function cy(a){const n=[];for(const l of a.views.values())l.query._queryParams.loadsAllData()||n.push(l);return n}function gi(a,n){let l=null;for(const r of a.views.values())l=l||$b(r,n);return l}function fy(a,n){if(n._queryParams.loadsAllData())return ho(a);{const r=n._queryIdentifier;return a.views.get(r)}}function hy(a,n){return fy(a,n)!=null}function yi(a){return ho(a)!=null}function ho(a){for(const n of a.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let ao;function rT(a){I(!ao,"__referenceConstructor has already been defined"),ao=a}function oT(){return I(ao,"Reference.ts has not been loaded"),ao}let uT=1;class e_{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Oe(null),this.pendingWriteTree_=Ib(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function dy(a,n,l,r,u){return Nb(a.pendingWriteTree_,n,l,r,u),u?Xl(a,new Yi(Hf(),n,l)):[]}function cT(a,n,l,r){Rb(a.pendingWriteTree_,n,l,r);const u=Oe.fromObject(l);return Xl(a,new kl(Hf(),n,u))}function fi(a,n,l=!1){const r=Db(a.pendingWriteTree_,n);if(Ob(a.pendingWriteTree_,n)){let f=new Oe(null);return r.snap!=null?f=f.set(pe(),!0):ot(r.children,h=>{f=f.set(new Ne(h),!0)}),Xl(a,new $r(r.path,f,l))}else return[]}function gs(a,n,l){return Xl(a,new Yi(Bf(),n,l))}function fT(a,n,l){const r=Oe.fromObject(l);return Xl(a,new kl(Bf(),n,r))}function hT(a,n){return Xl(a,new rs(Bf(),n))}function dT(a,n,l){const r=Vf(a,l);if(r){const u=Qf(r),f=u.path,h=u.queryId,g=dt(f,n),_=new rs(If(h),g);return Xf(a,f,_)}else return[]}function so(a,n,l,r,u=!1){const f=n._path,h=a.syncPointTree_.get(f);let g=[];if(h&&(n._queryIdentifier==="default"||hy(h,n))){const _=sT(h,n,l,r);lT(h)&&(a.syncPointTree_=a.syncPointTree_.remove(f));const m=_.removed;if(g=_.events,!u){const T=m.findIndex(S=>S._queryParams.loadsAllData())!==-1,v=a.syncPointTree_.findOnPath(f,(S,U)=>yi(U));if(T&&!v){const S=a.syncPointTree_.subtree(f);if(!S.isEmpty()){const U=pT(S);for(let B=0;B<U.length;++B){const Q=U[B],ee=Q.query,Re=_y(a,Q);a.listenProvider_.startListening(Wa(ee),os(a,ee),Re.hashFn,Re.onComplete)}}}!v&&m.length>0&&!r&&(T?a.listenProvider_.stopListening(Wa(n),null):m.forEach(S=>{const U=a.queryToTagMap.get(mo(S));a.listenProvider_.stopListening(Wa(S),U)}))}_T(a,m)}return g}function my(a,n,l,r){const u=Vf(a,r);if(u!=null){const f=Qf(u),h=f.path,g=f.queryId,_=dt(h,n),m=new Yi(If(g),_,l);return Xf(a,h,m)}else return[]}function mT(a,n,l,r){const u=Vf(a,r);if(u){const f=Qf(u),h=f.path,g=f.queryId,_=dt(h,n),m=Oe.fromObject(l),T=new kl(If(g),_,m);return Xf(a,h,T)}else return[]}function gf(a,n,l,r=!1){const u=n._path;let f=null,h=!1;a.syncPointTree_.foreachOnPath(u,(S,U)=>{const B=dt(S,u);f=f||gi(U,B),h=h||yi(U)});let g=a.syncPointTree_.get(u);g?(h=h||yi(g),f=f||gi(g,pe())):(g=new oy,a.syncPointTree_=a.syncPointTree_.set(u,g));let _;f!=null?_=!0:(_=!1,f=J.EMPTY_NODE,a.syncPointTree_.subtree(u).foreachChild((U,B)=>{const Q=gi(B,pe());Q&&(f=f.updateImmediateChild(U,Q))}));const m=hy(g,n);if(!m&&!n._queryParams.loadsAllData()){const S=mo(n);I(!a.queryToTagMap.has(S),"View does not exist, but we have a tag");const U=yT();a.queryToTagMap.set(S,U),a.tagToQueryMap.set(U,S)}const T=fo(a.pendingWriteTree_,u);let v=aT(g,n,l,T,f,_);if(!m&&!h&&!r){const S=fy(g,n);v=v.concat(vT(a,n,S))}return v}function Gf(a,n,l){const u=a.pendingWriteTree_,f=a.syncPointTree_.findOnPath(n,(h,g)=>{const _=dt(h,n),m=gi(g,_);if(m)return m});return ny(u,n,f,l,!0)}function gT(a,n){const l=n._path;let r=null;a.syncPointTree_.foreachOnPath(l,(m,T)=>{const v=dt(m,l);r=r||gi(T,v)});let u=a.syncPointTree_.get(l);u?r=r||gi(u,pe()):(u=new oy,a.syncPointTree_=a.syncPointTree_.set(l,u));const f=r!=null,h=f?new _i(r,!0,!1):null,g=fo(a.pendingWriteTree_,n._path),_=uy(u,n,g,f?h.getNode():J.EMPTY_NODE,f);return Wb(_)}function Xl(a,n){return gy(n,a.syncPointTree_,null,fo(a.pendingWriteTree_,pe()))}function gy(a,n,l,r){if(ue(a.path))return py(a,n,l,r);{const u=n.get(pe());l==null&&u!=null&&(l=gi(u,pe()));let f=[];const h=le(a.path),g=a.operationForChild(h),_=n.children.get(h);if(_&&g){const m=l?l.getImmediateChild(h):null,T=iy(r,h);f=f.concat(gy(g,_,m,T))}return u&&(f=f.concat(Yf(u,a,r,l))),f}}function py(a,n,l,r){const u=n.get(pe());l==null&&u!=null&&(l=gi(u,pe()));let f=[];return n.children.inorderTraversal((h,g)=>{const _=l?l.getImmediateChild(h):null,m=iy(r,h),T=a.operationForChild(h);T&&(f=f.concat(py(T,g,_,m)))}),u&&(f=f.concat(Yf(u,a,r,l))),f}function _y(a,n){const l=n.query,r=os(a,l);return{hashFn:()=>(Pb(n)||J.EMPTY_NODE).hash(),onComplete:u=>{if(u==="ok")return r?dT(a,l._path,r):hT(a,l._path);{const f=h1(u,l);return so(a,l,null,f)}}}}function os(a,n){const l=mo(n);return a.queryToTagMap.get(l)}function mo(a){return a._path.toString()+"$"+a._queryIdentifier}function Vf(a,n){return a.tagToQueryMap.get(n)}function Qf(a){const n=a.indexOf("$");return I(n!==-1&&n<a.length-1,"Bad queryKey."),{queryId:a.substr(n+1),path:new Ne(a.substr(0,n))}}function Xf(a,n,l){const r=a.syncPointTree_.get(n);I(r,"Missing sync point for query tag that we're tracking");const u=fo(a.pendingWriteTree_,n);return Yf(r,l,u,null)}function pT(a){return a.fold((n,l,r)=>{if(l&&yi(l))return[ho(l)];{let u=[];return l&&(u=cy(l)),ot(r,(f,h)=>{u=u.concat(h)}),u}})}function Wa(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(oT())(a._repo,a._path):a}function _T(a,n){for(let l=0;l<n.length;++l){const r=n[l];if(!r._queryParams.loadsAllData()){const u=mo(r),f=a.queryToTagMap.get(u);a.queryToTagMap.delete(u),a.tagToQueryMap.delete(f)}}}function yT(){return uT++}function vT(a,n,l){const r=n._path,u=os(a,n),f=_y(a,l),h=a.listenProvider_.startListening(Wa(n),u,f.hashFn,f.onComplete),g=a.syncPointTree_.subtree(r);if(u)I(!yi(g.value),"If we're adding a query, it shouldn't be shadowed");else{const _=g.fold((m,T,v)=>{if(!ue(m)&&T&&yi(T))return[ho(T).query];{let S=[];return T&&(S=S.concat(cy(T).map(U=>U.query))),ot(v,(U,B)=>{S=S.concat(B)}),S}});for(let m=0;m<_.length;++m){const T=_[m];a.listenProvider_.stopListening(Wa(T),os(a,T))}}return h}class Ff{constructor(n){this.node_=n}getImmediateChild(n){const l=this.node_.getImmediateChild(n);return new Ff(l)}node(){return this.node_}}class Kf{constructor(n,l){this.syncTree_=n,this.path_=l}getImmediateChild(n){const l=Be(this.path_,n);return new Kf(this.syncTree_,l)}node(){return Gf(this.syncTree_,this.path_)}}const ET=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},t_=function(a,n,l){if(!a||typeof a!="object")return a;if(I(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return ST(a[".sv"],n,l);if(typeof a[".sv"]=="object")return bT(a[".sv"],n);I(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},ST=function(a,n,l){switch(a){case"timestamp":return l.timestamp;default:I(!1,"Unexpected server value: "+a)}},bT=function(a,n,l){a.hasOwnProperty("increment")||I(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const r=a.increment;typeof r!="number"&&I(!1,"Unexpected increment value: "+r);const u=n.node();if(I(u!==null&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return r;const h=u.getValue();return typeof h!="number"?r:h+r},yy=function(a,n,l,r){return Zf(n,new Kf(l,a),r)},vy=function(a,n,l){return Zf(a,new Ff(n),l)};function Zf(a,n,l){const r=a.getPriority().val(),u=t_(r,n.getImmediateChild(".priority"),l);let f;if(a.isLeafNode()){const h=a,g=t_(h.getValue(),n,l);return g!==h.getValue()||u!==h.getPriority().val()?new Pe(g,Fe(u)):a}else{const h=a;return f=h,u!==h.getPriority().val()&&(f=f.updatePriority(new Pe(u))),h.forEachChild(Ie,(g,_)=>{const m=Zf(_,n.getImmediateChild(g),l);m!==_&&(f=f.updateImmediateChild(g,m))}),f}}class Jf{constructor(n="",l=null,r={children:{},childCount:0}){this.name=n,this.parent=l,this.node=r}}function Pf(a,n){let l=n instanceof Ne?n:new Ne(n),r=a,u=le(l);for(;u!==null;){const f=Bl(r.node.children,u)||{children:{},childCount:0};r=new Jf(u,r,f),l=Me(l),u=le(l)}return r}function Fl(a){return a.node.value}function Ey(a,n){a.node.value=n,pf(a)}function Sy(a){return a.node.childCount>0}function TT(a){return Fl(a)===void 0&&!Sy(a)}function go(a,n){ot(a.node.children,(l,r)=>{n(new Jf(l,a,r))})}function by(a,n,l,r){l&&n(a),go(a,u=>{by(u,n,!0)})}function CT(a,n,l){let r=a.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function ps(a){return new Ne(a.parent===null?a.name:ps(a.parent)+"/"+a.name)}function pf(a){a.parent!==null&&AT(a.parent,a.name,a)}function AT(a,n,l){const r=TT(l),u=mn(a.node.children,n);r&&u?(delete a.node.children[n],a.node.childCount--,pf(a)):!r&&!u&&(a.node.children[n]=l.node,a.node.childCount++,pf(a))}const NT=/[\[\].#$\/\u0000-\u001F\u007F]/,RT=/[\[\].#$\u0000-\u001F\u007F]/,Pc=10*1024*1024,Wf=function(a){return typeof a=="string"&&a.length!==0&&!NT.test(a)},Ty=function(a){return typeof a=="string"&&a.length!==0&&!RT.test(a)},DT=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Ty(a)},OT=function(a){return a===null||typeof a=="string"||typeof a=="number"&&!Af(a)||a&&typeof a=="object"&&mn(a,".sv")},xT=function(a,n,l,r){po(ro(a,"value"),n,l)},po=function(a,n,l){const r=l instanceof Ne?new X1(l,a):l;if(n===void 0)throw new Error(a+"contains undefined "+ji(r));if(typeof n=="function")throw new Error(a+"contains a function "+ji(r)+" with contents = "+n.toString());if(Af(n))throw new Error(a+"contains "+n.toString()+" "+ji(r));if(typeof n=="string"&&n.length>Pc/3&&oo(n)>Pc)throw new Error(a+"contains a string greater than "+Pc+" utf8 bytes "+ji(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let u=!1,f=!1;if(ot(n,(h,g)=>{if(h===".value")u=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!Wf(h)))throw new Error(a+" contains an invalid key ("+h+") "+ji(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);F1(r,h),po(a,g,r),K1(r)}),u&&f)throw new Error(a+' contains ".value" child '+ji(r)+" in addition to actual children.")}},MT=function(a,n){let l,r;for(l=0;l<n.length;l++){r=n[l];const f=is(r);for(let h=0;h<f.length;h++)if(!(f[h]===".priority"&&h===f.length-1)){if(!Wf(f[h]))throw new Error(a+"contains an invalid key ("+f[h]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(Q1);let u=null;for(l=0;l<n.length;l++){if(r=n[l],u!==null&&Wt(u,r))throw new Error(a+"contains a path "+u.toString()+" that is ancestor of another path "+r.toString());u=r}},wT=function(a,n,l,r){const u=ro(a,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(u+" must be an object containing the children to replace.");const f=[];ot(n,(h,g)=>{const _=new Ne(h);if(po(u,g,Be(l,_)),xf(_)===".priority"&&!OT(g))throw new Error(u+"contains an invalid value for '"+_.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(_)}),MT(u,f)},Cy=function(a,n,l,r){if(!Ty(l))throw new Error(ro(a,n)+'was an invalid path = "'+l+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},zT=function(a,n,l,r){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Cy(a,n,l)},LT=function(a,n){if(le(n)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},UT=function(a,n){const l=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Wf(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||l.length!==0&&!DT(l))throw new Error(ro(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class HT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _o(a,n){let l=null;for(let r=0;r<n.length;r++){const u=n[r],f=u.getPath();l!==null&&!Mf(f,l.path)&&(a.eventLists_.push(l),l=null),l===null&&(l={events:[],path:f}),l.events.push(u)}l&&a.eventLists_.push(l)}function Ay(a,n,l){_o(a,l),Ny(a,r=>Mf(r,n))}function $t(a,n,l){_o(a,l),Ny(a,r=>Wt(r,n)||Wt(n,r))}function Ny(a,n){a.recursionDepth_++;let l=!0;for(let r=0;r<a.eventLists_.length;r++){const u=a.eventLists_[r];if(u){const f=u.path;n(f)?(BT(a.eventLists_[r]),a.eventLists_[r]=null):l=!1}}l&&(a.eventLists_=[]),a.recursionDepth_--}function BT(a){for(let n=0;n<a.events.length;n++){const l=a.events[n];if(l!==null){a.events[n]=null;const r=l.getEventRunner();Ka&&rt("event: "+l.toString()),Ql(r)}}}const IT="repo_interrupt",jT=25;class kT{constructor(n,l,r,u){this.repoInfo_=n,this.forceRestClient_=l,this.authTokenProvider_=r,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new HT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wr(),this.transactionQueueTree_=new Jf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function qT(a,n,l){if(a.stats_=Df(a.repoInfo_),a.forceRestClient_||p1())a.server_=new Pr(a.repoInfo_,(r,u,f,h)=>{n_(a,r,u,f,h)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>i_(a,!0),0);else{if(typeof l<"u"&&l!==null){if(typeof l!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ke(l)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}a.persistentConnection_=new Un(a.repoInfo_,n,(r,u,f,h)=>{n_(a,r,u,f,h)},r=>{i_(a,r)},r=>{GT(a,r)},a.authTokenProvider_,a.appCheckProvider_,l),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(r=>{a.server_.refreshAuthToken(r)}),a.appCheckProvider_.addTokenChangeListener(r=>{a.server_.refreshAppCheckToken(r.token)}),a.statsReporter_=S1(a.repoInfo_,()=>new Eb(a.stats_,a.server_)),a.infoData_=new gb,a.infoSyncTree_=new e_({startListening:(r,u,f,h)=>{let g=[];const _=a.infoData_.getNode(r._path);return _.isEmpty()||(g=gs(a.infoSyncTree_,r._path,_),setTimeout(()=>{h("ok")},0)),g},stopListening:()=>{}}),$f(a,"connected",!1),a.serverSyncTree_=new e_({startListening:(r,u,f,h)=>(a.server_.listen(r,f,u,(g,_)=>{const m=h(g,_);$t(a.eventQueue_,r._path,m)}),[]),stopListening:(r,u)=>{a.server_.unlisten(r,u)}})}function YT(a){const l=a.infoData_.getNode(new Ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+l}function yo(a){return ET({timestamp:YT(a)})}function n_(a,n,l,r,u){a.dataUpdateCount++;const f=new Ne(n);l=a.interceptServerDataCallback_?a.interceptServerDataCallback_(n,l):l;let h=[];if(u)if(r){const _=Vr(l,m=>Fe(m));h=mT(a.serverSyncTree_,f,_,u)}else{const _=Fe(l);h=my(a.serverSyncTree_,f,_,u)}else if(r){const _=Vr(l,m=>Fe(m));h=fT(a.serverSyncTree_,f,_)}else{const _=Fe(l);h=gs(a.serverSyncTree_,f,_)}let g=f;h.length>0&&(g=Yl(a,f)),$t(a.eventQueue_,g,h)}function i_(a,n){$f(a,"connected",n),n===!1&&FT(a)}function GT(a,n){ot(n,(l,r)=>{$f(a,l,r)})}function $f(a,n,l){const r=new Ne("/.info/"+n),u=Fe(l);a.infoData_.updateSnapshot(r,u);const f=gs(a.infoSyncTree_,r,u);$t(a.eventQueue_,r,f)}function eh(a){return a.nextWriteId_++}function VT(a,n,l){const r=gT(a.serverSyncTree_,n);return r!=null?Promise.resolve(r):a.server_.get(n).then(u=>{const f=Fe(u).withIndex(n._queryParams.getIndex());gf(a.serverSyncTree_,n,l,!0);let h;if(n._queryParams.loadsAllData())h=gs(a.serverSyncTree_,n._path,f);else{const g=os(a.serverSyncTree_,n);h=my(a.serverSyncTree_,n._path,f,g)}return $t(a.eventQueue_,n._path,h),so(a.serverSyncTree_,n,l,null,!0),f},u=>(_s(a,"get for query "+Ke(n)+" failed: "+u),Promise.reject(new Error(u))))}function QT(a,n,l,r,u){_s(a,"set",{path:n.toString(),value:l,priority:r});const f=yo(a),h=Fe(l,r),g=Gf(a.serverSyncTree_,n),_=vy(h,g,f),m=eh(a),T=dy(a.serverSyncTree_,n,_,m,!0);_o(a.eventQueue_,T),a.server_.put(n.toString(),h.val(!0),(S,U)=>{const B=S==="ok";B||mt("set at "+n+" failed: "+S);const Q=fi(a.serverSyncTree_,m,!B);$t(a.eventQueue_,n,Q),yf(a,u,S,U)});const v=nh(a,n);Yl(a,v),$t(a.eventQueue_,v,[])}function XT(a,n,l,r){_s(a,"update",{path:n.toString(),value:l});let u=!0;const f=yo(a),h={};if(ot(l,(g,_)=>{u=!1,h[g]=yy(Be(n,g),Fe(_),a.serverSyncTree_,f)}),u)rt("update() called with empty data.  Don't do anything."),yf(a,r,"ok",void 0);else{const g=eh(a),_=cT(a.serverSyncTree_,n,h,g);_o(a.eventQueue_,_),a.server_.merge(n.toString(),l,(m,T)=>{const v=m==="ok";v||mt("update at "+n+" failed: "+m);const S=fi(a.serverSyncTree_,g,!v),U=S.length>0?Yl(a,n):n;$t(a.eventQueue_,U,S),yf(a,r,m,T)}),ot(l,m=>{const T=nh(a,Be(n,m));Yl(a,T)}),$t(a.eventQueue_,n,[])}}function FT(a){_s(a,"onDisconnectEvents");const n=yo(a),l=Wr();uf(a.onDisconnect_,pe(),(u,f)=>{const h=yy(u,f,a.serverSyncTree_,n);W_(l,u,h)});let r=[];uf(l,pe(),(u,f)=>{r=r.concat(gs(a.serverSyncTree_,u,f));const h=nh(a,u);Yl(a,h)}),a.onDisconnect_=Wr(),$t(a.eventQueue_,pe(),r)}function KT(a,n,l){let r;le(n._path)===".info"?r=gf(a.infoSyncTree_,n,l):r=gf(a.serverSyncTree_,n,l),Ay(a.eventQueue_,n._path,r)}function _f(a,n,l){let r;le(n._path)===".info"?r=so(a.infoSyncTree_,n,l):r=so(a.serverSyncTree_,n,l),Ay(a.eventQueue_,n._path,r)}function ZT(a){a.persistentConnection_&&a.persistentConnection_.interrupt(IT)}function _s(a,...n){let l="";a.persistentConnection_&&(l=a.persistentConnection_.id+":"),rt(l,...n)}function yf(a,n,l,r){n&&Ql(()=>{if(l==="ok")n(null);else{const u=(l||"error").toUpperCase();let f=u;r&&(f+=": "+r);const h=new Error(f);h.code=u,n(h)}})}function Ry(a,n,l){return Gf(a.serverSyncTree_,n,l)||J.EMPTY_NODE}function th(a,n=a.transactionQueueTree_){if(n||vo(a,n),Fl(n)){const l=Oy(a,n);I(l.length>0,"Sending zero length transaction queue"),l.every(u=>u.status===0)&&JT(a,ps(n),l)}else Sy(n)&&go(n,l=>{th(a,l)})}function JT(a,n,l){const r=l.map(m=>m.currentWriteId),u=Ry(a,n,r);let f=u;const h=u.hash();for(let m=0;m<l.length;m++){const T=l[m];I(T.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),T.status=1,T.retryCount++;const v=dt(n,T.path);f=f.updateChild(v,T.currentOutputSnapshotRaw)}const g=f.val(!0),_=n;a.server_.put(_.toString(),g,m=>{_s(a,"transaction put response",{path:_.toString(),status:m});let T=[];if(m==="ok"){const v=[];for(let S=0;S<l.length;S++)l[S].status=2,T=T.concat(fi(a.serverSyncTree_,l[S].currentWriteId)),l[S].onComplete&&v.push(()=>l[S].onComplete(null,!0,l[S].currentOutputSnapshotResolved)),l[S].unwatcher();vo(a,Pf(a.transactionQueueTree_,n)),th(a,a.transactionQueueTree_),$t(a.eventQueue_,n,T);for(let S=0;S<v.length;S++)Ql(v[S])}else{if(m==="datastale")for(let v=0;v<l.length;v++)l[v].status===3?l[v].status=4:l[v].status=0;else{mt("transaction at "+_.toString()+" failed: "+m);for(let v=0;v<l.length;v++)l[v].status=4,l[v].abortReason=m}Yl(a,n)}},h)}function Yl(a,n){const l=Dy(a,n),r=ps(l),u=Oy(a,l);return PT(a,u,r),r}function PT(a,n,l){if(n.length===0)return;const r=[];let u=[];const h=n.filter(g=>g.status===0).map(g=>g.currentWriteId);for(let g=0;g<n.length;g++){const _=n[g],m=dt(l,_.path);let T=!1,v;if(I(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),_.status===4)T=!0,v=_.abortReason,u=u.concat(fi(a.serverSyncTree_,_.currentWriteId,!0));else if(_.status===0)if(_.retryCount>=jT)T=!0,v="maxretry",u=u.concat(fi(a.serverSyncTree_,_.currentWriteId,!0));else{const S=Ry(a,_.path,h);_.currentInputSnapshot=S;const U=n[g].update(S.val());if(U!==void 0){po("transaction failed: Data returned ",U,_.path);let B=Fe(U);typeof U=="object"&&U!=null&&mn(U,".priority")||(B=B.updatePriority(S.getPriority()));const ee=_.currentWriteId,Re=yo(a),ye=vy(B,S,Re);_.currentOutputSnapshotRaw=B,_.currentOutputSnapshotResolved=ye,_.currentWriteId=eh(a),h.splice(h.indexOf(ee),1),u=u.concat(dy(a.serverSyncTree_,_.path,ye,_.currentWriteId,_.applyLocally)),u=u.concat(fi(a.serverSyncTree_,ee,!0))}else T=!0,v="nodata",u=u.concat(fi(a.serverSyncTree_,_.currentWriteId,!0))}$t(a.eventQueue_,l,u),u=[],T&&(n[g].status=2,(function(S){setTimeout(S,Math.floor(0))})(n[g].unwatcher),n[g].onComplete&&(v==="nodata"?r.push(()=>n[g].onComplete(null,!1,n[g].currentInputSnapshot)):r.push(()=>n[g].onComplete(new Error(v),!1,null))))}vo(a,a.transactionQueueTree_);for(let g=0;g<r.length;g++)Ql(r[g]);th(a,a.transactionQueueTree_)}function Dy(a,n){let l,r=a.transactionQueueTree_;for(l=le(n);l!==null&&Fl(r)===void 0;)r=Pf(r,l),n=Me(n),l=le(n);return r}function Oy(a,n){const l=[];return xy(a,n,l),l.sort((r,u)=>r.order-u.order),l}function xy(a,n,l){const r=Fl(n);if(r)for(let u=0;u<r.length;u++)l.push(r[u]);go(n,u=>{xy(a,u,l)})}function vo(a,n){const l=Fl(n);if(l){let r=0;for(let u=0;u<l.length;u++)l[u].status!==2&&(l[r]=l[u],r++);l.length=r,Ey(n,l.length>0?l:void 0)}go(n,r=>{vo(a,r)})}function nh(a,n){const l=ps(Dy(a,n)),r=Pf(a.transactionQueueTree_,n);return CT(r,u=>{Wc(a,u)}),Wc(a,r),by(r,u=>{Wc(a,u)}),l}function Wc(a,n){const l=Fl(n);if(l){const r=[];let u=[],f=-1;for(let h=0;h<l.length;h++)l[h].status===3||(l[h].status===1?(I(f===h-1,"All SENT items should be at beginning of queue."),f=h,l[h].status=3,l[h].abortReason="set"):(I(l[h].status===0,"Unexpected transaction status in abort"),l[h].unwatcher(),u=u.concat(fi(a.serverSyncTree_,l[h].currentWriteId,!0)),l[h].onComplete&&r.push(l[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?Ey(n,void 0):l.length=f+1,$t(a.eventQueue_,ps(n),u);for(let h=0;h<r.length;h++)Ql(r[h])}}function WT(a){let n="";const l=a.split("/");for(let r=0;r<l.length;r++)if(l[r].length>0){let u=l[r];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}n+="/"+u}return n}function $T(a){const n={};a.charAt(0)==="?"&&(a=a.substring(1));for(const l of a.split("&")){if(l.length===0)continue;const r=l.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):mt(`Invalid query segment '${l}' in query '${a}'`)}return n}const l_=function(a,n){const l=eC(a),r=l.namespace;l.domain==="firebase.com"&&Bn(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&l.domain!=="localhost"&&Bn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||r1();const u=l.scheme==="ws"||l.scheme==="wss";return{repoInfo:new U_(l.host,l.secure,r,u,n,"",r!==l.subdomain),path:new Ne(l.pathString)}},eC=function(a){let n="",l="",r="",u="",f="",h=!0,g="https",_=443;if(typeof a=="string"){let m=a.indexOf("//");m>=0&&(g=a.substring(0,m-1),a=a.substring(m+2));let T=a.indexOf("/");T===-1&&(T=a.length);let v=a.indexOf("?");v===-1&&(v=a.length),n=a.substring(0,Math.min(T,v)),T<v&&(u=WT(a.substring(T,v)));const S=$T(a.substring(Math.min(a.length,v)));m=n.indexOf(":"),m>=0?(h=g==="https"||g==="wss",_=parseInt(n.substring(m+1),10)):m=n.length;const U=n.slice(0,m);if(U.toLowerCase()==="localhost")l="localhost";else if(U.split(".").length<=2)l=U;else{const B=n.indexOf(".");r=n.substring(0,B).toLowerCase(),l=n.substring(B+1),f=r}"ns"in S&&(f=S.ns)}return{host:n,port:_,domain:l,subdomain:r,secure:h,scheme:g,pathString:u,namespace:f}};class tC{constructor(n,l,r,u){this.eventType=n,this.eventRegistration=l,this.snapshot=r,this.prevName=u}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ke(this.snapshot.exportVal())}}class nC{constructor(n,l,r){this.eventRegistration=n,this.error=l,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class My{constructor(n,l){this.snapshotCallback=n,this.cancelCallback=l}onValue(n,l){this.snapshotCallback.call(null,n,l)}onCancel(n){return I(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class ih{constructor(n,l,r,u){this._repo=n,this._path=l,this._queryParams=r,this._orderByCalled=u}get key(){return ue(this._path)?null:xf(this._path)}get ref(){return new In(this._repo,this._path)}get _queryIdentifier(){const n=Vp(this._queryParams),l=Nf(n);return l==="{}"?"default":l}get _queryObject(){return Vp(this._queryParams)}isEqual(n){if(n=Vl(n),!(n instanceof ih))return!1;const l=this._repo===n._repo,r=Mf(this._path,n._path),u=this._queryIdentifier===n._queryIdentifier;return l&&r&&u}toJSON(){return this.toString()}toString(){return this._repo.toString()+V1(this._path)}}class In extends ih{constructor(n,l){super(n,l,new Uf,!1)}get parent(){const n=V_(this._path);return n===null?null:new In(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class us{constructor(n,l,r){this._node=n,this.ref=l,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const l=new Ne(n),r=vf(this.ref,n);return new us(this._node.getChild(l),r,Ie)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,u)=>n(new us(u,vf(this.ref,r),Ie)))}hasChild(n){const l=new Ne(n);return!this._node.getChild(l).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ct(a,n){return a=Vl(a),a._checkNotDeleted("ref"),n!==void 0?vf(a._root,n):a._root}function vf(a,n){return a=Vl(a),le(a._path)===null?zT("child","path",n):Cy("child","path",n),new In(a._repo,Be(a._path,n))}function Xa(a,n){a=Vl(a),LT("set",a._path),xT("set",n,a._path);const l=new cs;return QT(a._repo,a._path,n,null,l.wrapCallback(()=>{})),l.promise}function iC(a,n){wT("update",n,a._path);const l=new cs;return XT(a._repo,a._path,n,l.wrapCallback(()=>{})),l.promise}function Ir(a){a=Vl(a);const n=new My(()=>{}),l=new Eo(n);return VT(a._repo,a,l).then(r=>new us(r,new In(a._repo,a._path),a._queryParams.getIndex()))}class Eo{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,l){const r=l._queryParams.getIndex();return new tC("value",this,new us(n.snapshotNode,new In(l._repo,l._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new nC(this,n,l):null}matches(n){return n instanceof Eo?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function lC(a,n,l,r,u){let f;if(typeof r=="object"&&(f=void 0,u=r),typeof r=="function"&&(f=r),u&&u.onlyOnce){const _=l,m=(T,v)=>{_f(a._repo,a,g),_(T,v)};m.userCallback=l.userCallback,m.context=l.context,l=m}const h=new My(l,f||void 0),g=new Eo(h);return KT(a._repo,a,g),()=>_f(a._repo,a,g)}function jr(a,n,l,r){return lC(a,"value",n,l,r)}function kr(a,n,l){_f(a._repo,a,null)}nT(In);rT(In);const aC="FIREBASE_DATABASE_EMULATOR_HOST",Ef={};let sC=!1;function rC(a,n,l,r){const u=n.lastIndexOf(":"),f=n.substring(0,u),h=Tf(f);a.repoInfo_=new U_(n,h,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,l),r&&(a.authTokenProvider_=r)}function oC(a,n,l,r,u){let f=r||a.options.databaseURL;f===void 0&&(a.options.projectId||Bn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),rt("Using default host for project ",a.options.projectId),f=`${a.options.projectId}-default-rtdb.firebaseio.com`);let h=l_(f,u),g=h.repoInfo,_;typeof process<"u"&&Np&&(_=Np[aC]),_?(f=`http://${_}?ns=${g.namespace}`,h=l_(f,u),g=h.repoInfo):h.repoInfo.secure;const m=new y1(a.name,a.options,n);UT("Invalid Firebase Database URL",h),ue(h.path)||Bn("Database URL must point to the root of a Firebase Database (not including a child path).");const T=cC(g,a,m,new _1(a,l));return new fC(T,a)}function uC(a,n){const l=Ef[n];(!l||l[a.key]!==a)&&Bn(`Database ${n}(${a.repoInfo_}) has already been deleted.`),ZT(a),delete l[a.key]}function cC(a,n,l,r){let u=Ef[n.name];u||(u={},Ef[n.name]=u);let f=u[a.toURLString()];return f&&Bn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new kT(a,sC,l,r),u[a.toURLString()]=f,f}class fC{constructor(n,l){this._repoInternal=n,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(qT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new In(this._repo,pe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(uC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Bn("Cannot call "+n+" on a deleted database.")}}function hC(a=VS(),n){const l=jS(a,"database").getImmediate({identifier:n});if(!l._instanceStarted){const r=C0("database");r&&dC(l,...r)}return l}function dC(a,n,l,r={}){a=Vl(a),a._checkNotDeleted("useEmulator");const u=`${n}:${l}`,f=a._repoInternal;if(a._instanceStarted){if(u===a._repoInternal.repoInfo_.host&&Qr(r,f.repoInfo_.emulatorOptions))return;Bn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)r.mockUserToken&&Bn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Yr(Yr.OWNER);else if(r.mockUserToken){const g=typeof r.mockUserToken=="string"?r.mockUserToken:N0(r.mockUserToken,a.app.options.projectId);h=new Yr(g)}Tf(n)&&(A0(n),O0("Database",!0)),rC(f,u,r,h)}function mC(a){t1(GS),Fr(new es("database",(n,{instanceIdentifier:l})=>{const r=n.getProvider("app").getImmediate(),u=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return oC(r,u,f,l)},"PUBLIC").setMultipleInstances(!0)),Ll(Rp,Dp,a),Ll(Rp,Dp,"esm2020")}Un.prototype.simpleListen=function(a,n){this.sendRequest("q",{p:a},n)};Un.prototype.echo=function(a,n){this.sendRequest("echo",{d:a},n)};mC();var gC="firebase",pC="12.7.0";Ll(gC,pC,"app");const _C={apiKey:"AIzaSyA--HBs-ISse4IlSDXBk_iKLlnNHqoEj84",authDomain:"coordinator-94e3a.firebaseapp.com",databaseURL:"https://coordinator-94e3a-default-rtdb.europe-west1.firebasedatabase.app",projectId:"coordinator-94e3a",storageBucket:"coordinator-94e3a.firebasestorage.app",messagingSenderId:"948525627672",appId:"1:948525627672:web:99447cd8fab0b38626c66d"},yC=y_(_C),At=hC(yC),a_=(a,n="name")=>!Array.isArray(a)||a.length===0?{}:a.reduce((l,r)=>{const u=r[n];return u&&(l[u]={...r,lastUpdated:Date.now()}),l},{}),qr=a=>!a||typeof a!="object"?[]:Object.values(a).map(({lastUpdated:n,...l})=>l),vC=a=>{try{return JSON.stringify(a)}catch(n){return console.error("Error stringifying data:",n),null}},EC=(a,n=null)=>{try{return a?JSON.parse(a):n}catch(l){return console.error("Error parsing JSON:",l),n}},It="coordinator";class SC{constructor(){this.listeners=new Map,this.isConnected=!1,this.initConnectionMonitor()}initConnectionMonitor(){const n=Ct(At,".info/connected");jr(n,l=>{this.isConnected=l.val()===!0,console.log(`Firebase connection status: ${this.isConnected?"connected":"disconnected"}`)})}getConnectionStatus(){return this.isConnected}async getTheatres(){try{const n=Ct(At,`${It}/theatres`),l=await Ir(n);return qr(l.val())}catch(n){throw console.error("Error getting theatres from Firebase:",n),n}}async setTheatre(n,l){try{const r=Ct(At,`${It}/theatres/${n}`);await Xa(r,{...l,lastUpdated:Date.now()})}catch(r){throw console.error("Error setting theatre in Firebase:",r),r}}async setTheatres(n){try{const l=Ct(At,`${It}/theatres`),r=a_(n);await Xa(l,r)}catch(l){throw console.error("Error setting theatres in Firebase:",l),l}}subscribeToTheatres(n){const l=Ct(At,`${It}/theatres`),r=jr(l,u=>{const f=qr(u.val());n(f)},u=>{console.error("Error in theatres subscription:",u)});return this.listeners.set("theatres",{ref:l,listener:r}),()=>{kr(l),this.listeners.delete("theatres")}}async getPractitioners(){try{const n=Ct(At,`${It}/practitioners`),l=await Ir(n);return qr(l.val())}catch(n){throw console.error("Error getting practitioners from Firebase:",n),n}}async setPractitioners(n){try{const l=Ct(At,`${It}/practitioners`),r=a_(n);await Xa(l,r)}catch(l){throw console.error("Error setting practitioners in Firebase:",l),l}}async updatePractitioner(n,l){try{const r=Ct(At,`${It}/practitioners/${n}`);await iC(r,{...l,lastUpdated:Date.now()})}catch(r){throw console.error("Error updating practitioner in Firebase:",r),r}}subscribeToPractitioners(n){const l=Ct(At,`${It}/practitioners`),r=jr(l,u=>{const f=qr(u.val());n(f)},u=>{console.error("Error in practitioners subscription:",u)});return this.listeners.set("practitioners",{ref:l,listener:r}),()=>{kr(l),this.listeners.delete("practitioners")}}async getTheme(){try{const n=Ct(At,`${It}/settings/theme`);return(await Ir(n)).val()||"dark"}catch(n){throw console.error("Error getting theme from Firebase:",n),n}}async setTheme(n){try{const l=Ct(At,`${It}/settings/theme`);await Xa(l,n)}catch(l){throw console.error("Error setting theme in Firebase:",l),l}}async getHighlightSettings(){try{const n=Ct(At,`${It}/settings/highlightSettings`);return(await Ir(n)).val()||{highlightEarlies:!0,highlight1730s:!0,highlight1830s:!0,highlightLates:!0}}catch(n){throw console.error("Error getting highlight settings from Firebase:",n),n}}async setHighlightSettings(n){try{const l=Ct(At,`${It}/settings/highlightSettings`);await Xa(l,n)}catch(l){throw console.error("Error setting highlight settings in Firebase:",l),l}}subscribeToSettings(n){const l=Ct(At,`${It}/settings`),r=jr(l,u=>{const f=u.val()||{};n(f)},u=>{console.error("Error in settings subscription:",u)});return this.listeners.set("settings",{ref:l,listener:r}),()=>{kr(l),this.listeners.delete("settings")}}async exportAllData(){try{const[n,l,r,u]=await Promise.all([this.getTheatres(),this.getPractitioners(),this.getTheme(),this.getHighlightSettings()]);return{theatres:n,practitionerList:l,theme:r,highlightSettings:u}}catch(n){throw console.error("Error exporting data from Firebase:",n),n}}async importAllData(n){try{const l=[];n.theatres&&l.push(this.setTheatres(n.theatres)),n.practitionerList&&l.push(this.setPractitioners(n.practitionerList)),n.theme&&l.push(this.setTheme(n.theme)),n.highlightSettings&&l.push(this.setHighlightSettings(n.highlightSettings)),await Promise.all(l)}catch(l){throw console.error("Error importing data to Firebase:",l),l}}cleanup(){this.listeners.forEach(({ref:n})=>{kr(n)}),this.listeners.clear()}}const st=new SC;class bC{constructor(){this.mode="firebase",this.initializeConnectionMonitoring()}initializeConnectionMonitoring(){setInterval(()=>{const n=st.getConnectionStatus();this.mode==="firebase"&&!n?(console.warn("Firebase disconnected. Switching to localStorage mode."),this.mode="localStorage"):this.mode==="localStorage"&&n&&(console.log("Firebase reconnected. Switching back to Firebase mode."),this.mode="firebase")},5e3)}getMode(){return this.mode}isFirebaseAvailable(){return this.mode==="firebase"&&st.getConnectionStatus()}saveToLocalStorage(n,l){try{const r=vC(l);r&&localStorage.setItem(n,r)}catch(r){console.error(`Error saving to localStorage (${n}):`,r)}}loadFromLocalStorage(n,l){try{const r=localStorage.getItem(n);return EC(r,l)}catch(r){return console.error(`Error loading from localStorage (${n}):`,r),l}}async getTheatres(){if(this.isFirebaseAvailable())try{return await st.getTheatres()}catch(n){console.error("Error getting theatres from Firebase, falling back to localStorage:",n)}return this.loadFromLocalStorage("theatreData",[])}async setTheatre(n,l){const u=this.loadFromLocalStorage("theatreData",[]).map(f=>f.name===n?{...f,...l}:f);if(this.saveToLocalStorage("theatreData",u),this.isFirebaseAvailable())try{await st.setTheatre(n,l)}catch(f){console.error("Error setting theatre in Firebase:",f)}}async setTheatres(n){if(this.saveToLocalStorage("theatreData",n),this.isFirebaseAvailable())try{await st.setTheatres(n)}catch(l){console.error("Error setting theatres in Firebase:",l)}}subscribeToTheatres(n){return st.subscribeToTheatres(n)}async getPractitioners(){if(this.isFirebaseAvailable())try{return await st.getPractitioners()}catch(n){console.error("Error getting practitioners from Firebase, falling back to localStorage:",n)}return this.loadFromLocalStorage("practitionerListData",[])}async setPractitioners(n){if(this.saveToLocalStorage("practitionerListData",n),this.isFirebaseAvailable())try{await st.setPractitioners(n)}catch(l){console.error("Error setting practitioners in Firebase:",l)}}async updatePractitioner(n,l){const u=this.loadFromLocalStorage("practitionerListData",[]).map(f=>f.name===n?{...f,...l}:f);if(this.saveToLocalStorage("practitionerListData",u),this.isFirebaseAvailable())try{await st.updatePractitioner(n,l)}catch(f){console.error("Error updating practitioner in Firebase:",f)}}subscribeToPractitioners(n){return st.subscribeToPractitioners(n)}async getTheme(){if(this.isFirebaseAvailable())try{return await st.getTheme()}catch(n){console.error("Error getting theme from Firebase, falling back to localStorage:",n)}return this.loadFromLocalStorage("theme","dark")}async setTheme(n){if(this.saveToLocalStorage("theme",n),this.isFirebaseAvailable())try{await st.setTheme(n)}catch(l){console.error("Error setting theme in Firebase:",l)}}async getHighlightSettings(){if(this.isFirebaseAvailable())try{return await st.getHighlightSettings()}catch(n){console.error("Error getting highlight settings from Firebase, falling back to localStorage:",n)}return this.loadFromLocalStorage("highlightSettings",{highlightEarlies:!0,highlight1730s:!0,highlight1830s:!0,highlightLates:!0})}async setHighlightSettings(n){if(this.saveToLocalStorage("highlightSettings",n),this.isFirebaseAvailable())try{await st.setHighlightSettings(n)}catch(l){console.error("Error setting highlight settings in Firebase:",l)}}subscribeToSettings(n){return st.subscribeToSettings(n)}async exportAllData(){if(this.isFirebaseAvailable())try{return await st.exportAllData()}catch(n){console.error("Error exporting from Firebase, using localStorage:",n)}return{theatres:this.loadFromLocalStorage("theatreData",[]),practitionerList:this.loadFromLocalStorage("practitionerListData",[]),theme:this.loadFromLocalStorage("theme","dark"),highlightSettings:this.loadFromLocalStorage("highlightSettings",{highlightEarlies:!0,highlight1730s:!0,highlight1830s:!0,highlightLates:!0})}}async importAllData(n){if(n.theatres&&this.saveToLocalStorage("theatreData",n.theatres),n.practitionerList&&this.saveToLocalStorage("practitionerListData",n.practitionerList),n.theme&&this.saveToLocalStorage("theme",n.theme),n.highlightSettings&&this.saveToLocalStorage("highlightSettings",n.highlightSettings),this.isFirebaseAvailable())try{await st.importAllData(n)}catch(l){console.error("Error importing to Firebase:",l)}}}const $e=new bC,TC=[{name:"Theatre E1",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre E2",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre E3",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre E4",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre E5",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre E6",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre E7",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre E8",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre E9",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre E10",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre E11",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre E12",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"CEPOD 2 E13",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"CEPOD E14",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre E15",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre E16",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Trauma 1 / E17",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Trauma 2 / E18",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre E19",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre E20",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre E21",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre E22",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre D1",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre D2",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre D3",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre D4",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre D5",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre D6",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Theatre D7",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Maternity Emergency",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Maternity Elective",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Endoscopy",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"IR",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"MRI",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Cardiology",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Spare",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""},{name:"Spare 2",currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running",phoneExtension:""}],CC=()=>{const[a,n]=ne.useState(TC),[l,r]=ne.useState(!0),u=ne.useRef(!1),f=ne.useRef(null);ne.useEffect(()=>{let g=!0;return(async()=>{try{const m=await $e.getTheatres();g&&m.length>0&&(u.current=!0,n(m))}catch(m){console.error("Error loading initial theatre data:",m)}finally{g&&r(!1)}if($e.isFirebaseAvailable())try{f.current=$e.subscribeToTheatres(m=>{g&&m.length>0&&(u.current=!0,n(m))})}catch(m){console.error("Error subscribing to theatre updates:",m)}})(),()=>{g=!1,f.current&&f.current()}},[]),ne.useEffect(()=>{if(u.current){u.current=!1;return}l||$e.setTheatres(a).catch(g=>{console.error("Error saving theatres:",g)})},[a,l]);const h=ne.useCallback((g,_)=>{n(m=>m.map(T=>T.name===g?{...T,..._}:T))},[]);return{theatres:a,setTheatres:n,updateTheatre:h,isLoading:l}},AC=[{name:"M Varghese",endTime:"17:30",relieved:!1,supper:!1},{name:"K Bevis",endTime:"18:00",relieved:!1,supper:!1}],NC=()=>{const[a,n]=ne.useState(AC),[l,r]=ne.useState(!0),u=ne.useRef(!1),f=ne.useRef(null);ne.useEffect(()=>{let g=!0;return(async()=>{try{const m=await $e.getPractitioners();if(g&&m.length>0){const T=m.map(v=>({...v,relieved:v.relieved??!1,supper:v.supper??!1}));u.current=!0,n(T)}}catch(m){console.error("Error loading initial practitioner data:",m)}finally{g&&r(!1)}if($e.isFirebaseAvailable())try{f.current=$e.subscribeToPractitioners(m=>{if(g&&m.length>0){const T=m.map(v=>({...v,relieved:v.relieved??!1,supper:v.supper??!1}));u.current=!0,n(T)}})}catch(m){console.error("Error subscribing to practitioner updates:",m)}})(),()=>{g=!1,f.current&&f.current()}},[]),ne.useEffect(()=>{if(u.current){u.current=!1;return}l||$e.setPractitioners(a).catch(g=>{console.error("Error saving practitioners:",g)})},[a,l]);const h=ne.useCallback((g,_)=>{n(m=>m.map(T=>T.name===g?{...T,..._}:T))},[]);return{practitionerList:a,setPractitionerList:n,updatePractitioner:h,isLoading:l}},RC={highlightEarlies:!0,highlight1730s:!0,highlight1830s:!0,highlightLates:!0},DC=()=>{const[a,n]=ne.useState("dark"),[l,r]=ne.useState(!0),u=ne.useRef(!1),f=ne.useRef(null);return ne.useEffect(()=>{let h=!0;return(async()=>{try{const _=await $e.getTheme();h&&_&&(u.current=!0,n(_),document.body.className=_==="light"?"light-theme":"dark-theme")}catch(_){console.error("Error loading initial theme:",_)}finally{h&&r(!1)}if($e.isFirebaseAvailable())try{f.current=$e.subscribeToSettings(_=>{h&&_.theme&&(u.current=!0,n(_.theme),document.body.className=_.theme==="light"?"light-theme":"dark-theme")})}catch(_){console.error("Error subscribing to theme updates:",_)}})(),()=>{h=!1,f.current&&f.current()}},[]),ne.useEffect(()=>{if(u.current){u.current=!1;return}l||(document.body.className=a==="light"?"light-theme":"dark-theme",$e.setTheme(a).catch(h=>{console.error("Error saving theme:",h)}))},[a,l]),{theme:a,setTheme:n,isLoading:l}},OC=()=>{const[a,n]=ne.useState(RC),[l,r]=ne.useState(!0),u=ne.useRef(!1),f=ne.useRef(null);ne.useEffect(()=>{let g=!0;return(async()=>{try{const m=await $e.getHighlightSettings();g&&m&&(u.current=!0,n(m))}catch(m){console.error("Error loading initial highlight settings:",m)}finally{g&&r(!1)}if($e.isFirebaseAvailable())try{f.current=$e.subscribeToSettings(m=>{g&&m.highlightSettings&&(u.current=!0,n(m.highlightSettings))})}catch(m){console.error("Error subscribing to highlight settings updates:",m)}})(),()=>{g=!1,f.current&&f.current()}},[]),ne.useEffect(()=>{if(u.current){u.current=!1;return}l||$e.setHighlightSettings(a).catch(g=>{console.error("Error saving highlight settings:",g)})},[a,l]);const h=ne.useCallback(g=>{n(_=>({..._,[g]:!_[g]}))},[]);return{highlightSettings:a,setHighlightSettings:n,updateHighlightSetting:h,isLoading:l}},xC=()=>{const{theatres:a,setTheatres:n}=CC(),{practitionerList:l,setPractitionerList:r}=NC(),{theme:u,setTheme:f}=DC(),{highlightSettings:h,updateHighlightSetting:g}=OC(),[_,m]=ne.useState(!1),[T,v]=ne.useState(null),[S,U]=ne.useState(!1),[B,Q]=ne.useState(!0),[ee,Re]=ne.useState("17:30s"),[ye,ve]=ne.useState(new Date().toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1})),[qe,jt]=ne.useState(!1);ne.useEffect(()=>{const M=setInterval(()=>{ve(new Date().toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1}))},1e3);return()=>clearInterval(M)},[]);const ut=async()=>{try{const M=await $e.exportAllData(),j=JSON.stringify(M,null,2),Y=new Blob([j],{type:"application/json"}),X=URL.createObjectURL(Y),ie=document.createElement("a");ie.href=X;const W=`theatre_dashboard_backup_${new Date().toISOString().slice(0,10).replace(/-/g,"")}.json`;ie.download=W,document.body.appendChild(ie),ie.click(),document.body.removeChild(ie),URL.revokeObjectURL(X),alert("Dashboard data downloaded successfully! Filename: "+W)}catch(M){console.error("Error exporting data:",M),alert("Error downloading data. Please try again.")}},se=M=>{const j=M.target.files[0];if(!j)return;const Y=new FileReader;Y.onload=async X=>{try{const ie=X.target.result,W=JSON.parse(ie);W.theatres&&W.practitionerList?(await $e.importAllData(W),n(W.theatres),r(W.practitionerList),alert(`Successfully loaded ${W.theatres.length} theatres and ${W.practitionerList.length} staff from backup file.`)):alert("Backup file format invalid. Missing 'theatres' or 'practitionerList' keys.")}catch(ie){console.error("Error reading or parsing backup file:",ie),alert("Error loading data. Please ensure the file is a valid JSON backup.")}M.target.value=null},Y.readAsText(j)},ct=M=>{const j=M.trim().split(/\r?\n/).filter(tn=>tn.trim()!=="");if(j.length<9)return alert("CSV appears too short. Please ensure you are uploading the full Roster file."),[];const Y=8,X=4,ie=5,W=16,en=j.slice(Y).map(tn=>{const vi=tn.split(",");if(vi.length>=W+1){const un=vi[X].trim(),Xi=vi[ie].trim(),Fi=vi[W].trim();if(un&&Xi&&Fi)return{name:`${un} ${Xi}`,endTime:Fi,relieved:!1,supper:!1}}return null}).filter(tn=>tn!==null);return en.length===0?alert("Successfully read file, but extracted 0 valid staff entries. Check if column headers have shifted."):console.log(`Parsed ${en.length} Practitioners.`),en},kt=M=>{const j=M.target.files[0];if(!j)return;const Y=new FileReader;Y.onload=X=>{try{const ie=X.target.result,W=ct(ie);W.length>0?(r(W),alert(`Successfully imported ${W.length} practitioners from the roster.`)):W.length&&alert("An error occurred during file parsing or no valid data was found.")}catch(ie){console.error("Error reading file:",ie),alert("An error occurred during file processing.")}M.target.value=null},Y.readAsText(j)},gn=(M,j)=>M.filter(Y=>{const X=Y.endTime.replace(":",""),ie=parseInt(X,10);switch(j){case"Earlies":return ie>=900&&ie<=1700;case"17:30s":return X==="1730";case"18:30s":return X==="1830";case"Lates":return X==="2000";case"Nights":return X==="0800";case"All Staff":return!0;default:return!0}}),gt=ne.useMemo(()=>gn(l,ee),[l,ee]),et=(M,j)=>{r(Y=>Y.map(X=>X.name===M?{...X,[j]:!X[j]}:X))},qt=(M,j)=>{n(Y=>Y.map(X=>X.name===M?{...X,status:j}:X))},pt=M=>{const j=a.find(Y=>Y.name===M);v(j),m(!0)},Rt=(M,j)=>{const Y={name:j.name,currentOdp:j.currentOdp,theatreEta:j.theatreEta,practitionerEndTime:j.practitionerEndTime,nextPractitioner:j.nextPractitioner,phoneExtension:j.phoneExtension,status:j.isComplete==="Yes"?"Complete":"Running"};n(X=>X.map(ie=>ie.name===M?{...ie,...Y}:ie)),m(!1),v(null)},x=M=>{n(j=>j.map(Y=>Y.name===M?{...Y,currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running"}:Y)),m(!1),v(null)},k=()=>{window.confirm("Are you sure you want to clear ALL tiles back to the unallocated state? This cannot be undone.")&&(n(M=>M.map(j=>({...j,currentOdp:"",theatreEta:"",practitionerEndTime:"",nextPractitioner:"",status:"Not Running"}))),r(M=>M.map(j=>({...j,relieved:!1,supper:!1}))),Q(!0))},K=M=>{g(M)},de=ne.useMemo(()=>B?a:a.filter(M=>M.status==="Running"),[a,B]),Ee=de.slice(0,11),b=de.slice(11,22),L=de.slice(22,29),q=de.slice(29);return H.jsxs("div",{className:"dashboard-container",children:[H.jsxs("div",{className:"main-header",children:[H.jsxs("div",{className:"data-control-group-left",children:[H.jsxs("div",{className:"csv-upload-container",children:[H.jsx("label",{htmlFor:"csv-upload",className:"upload-label",children:"Upload Staff CSV "}),H.jsx("input",{type:"file",id:"csv-upload",accept:".csv",onChange:kt})]}),H.jsx("button",{className:"download-data-btn",onClick:ut,children:"Download State "}),H.jsxs("div",{className:"upload-data-container",children:[H.jsx("label",{htmlFor:"data-upload",className:"upload-data-label",children:"Upload State "}),H.jsx("input",{type:"file",id:"data-upload",accept:".json",onChange:se})]})]}),H.jsxs("div",{className:"header-content",children:[H.jsx("h1",{children:"ODP Dashboard"}),H.jsx("div",{className:"time-display",children:ye})]}),H.jsxs("div",{className:"button-group-right",children:[H.jsx("button",{className:"theme-toggle-btn",onClick:()=>f(u==="dark"?"light":"dark"),children:u==="dark"?"Light Mode":"Dark Mode"}),H.jsx("button",{className:"clear-all-btn",onClick:k,children:"Clear ALL Tiles"}),H.jsx("button",{className:"filter-toggle-btn",onClick:()=>Q(!B),children:B?"Show Only Running":"Show All Theatres"}),H.jsx("button",{className:"staff-panel-toggle-btn",onClick:()=>U(!S),children:S?"Hide Staff Overview":"Show Staff Overview"})]})]}),H.jsxs("div",{className:"theatre-grid-full-width",children:[H.jsxs("div",{className:"theatre-rows-wrapper",children:[H.jsx("div",{className:"theatre-row",children:Ee.map(M=>H.jsx(Ur,{...M,handleTileClick:pt,handleStatusToggle:qt,highlightSettings:h},M.name))}),H.jsx("div",{className:"theatre-row",children:b.map(M=>H.jsx(Ur,{...M,handleTileClick:pt,handleStatusToggle:qt,highlightSettings:h},M.name))}),H.jsx("div",{className:"theatre-row",children:L.map(M=>H.jsx(Ur,{...M,handleTileClick:pt,handleStatusToggle:qt,highlightSettings:h},M.name))}),H.jsx("div",{className:"theatre-row specialized-row",children:q.map(M=>H.jsx(Ur,{...M,handleTileClick:pt,handleStatusToggle:qt,highlightSettings:h},M.name))})]}),H.jsx("button",{className:"highlight-panel-toggle",onClick:()=>jt(!qe),children:qe?"Close Highlights":"Highlight Settings"}),qe&&H.jsxs("div",{className:"highlight-settings-panel",children:[H.jsx("h3",{children:"Highlight Settings"}),H.jsxs("label",{className:"highlight-option",children:[H.jsx("input",{type:"checkbox",checked:h.highlightEarlies,onChange:()=>K("highlightEarlies")}),"Highlight Earlies? (16:01)"]}),H.jsxs("label",{className:"highlight-option",children:[H.jsx("input",{type:"checkbox",checked:h.highlight1730s,onChange:()=>K("highlight1730s")}),"Highlight 17:30s?"]}),H.jsxs("label",{className:"highlight-option",children:[H.jsx("input",{type:"checkbox",checked:h.highlight1830s,onChange:()=>K("highlight1830s")}),"Highlight 18:30s?"]}),H.jsxs("label",{className:"highlight-option",children:[H.jsx("input",{type:"checkbox",checked:h.highlightLates,onChange:()=>K("highlightLates")}),"Highlight Lates? (20:00)"]})]}),S&&H.jsxs("div",{className:"staff-overview-popup",children:[H.jsxs("h2",{children:["Staffing Overview (",l.length," Total Staff)"]}),H.jsx("div",{className:"tab-navigation",children:["Earlies","17:30s","18:30s","Lates","Nights","All Staff"].map(M=>H.jsxs("button",{className:`tab-button ${ee===M?"active":""}`,onClick:()=>Re(M),children:[M," (",gn(l,M).length,")"]},M))}),H.jsxs("p",{className:"tab-info",children:["Showing staff with end time: ",ee," (",gt.length," staff)"]}),H.jsx("div",{className:"practitioner-list",children:gt.length>0?H.jsx("ul",{children:gt.map((M,j)=>{const Y=M.endTime.replace(":",""),X=parseInt(Y,10),ie=X>=900&&X<=1700,W=Y==="1730",jn=Y==="2000",en=ee==="Earlies"||ee==="17:30s"||ee==="All Staff"&&(ie||W),tn=ee==="Lates"||ee==="All Staff"&&jn;return H.jsxs("li",{className:"practitioner-item",children:[H.jsx("div",{className:"practitioner-info",children:H.jsxs("span",{className:M.relieved&&en?"relieved-name":"",children:[M.name," (End Time: ",M.endTime,")"]})}),en&&H.jsxs("label",{className:"checkbox-label",children:[H.jsx("input",{type:"checkbox",checked:M.relieved||!1,onChange:()=>et(M.name,"relieved")}),"Relieved?"]}),tn&&H.jsxs("label",{className:"checkbox-label",children:[H.jsx("input",{type:"checkbox",checked:M.supper||!1,onChange:()=>et(M.name,"supper")}),"Supper?"]})]},j)})}):H.jsx("p",{children:"No staff loaded for this time category, or please upload a CSV roster."})}),H.jsx("button",{onClick:()=>U(!1),children:"Close"})]})]}),_&&T&&H.jsx(d0,{theatre:T,onClose:()=>m(!1),onSave:Rt,onReset:x,practitionerList:l})]})};function MC(){return H.jsx("div",{className:"App",children:H.jsx(xC,{})})}c0.createRoot(document.getElementById("root")).render(H.jsx(ne.StrictMode,{children:H.jsx(MC,{})}));
